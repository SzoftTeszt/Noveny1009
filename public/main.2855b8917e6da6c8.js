"use strict";(self.webpackChunkNoveny=self.webpackChunkNoveny||[]).push([[179],{6304:(st,we,R)=>{R.d(we,{Dh:()=>Me,GT:()=>de,cc:()=>Ae,hO:()=>Be,on:()=>V,pX:()=>se,xv:()=>ue});var c=R(5879),Q=R(120),x=R(2793);st=R.hmd(st);const ne=["ngOnDestroy"],se=(xe,at,lt,oe={})=>new Proxy(xe,{get:(me,re)=>lt.runOutsideAngular(()=>{var Ee;if(xe[re])return!(null===(Ee=oe?.spy)||void 0===Ee)&&Ee.get&&oe.spy.get(re,xe[re]),xe[re];if(ne.indexOf(re)>-1)return()=>{};const Pe=at.toPromise().then(ae=>{const Z=ae&&ae[re];return"function"==typeof Z?Z.bind(ae):Z&&Z.then?Z.then(je=>lt.run(()=>je)):lt.run(()=>Z)});return new Proxy(()=>{},{get:(ae,Z)=>Pe[Z],apply:(ae,Z,je)=>Pe.then(dt=>{var zt;const ln=dt&&dt(...je);return!(null===(zt=oe?.spy)||void 0===zt)&&zt.apply&&oe.spy.apply(re,je,ln),ln})})})}),de=(xe,at)=>{at.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(oe=>{Object.defineProperty(xe.prototype,oe,Object.getOwnPropertyDescriptor(lt.prototype||lt,oe))})})};class ve{constructor(at){return at}}const Me=new c.OlP("angularfire2.app.options"),ue=new c.OlP("angularfire2.app.name");function V(xe,at,lt){const me="object"==typeof lt&&lt||{};me.name=me.name||"string"==typeof lt&&lt||"[DEFAULT]";const Ee=Q.Z.apps.filter(Pe=>Pe&&Pe.name===me.name)[0]||at.runOutsideAngular(()=>Q.Z.initializeApp(xe,me));try{JSON.stringify(xe)!==JSON.stringify(Ee.options)&&$("error",`${Ee.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Ee)}const $=(xe,...at)=>{(0,c.X6Q)()&&typeof console<"u"&&console[xe](...at)},ie={provide:ve,useFactory:V,deps:[Me,c.R0b,[new c.FiY,ue]]};let Be=(()=>{class xe{constructor(lt){Q.Z.registerVersion("angularfire",x.q4.full,"core"),Q.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,lt.toString())}static initializeApp(lt,oe){return{ngModule:xe,providers:[{provide:Me,useValue:lt},{provide:ue,useValue:oe}]}}}return xe.\u0275fac=function(lt){return new(lt||xe)(c.LFG(c.Lbi))},xe.\u0275mod=c.oAB({type:xe}),xe.\u0275inj=c.cJS({providers:[ie]}),xe})();function Ae(xe,at,lt,oe,me){const[,re,Ee]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===xe)||[];if(re)return function We(xe,at){try{return xe.toString()===at.toString()}catch{return xe===at}}(me,Ee)||(Ze("error",`${at} was already initialized on the ${lt} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:me,was:Ee})),re;{const Pe=oe();return globalThis.\u0275AngularfireInstanceCache.push([xe,Pe,me]),Pe}}const ke=!!st.hot,Ze=(xe,...at)=>{(0,c.X6Q)()&&typeof console<"u"&&console[xe](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(st,we,R)=>{R.d(we,{q4:()=>Ga,iC:()=>co,HU:()=>Xc,vb:()=>Jh,JM:()=>lo});var c=R(5879),Q=R(4097),x=R(5861),ne=R(4303),se=R(9058),de=R(4537),ve=R(7879);const Me=(D,C)=>C.some(A=>D instanceof A);let ue,V;const Be=new WeakMap,Ae=new WeakMap,We=new WeakMap,ke=new WeakMap,Ze=new WeakMap;let lt={get(D,C,A){if(D instanceof IDBTransaction){if("done"===C)return Ae.get(D);if("objectStoreNames"===C)return D.objectStoreNames||We.get(D);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Ee(D[C])},set:(D,C,A)=>(D[C]=A,!0),has:(D,C)=>D instanceof IDBTransaction&&("done"===C||"store"===C)||C in D};function re(D){return"function"==typeof D?function me(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...C){return D.apply(Pe(this),C),Ee(Be.get(this))}:function(...C){return Ee(D.apply(Pe(this),C))}:function(C,...A){const k=D.call(Pe(this),C,...A);return We.set(k,C.sort?C.sort():[C]),Ee(k)}}(D):(D instanceof IDBTransaction&&function at(D){if(Ae.has(D))return;const C=new Promise((A,k)=>{const Y=()=>{D.removeEventListener("complete",ee),D.removeEventListener("error",ge),D.removeEventListener("abort",ge)},ee=()=>{A(),Y()},ge=()=>{k(D.error||new DOMException("AbortError","AbortError")),Y()};D.addEventListener("complete",ee),D.addEventListener("error",ge),D.addEventListener("abort",ge)});Ae.set(D,C)}(D),Me(D,function $(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,lt):D)}function Ee(D){if(D instanceof IDBRequest)return function xe(D){const C=new Promise((A,k)=>{const Y=()=>{D.removeEventListener("success",ee),D.removeEventListener("error",ge)},ee=()=>{A(Ee(D.result)),Y()},ge=()=>{k(D.error),Y()};D.addEventListener("success",ee),D.addEventListener("error",ge)});return C.then(A=>{A instanceof IDBCursor&&Be.set(A,D)}).catch(()=>{}),Ze.set(C,D),C}(D);if(ke.has(D))return ke.get(D);const C=re(D);return C!==D&&(ke.set(D,C),Ze.set(C,D)),C}const Pe=D=>Ze.get(D),je=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],zt=new Map;function ln(D,C){if(!(D instanceof IDBDatabase)||C in D||"string"!=typeof C)return;if(zt.get(C))return zt.get(C);const A=C.replace(/FromIndex$/,""),k=C!==A,Y=dt.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!Y&&!je.includes(A))return;const ee=function(){var ge=(0,x.Z)(function*(Qe,...Ke){const ht=this.transaction(Qe,Y?"readwrite":"readonly");let It=ht.store;return k&&(It=It.index(Ke.shift())),(yield Promise.all([It[A](...Ke),Y&&ht.done]))[0]});return function(Ke){return ge.apply(this,arguments)}}();return zt.set(C,ee),ee}!function oe(D){lt=D(lt)}(D=>({...D,get:(C,A,k)=>ln(C,A)||D.get(C,A,k),has:(C,A)=>!!ln(C,A)||D.has(C,A)}));const sn="@firebase/installations",fn="0.6.4",pn=1e4,$n=`w:${fn}`,le="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",pe=36e5,Je=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function gn({projectId:D}){return`${he}/projects/${D}/installations`}function mt(D){return{token:D.token,requestStatus:2,expiresIn:q(D.expiresIn),creationTime:Date.now()}}function jt(D,C){return ct.apply(this,arguments)}function ct(){return(ct=(0,x.Z)(function*(D,C){const k=(yield C.json()).error;return Je.create("request-failed",{requestName:D,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function nn({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function In(D){return K.apply(this,arguments)}function K(){return(K=(0,x.Z)(function*(D){const C=yield D();return C.status>=500&&C.status<600?D():C})).apply(this,arguments)}function q(D){return Number(D.replace("s","000"))}function Ve(){return(Ve=(0,x.Z)(function*({appConfig:D,heartbeatServiceProvider:C},{fid:A}){const k=gn(D),Y=nn(D),ee=C.getImmediate({optional:!0});if(ee){const ht=yield ee.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Qe={method:"POST",headers:Y,body:JSON.stringify({fid:A,authVersion:le,appId:D.appId,sdkVersion:$n})},Ke=yield In(()=>fetch(k,Qe));if(Ke.ok){const ht=yield Ke.json();return{fid:ht.fid||A,registrationStatus:2,refreshToken:ht.refreshToken,authToken:mt(ht.authToken)}}throw yield jt("Create Installation",Ke)})).apply(this,arguments)}function Xe(D){return new Promise(C=>{setTimeout(C,D)})}const Yt=/^[cdef][\w-]{21}$/,qe="";function ot(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const A=function yt(D){return function un(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Yt.test(A)?A:qe}catch{return qe}}function Zt(D){return`${D.appName}!${D.appId}`}const on=new Map;function Tn(D,C){const A=Zt(D);an(A,C),function xt(D,C){const A=function Ht(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=D=>{an(D.data.key,D.data.fid)}),Xn}();A&&A.postMessage({key:D,fid:C}),function vi(){0===on.size&&Xn&&(Xn.close(),Xn=null)}()}(A,C)}function an(D,C){const A=on.get(D);if(A)for(const k of A)k(C)}let Xn=null;const Ar="firebase-installations-database",Gr=1,yi="firebase-installations-store";let Nr=null;function De(){return Nr||(Nr=function ae(D,C,{blocked:A,upgrade:k,blocking:Y,terminated:ee}={}){const ge=indexedDB.open(D,C),Qe=Ee(ge);return k&&ge.addEventListener("upgradeneeded",Ke=>{k(Ee(ge.result),Ke.oldVersion,Ke.newVersion,Ee(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),Qe.then(Ke=>{ee&&Ke.addEventListener("close",()=>ee()),Y&&Ke.addEventListener("versionchange",()=>Y())}).catch(()=>{}),Qe}(Ar,Gr,{upgrade:(D,C)=>{0===C&&D.createObjectStore(yi)}})),Nr}function G(D,C){return ye.apply(this,arguments)}function ye(){return(ye=(0,x.Z)(function*(D,C){const A=Zt(D),Y=(yield De()).transaction(yi,"readwrite"),ee=Y.objectStore(yi),ge=yield ee.get(A);return yield ee.put(C,A),yield Y.done,(!ge||ge.fid!==C.fid)&&Tn(D,C.fid),C})).apply(this,arguments)}function ze(D){return et.apply(this,arguments)}function et(){return(et=(0,x.Z)(function*(D){const C=Zt(D),k=(yield De()).transaction(yi,"readwrite");yield k.objectStore(yi).delete(C),yield k.done})).apply(this,arguments)}function _t(D,C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,x.Z)(function*(D,C){const A=Zt(D),Y=(yield De()).transaction(yi,"readwrite"),ee=Y.objectStore(yi),ge=yield ee.get(A),Qe=C(ge);return void 0===Qe?yield ee.delete(A):yield ee.put(Qe,A),yield Y.done,Qe&&(!ge||ge.fid!==Qe.fid)&&Tn(D,Qe.fid),Qe})).apply(this,arguments)}function j(D){return U.apply(this,arguments)}function U(){return U=(0,x.Z)(function*(D){let C;const A=yield _t(D.appConfig,k=>{const Y=function J(D){return Ot(D||{fid:ot(),registrationStatus:0})}(k),ee=function Ie(D,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Je.create("app-offline"))};const A={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},k=function ce(D,C){return it.apply(this,arguments)}(D,A);return{installationEntry:A,registrationPromise:k}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:St(D)}:{installationEntry:C}}(D,Y);return C=ee.registrationPromise,ee.installationEntry});return A.fid===qe?{installationEntry:yield C}:{installationEntry:A,registrationPromise:C}}),U.apply(this,arguments)}function it(){return it=(0,x.Z)(function*(D,C){try{const A=yield function Te(D,C){return Ve.apply(this,arguments)}(D,C);return G(D.appConfig,A)}catch(A){throw Ge(A)&&409===A.customData.serverCode?yield ze(D.appConfig):yield G(D.appConfig,{fid:C.fid,registrationStatus:0}),A}}),it.apply(this,arguments)}function St(D){return Et.apply(this,arguments)}function Et(){return(Et=(0,x.Z)(function*(D){let C=yield bi(D.appConfig);for(;1===C.registrationStatus;)yield Xe(100),C=yield bi(D.appConfig);if(0===C.registrationStatus){const{installationEntry:A,registrationPromise:k}=yield j(D);return k||A}return C})).apply(this,arguments)}function bi(D){return _t(D,C=>{if(!C)throw Je.create("installation-not-found");return Ot(C)})}function Ot(D){return function Gn(D){return 1===D.registrationStatus&&D.registrationTime+pn<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ci(){return(ci=(0,x.Z)(function*({appConfig:D,heartbeatServiceProvider:C},A){const k=function vs(D,{fid:C}){return`${gn(D)}/${C}/authTokens:generate`}(D,A),Y=function cn(D,{refreshToken:C}){const A=nn(D);return A.append("Authorization",function fe(D){return`${le} ${D}`}(C)),A}(D,A),ee=C.getImmediate({optional:!0});if(ee){const ht=yield ee.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Qe={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:$n,appId:D.appId}})},Ke=yield In(()=>fetch(k,Qe));if(Ke.ok)return mt(yield Ke.json());throw yield jt("Generate Auth Token",Ke)})).apply(this,arguments)}function Io(D){return _c.apply(this,arguments)}function _c(){return _c=(0,x.Z)(function*(D,C=!1){let A;const k=yield _t(D.appConfig,ee=>{if(!bs(ee))throw Je.create("not-registered");const ge=ee.authToken;if(!C&&function To(D){return 2===D.requestStatus&&!function Da(D){const C=Date.now();return C<D.creationTime||D.creationTime+D.expiresIn<C+pe}(D)}(ge))return ee;if(1===ge.requestStatus)return A=function Mr(D,C){return ys.apply(this,arguments)}(D,C),ee;{if(!navigator.onLine)throw Je.create("app-offline");const Qe=function zu(D){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:C})}(ee);return A=function _r(D,C){return $t.apply(this,arguments)}(D,Qe),Qe}});return A?yield A:k.authToken}),_c.apply(this,arguments)}function ys(){return(ys=(0,x.Z)(function*(D,C){let A=yield mr(D.appConfig);for(;1===A.authToken.requestStatus;)yield Xe(100),A=yield mr(D.appConfig);const k=A.authToken;return 0===k.requestStatus?Io(D,C):k})).apply(this,arguments)}function mr(D){return _t(D,C=>{if(!bs(C))throw Je.create("not-registered");return function Or(D){return 1===D.requestStatus&&D.requestTime+pn<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function $t(){return $t=(0,x.Z)(function*(D,C){try{const A=yield function Kt(D,C){return ci.apply(this,arguments)}(D,C),k=Object.assign(Object.assign({},C),{authToken:A});return yield G(D.appConfig,k),A}catch(A){if(!Ge(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const k=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield G(D.appConfig,k)}else yield ze(D.appConfig);throw A}}),$t.apply(this,arguments)}function bs(D){return void 0!==D&&2===D.registrationStatus}function Ao(){return(Ao=(0,x.Z)(function*(D){const C=D,{installationEntry:A,registrationPromise:k}=yield j(C);return k?k.catch(console.error):Io(C).catch(console.error),A.fid})).apply(this,arguments)}function wa(){return wa=(0,x.Z)(function*(D,C=!1){const A=D;return yield function yc(D){return er.apply(this,arguments)}(A),(yield Io(A,C)).token}),wa.apply(this,arguments)}function er(){return(er=(0,x.Z)(function*(D){const{registrationPromise:C}=yield j(D);C&&(yield C)})).apply(this,arguments)}function No(D){return Je.create("missing-app-config-values",{valueName:D})}const Dc="installations",Lp=D=>{const C=D.getProvider("app").getImmediate(),A=function xi(D){if(!D||!D.options)throw No("App Configuration");if(!D.name)throw No("App Name");const C=["projectId","apiKey","appId"];for(const A of C)if(!D.options[A])throw No(A);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(C);return{app:C,appConfig:A,heartbeatServiceProvider:(0,ne.qX)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Gs=D=>{const C=D.getProvider("app").getImmediate(),A=(0,ne.qX)(C,Dc).getImmediate();return{getId:()=>function So(D){return Ao.apply(this,arguments)}(A),getToken:Y=>function vc(D){return wa.apply(this,arguments)}(A,Y)}};(function Zu(){(0,ne.Xd)(new de.wA(Dc,Lp,"PUBLIC")),(0,ne.Xd)(new de.wA("installations-internal",Gs,"PRIVATE"))})(),(0,ne.KN)(sn,fn),(0,ne.KN)(sn,fn,"esm2017");const Mo="@firebase/remote-config",Di=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bt{constructor(C,A,k,Y){this.client=C,this.storage=A,this.storageCache=k,this.logger=Y}isCachedDataFresh(C,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-A,Y=k<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var A=this;return(0,x.Z)(function*(){const[k,Y]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(Y&&A.isCachedDataFresh(C.cacheMaxAgeMillis,k))return Y;C.eTag=Y&&Y.eTag;const ee=yield A.client.fetch(C),ge=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&ge.push(A.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(ge),ee})()}}function An(D=navigator){return D.languages&&D.languages[0]||D.language}class Ai{constructor(C,A,k,Y,ee,ge){this.firebaseInstallations=C,this.sdkVersion=A,this.namespace=k,this.projectId=Y,this.apiKey=ee,this.appId=ge}fetch(C){var A=this;return(0,x.Z)(function*(){const[k,Y]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Ke={sdk_version:A.sdkVersion,app_instance_id:k,app_instance_id_token:Y,app_id:A.appId,language_code:An()},ht={method:"POST",headers:Qe,body:JSON.stringify(Ke)},It=fetch(ge,ht),At=new Promise((Ci,ts)=>{C.signal.addEventListener(()=>{const zi=new Error("The operation was aborted.");zi.name="AbortError",ts(zi)})});let Jn;try{yield Promise.race([It,At]),Jn=yield It}catch(Ci){let ts="fetch-client-network";throw"AbortError"===Ci?.name&&(ts="fetch-timeout"),Di.create(ts,{originalErrorMessage:Ci?.message})}let Bn=Jn.status;const Os=Jn.headers.get("ETag")||void 0;let Vn,ho;if(200===Jn.status){let Ci;try{Ci=yield Jn.json()}catch(ts){throw Di.create("fetch-client-parse",{originalErrorMessage:ts?.message})}Vn=Ci.entries,ho=Ci.state}if("INSTANCE_STATE_UNSPECIFIED"===ho?Bn=500:"NO_CHANGE"===ho?Bn=304:("NO_TEMPLATE"===ho||"EMPTY_CONFIG"===ho)&&(Vn={}),304!==Bn&&200!==Bn)throw Di.create("fetch-status",{httpStatus:Bn});return{status:Bn,eTag:Os,config:Vn}})()}}class Ia{constructor(C,A){this.client=C,this.storage=A}fetch(C){var A=this;return(0,x.Z)(function*(){const k=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(C,k)})()}attemptFetch(C,{throttleEndTimeMillis:A,backoffCount:k}){var Y=this;return(0,x.Z)(function*(){yield function Ws(D,C){return new Promise((A,k)=>{const Y=Math.max(C-Date.now(),0),ee=setTimeout(A,Y);D.addEventListener(()=>{clearTimeout(ee),k(Di.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,A);try{const ee=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function ui(D){if(!(D instanceof se.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ee))throw ee;const ge={throttleEndTimeMillis:Date.now()+(0,se.$s)(k),backoffCount:k+1};return yield Y.storage.setThrottleMetadata(ge),Y.attemptFetch(C,ge)}})()}}class Ro{constructor(C,A,k,Y,ee){this.app=C,this._client=A,this._storageCache=k,this._storage=Y,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dt(D,C){const A=D.target.error||void 0;return Di.create(C,{originalErrorMessage:A&&A?.message})}const di="app_namespace_store";class Ic{constructor(C,A,k,Y=function Nn(){return new Promise((D,C)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=k=>{C(Dt(k,"storage-open"))},A.onsuccess=k=>{D(k.target.result)},A.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(di,{keyPath:"compositeKey"})}}catch(A){C(Di.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=C,this.appName=A,this.namespace=k,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((Y,ee)=>{const Qe=k.transaction([di],"readonly").objectStore(di),Ke=A.createCompositeKey(C);try{const ht=Qe.get(Ke);ht.onerror=It=>{ee(Dt(It,"storage-get"))},ht.onsuccess=It=>{const At=It.target.result;Y(At?At.value:void 0)}}catch(ht){ee(Di.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(C,A){var k=this;return(0,x.Z)(function*(){const Y=yield k.openDbPromise;return new Promise((ee,ge)=>{const Ke=Y.transaction([di],"readwrite").objectStore(di),ht=k.createCompositeKey(C);try{const It=Ke.put({compositeKey:ht,value:A});It.onerror=At=>{ge(Dt(At,"storage-set"))},It.onsuccess=()=>{ee()}}catch(It){ge(Di.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(C){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((Y,ee)=>{const Qe=k.transaction([di],"readwrite").objectStore(di),Ke=A.createCompositeKey(C);try{const ht=Qe.delete(Ke);ht.onerror=It=>{ee(Dt(It,"storage-delete"))},ht.onsuccess=()=>{Y()}}catch(ht){ee(Di.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class zs{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,x.Z)(function*(){const A=C.storage.getLastFetchStatus(),k=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),ee=yield A;ee&&(C.lastFetchStatus=ee);const ge=yield k;ge&&(C.lastSuccessfulFetchTimestampMillis=ge);const Qe=yield Y;Qe&&(C.activeConfig=Qe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Cs(){return rr.apply(this,arguments)}function rr(){return(rr=(0,x.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function ei(){(0,ne.Xd)(new de.wA("remote-config",function D(C,{instanceIdentifier:A}){const k=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Di.create("registration-window");if(!(0,se.hl)())throw Di.create("indexed-db-unavailable");const{projectId:ee,apiKey:ge,appId:Qe}=k.options;if(!ee)throw Di.create("registration-project-id");if(!ge)throw Di.create("registration-api-key");if(!Qe)throw Di.create("registration-app-id");const Ke=new Ic(Qe,k.name,A=A||"firebase"),ht=new zs(Ke),It=new ve.Yd(Mo);It.logLevel=ve.in.ERROR;const At=new Ai(Y,ne.Jn,A,ee,ge,Qe),Jn=new Ia(At,Ke),Bn=new bt(Jn,Ke,ht,It),Os=new Ro(k,Bn,ht,Ke,It);return function Ti(D){const C=(0,se.m9)(D);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Os),Os},"PUBLIC").setMultipleInstances(!0)),(0,ne.KN)(Mo,"0.4.4"),(0,ne.KN)(Mo,"0.4.4","esm2017")}();const Ta=(D,C)=>C.some(A=>D instanceof A);let Is,Rt;const bl=new WeakMap,ti=new WeakMap,Ys=new WeakMap,ni=new WeakMap,Ts=new WeakMap;let ii={get(D,C,A){if(D instanceof IDBTransaction){if("done"===C)return ti.get(D);if("objectStoreNames"===C)return D.objectStoreNames||Ys.get(D);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return $i(D[C])},set:(D,C,A)=>(D[C]=A,!0),has:(D,C)=>D instanceof IDBTransaction&&("done"===C||"store"===C)||C in D};function Zs(D){return"function"==typeof D?function Dl(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xo(){return Rt||(Rt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...C){return D.apply(Pi(this),C),$i(bl.get(this))}:function(...C){return $i(D.apply(Pi(this),C))}:function(C,...A){const k=D.call(Pi(this),C,...A);return Ys.set(k,C.sort?C.sort():[C]),$i(k)}}(D):(D instanceof IDBTransaction&&function kh(D){if(ti.has(D))return;const C=new Promise((A,k)=>{const Y=()=>{D.removeEventListener("complete",ee),D.removeEventListener("error",ge),D.removeEventListener("abort",ge)},ee=()=>{A(),Y()},ge=()=>{k(D.error||new DOMException("AbortError","AbortError")),Y()};D.addEventListener("complete",ee),D.addEventListener("error",ge),D.addEventListener("abort",ge)});ti.set(D,C)}(D),Ta(D,function Bp(){return Is||(Is=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,ii):D)}function $i(D){if(D instanceof IDBRequest)return function hi(D){const C=new Promise((A,k)=>{const Y=()=>{D.removeEventListener("success",ee),D.removeEventListener("error",ge)},ee=()=>{A($i(D.result)),Y()},ge=()=>{k(D.error),Y()};D.addEventListener("success",ee),D.addEventListener("error",ge)});return C.then(A=>{A instanceof IDBCursor&&bl.set(A,D)}).catch(()=>{}),Ts.set(C,D),C}(D);if(ni.has(D))return ni.get(D);const C=Zs(D);return C!==D&&(ni.set(D,C),Ts.set(C,D)),C}const Pi=D=>Ts.get(D);function Po(D,C,{blocked:A,upgrade:k,blocking:Y,terminated:ee}={}){const ge=indexedDB.open(D,C),Qe=$i(ge);return k&&ge.addEventListener("upgradeneeded",Ke=>{k($i(ge.result),Ke.oldVersion,Ke.newVersion,$i(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),Qe.then(Ke=>{ee&&Ke.addEventListener("close",()=>ee()),Y&&Ke.addEventListener("versionchange",()=>Y())}).catch(()=>{}),Qe}function ko(D,{blocked:C}={}){const A=indexedDB.deleteDatabase(D);return C&&A.addEventListener("blocked",()=>C()),$i(A).then(()=>{})}const Tc=["get","getKey","getAll","getAllKeys","count"],Vp=["put","add","delete","clear"],wl=new Map;function Sc(D,C){if(!(D instanceof IDBDatabase)||C in D||"string"!=typeof C)return;if(wl.get(C))return wl.get(C);const A=C.replace(/FromIndex$/,""),k=C!==A,Y=Vp.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!Y&&!Tc.includes(A))return;const ee=function(){var ge=(0,x.Z)(function*(Qe,...Ke){const ht=this.transaction(Qe,Y?"readwrite":"readonly");let It=ht.store;return k&&(It=It.index(Ke.shift())),(yield Promise.all([It[A](...Ke),Y&&ht.done]))[0]});return function(Ke){return ge.apply(this,arguments)}}();return wl.set(C,ee),ee}!function wi(D){ii=D(ii)}(D=>({...D,get:(C,A,k)=>Sc(C,A)||D.get(C,A,k),has:(C,A)=>!!Sc(C,A)||D.has(C,A)}));const Ju="/firebase-messaging-sw.js",Ac="/firebase-cloud-messaging-push-scope",Qu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Up="https://fcmregistrations.googleapis.com/v1",Mn="google.c.a.c_id",jp="google.c.a.c_l",Fh="google.c.a.ts";var Xu=function(D){return D.PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",D}(Xu||{});function Zr(D){const C=new Uint8Array(D);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nc(D){const A=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(A),Y=new Uint8Array(k.length);for(let ee=0;ee<k.length;++ee)Y[ee]=k.charCodeAt(ee);return Y}const Fo="fcm_token_details_db",Mc=5,Sa="fcm_token_object_Store";function Aa(){return Aa=(0,x.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(Fo))return null;let C=null;return(yield Po(Fo,Mc,{upgrade:(k=(0,x.Z)(function*(Y,ee,ge,Qe){var Ke;if(ee<2||!Y.objectStoreNames.contains(Sa))return;const ht=Qe.objectStore(Sa),It=yield ht.index("fcmSenderId").get(D);if(yield ht.clear(),It)if(2===ee){const At=It;if(!At.auth||!At.p256dh||!At.endpoint)return;C={token:At.fcmToken,createTime:null!==(Ke=At.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:Zr(At.vapidKey)}}}else if(3===ee){const At=It;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Zr(At.auth),p256dh:Zr(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Zr(At.vapidKey)}}}else if(4===ee){const At=It;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Zr(At.auth),p256dh:Zr(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Zr(At.vapidKey)}}}}),function(ee,ge,Qe,Ke){return k.apply(this,arguments)})})).close(),yield ko(Fo),yield ko("fcm_vapid_details_db"),yield ko("undefined"),function Ks(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:C}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var k}),Aa.apply(this,arguments)}const Rr="firebase-messaging-database",ed=1,sr="firebase-messaging-store";let Yn=null;function qs(){return Yn||(Yn=Po(Rr,ed,{upgrade:(D,C)=>{0===C&&D.createObjectStore(sr)}})),Yn}function ki(D){return Js.apply(this,arguments)}function Js(){return Js=(0,x.Z)(function*(D){const C=Ma(D),k=yield(yield qs()).transaction(sr).objectStore(sr).get(C);if(k)return k;{const Y=yield function g_(D){return Aa.apply(this,arguments)}(D.appConfig.senderId);if(Y)return yield Oc(D,Y),Y}}),Js.apply(this,arguments)}function Oc(D,C){return Na.apply(this,arguments)}function Na(){return(Na=(0,x.Z)(function*(D,C){const A=Ma(D),Y=(yield qs()).transaction(sr,"readwrite");return yield Y.objectStore(sr).put(C,A),yield Y.done,C})).apply(this,arguments)}function Lo(){return(Lo=(0,x.Z)(function*(D){const C=Ma(D),k=(yield qs()).transaction(sr,"readwrite");yield k.objectStore(sr).delete(C),yield k.done})).apply(this,arguments)}function Ma({appConfig:D}){return D.appId}const ri=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rc(D,C){return xc.apply(this,arguments)}function xc(){return(xc=(0,x.Z)(function*(D,C){const A=yield id(D),k=Hp(C),Y={method:"POST",headers:A,body:JSON.stringify(k)};let ee;try{ee=yield(yield fetch(Ra(D.appConfig),Y)).json()}catch(ge){throw ri.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(ee.error)throw ri.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw ri.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Oa(){return(Oa=(0,x.Z)(function*(D,C){const A=yield id(D),k=Hp(C.subscriptionOptions),Y={method:"PATCH",headers:A,body:JSON.stringify(k)};let ee;try{ee=yield(yield fetch(`${Ra(D.appConfig)}/${C.token}`,Y)).json()}catch(ge){throw ri.create("token-update-failed",{errorInfo:ge?.toString()})}if(ee.error)throw ri.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw ri.create("token-update-no-token");return ee.token})).apply(this,arguments)}function Qs(D,C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,x.Z)(function*(D,C){const k={method:"DELETE",headers:yield id(D)};try{const ee=yield(yield fetch(`${Ra(D.appConfig)}/${C}`,k)).json();if(ee.error)throw ri.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(Y){throw ri.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function Ra({projectId:D}){return`${Up}/projects/${D}/registrations`}function id(D){return El.apply(this,arguments)}function El(){return(El=(0,x.Z)(function*({appConfig:D,installations:C}){const A=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Hp({p256dh:D,auth:C,endpoint:A,vapidKey:k}){const Y={web:{endpoint:A,auth:C,p256dh:D}};return k!==Qu&&(Y.web.applicationPubKey=k),Y}const rd=6048e5;function kc(){return kc=(0,x.Z)(function*(D){const C=yield function xa(D,C){return Fc.apply(this,arguments)}(D.swRegistration,D.vapidKey),A={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:C.endpoint,auth:Zr(C.getKey("auth")),p256dh:Zr(C.getKey("p256dh"))},k=yield ki(D.firebaseDependencies);if(k){if(function od(D,C){return C.vapidKey===D.vapidKey&&C.endpoint===D.endpoint&&C.auth===D.auth&&C.p256dh===D.p256dh}(k.subscriptionOptions,A))return Date.now()>=k.createTime+rd?function Bh(D,C){return Bo.apply(this,arguments)}(D,{token:k.token,createTime:Date.now(),subscriptionOptions:A}):k.token;try{yield Qs(D.firebaseDependencies,k.token)}catch(Y){console.warn(Y)}return Gp(D.firebaseDependencies,A)}return Gp(D.firebaseDependencies,A)}),kc.apply(this,arguments)}function Cl(){return Cl=(0,x.Z)(function*(D){const C=yield ki(D.firebaseDependencies);C&&(yield Qs(D.firebaseDependencies,C.token),yield function td(D){return Lo.apply(this,arguments)}(D.firebaseDependencies));const A=yield D.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Cl.apply(this,arguments)}function Bo(){return Bo=(0,x.Z)(function*(D,C){try{const A=yield function Pc(D,C){return Oa.apply(this,arguments)}(D.firebaseDependencies,C),k=Object.assign(Object.assign({},C),{token:A,createTime:Date.now()});return yield Oc(D.firebaseDependencies,k),A}catch(A){throw yield function sd(D){return Cl.apply(this,arguments)}(D),A}}),Bo.apply(this,arguments)}function Gp(D,C){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,x.Z)(function*(D,C){const k={token:yield Rc(D,C),createTime:Date.now(),subscriptionOptions:C};return yield Oc(D,k),k.token})).apply(this,arguments)}function Fc(){return(Fc=(0,x.Z)(function*(D,C){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nc(C)})})).apply(this,arguments)}function Il(D){const C={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Pa(D,C){if(!C.notification)return;D.notification={};const A=C.notification.title;A&&(D.notification.title=A);const k=C.notification.body;k&&(D.notification.body=k);const Y=C.notification.image;Y&&(D.notification.image=Y);const ee=C.notification.icon;ee&&(D.notification.icon=ee)}(C,D),function Vh(D,C){C.data&&(D.data=C.data)}(C,D),function Lc(D,C){var A,k,Y,ee,ge;if(!(C.fcmOptions||null!==(A=C.notification)&&void 0!==A&&A.click_action))return;D.fcmOptions={};const Qe=null!==(Y=null===(k=C.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==Y?Y:null===(ee=C.notification)||void 0===ee?void 0:ee.click_action;Qe&&(D.fcmOptions.link=Qe);const Ke=null===(ge=C.fcmOptions)||void 0===ge?void 0:ge.analytics_label;Ke&&(D.fcmOptions.analyticsLabel=Ke)}(C,D),C}function Bc(D,C){const A=[];for(let k=0;k<D.length;k++)A.push(D.charAt(k)),k<C.length&&A.push(C.charAt(k));return A.join("")}function Vc(D){return ri.create("missing-app-config-values",{valueName:D})}Bc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jh{constructor(C,A,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Uh(D){if(!D||!D.options)throw Vc("App Configuration Object");if(!D.name)throw Vc("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:A}=D;for(const k of C)if(!A[k])throw Vc(k);return{appName:D.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:A,analyticsProvider:k}}_delete(){return Promise.resolve()}}function ka(){return(ka=(0,x.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ju,{scope:Ac}),D.swRegistration.update().catch(()=>{})}catch(C){throw ri.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Xs(){return(Xs=(0,x.Z)(function*(D,C){if(!C&&!D.swRegistration&&(yield function Tl(D){return ka.apply(this,arguments)}(D)),C||!D.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw ri.create("invalid-sw-registration");D.swRegistration=C}})).apply(this,arguments)}function eo(){return(eo=(0,x.Z)(function*(D,C){C?D.vapidKey=C:D.vapidKey||(D.vapidKey=Qu)})).apply(this,arguments)}function Fa(){return Fa=(0,x.Z)(function*(D,C){if(!navigator)throw ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ri.create("permission-blocked");return yield function xr(D,C){return eo.apply(this,arguments)}(D,C?.vapidKey),yield function Hh(D,C){return Xs.apply(this,arguments)}(D,C?.serviceWorkerRegistration),function $p(D){return kc.apply(this,arguments)}(D)}),Fa.apply(this,arguments)}function yr(){return(yr=(0,x.Z)(function*(D,C,A){const k=function ld(D){switch(D){case Xu.NOTIFICATION_CLICKED:return"notification_open";case Xu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:A[Mn],message_name:A[jp],message_time:A[Fh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xt(){return Xt=(0,x.Z)(function*(D,C){const A=C.data;if(!A.isFirebaseMessaging)return;D.onMessageHandler&&A.messageType===Xu.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Il(A)):D.onMessageHandler.next(Il(A)));const k=A.data;(function Wp(D){return"object"==typeof D&&!!D&&Mn in D})(k)&&"1"===k["google.c.a.e"]&&(yield function $h(D,C,A){return yr.apply(this,arguments)}(D,A.messageType,k))}),Xt.apply(this,arguments)}const to="@firebase/messaging",fi=D=>{const C=new jh(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function cd(D,C){return Xt.apply(this,arguments)}(C,A)),C},Gh=D=>{const C=D.getProvider("messaging").getImmediate();return{getToken:k=>function ad(D,C){return Fa.apply(this,arguments)}(C,k)}};function io(){return pi.apply(this,arguments)}function pi(){return(pi=(0,x.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Uc(){(0,ne.Xd)(new de.wA("messaging",fi,"PUBLIC")),(0,ne.Xd)(new de.wA("messaging-internal",Gh,"PRIVATE")),(0,ne.KN)(to,"0.12.4"),(0,ne.KN)(to,"0.12.4","esm2017")}();const bn="analytics",Yp="firebase_id",wt="origin",ud=6e4,dd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Al="https://www.googletagmanager.com/gtag/js",si=new ve.Yd("@firebase/analytics"),gi=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Pr(D){if(!D.startsWith(Al)){const C=gi.create("invalid-gtag-resource",{gtagURL:D});return si.warn(C.message),""}return D}function Hc(D){return Promise.all(D.map(C=>C.catch(A=>A)))}function Oe(){return(Oe=(0,x.Z)(function*(D,C,A,k,Y,ee){const ge=k[Y];try{if(ge)yield C[ge];else{const Ke=(yield Hc(A)).find(ht=>ht.measurementId===Y);Ke&&(yield C[Ke.appId])}}catch(Qe){si.error(Qe)}D("config",Y,ee)})).apply(this,arguments)}function br(){return(br=(0,x.Z)(function*(D,C,A,k,Y){try{let ee=[];if(Y&&Y.send_to){let ge=Y.send_to;Array.isArray(ge)||(ge=[ge]);const Qe=yield Hc(A);for(const Ke of ge){const ht=Qe.find(At=>At.measurementId===Ke),It=ht&&C[ht.appId];if(!It){ee=[];break}ee.push(It)}}0===ee.length&&(ee=Object.values(C)),yield Promise.all(ee),D("event",k,Y||{})}catch(ee){si.error(ee)}})).apply(this,arguments)}const jo=30,Gc=new class ro{constructor(C={},A=1e3){this.throttleMetadata=C,this.intervalMillis=A}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,A){this.throttleMetadata[C]=A}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Zh(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Wc(){return(Wc=(0,x.Z)(function*(D){var C;const{appId:A,apiKey:k}=D,Y={method:"GET",headers:Zh(k)},ee=dd.replace("{app-id}",A),ge=yield fetch(ee,Y);if(200!==ge.status&&304!==ge.status){let Qe="";try{const Ke=yield ge.json();null!==(C=Ke.error)&&void 0!==C&&C.message&&(Qe=Ke.error.message)}catch{}throw gi.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Qe})}return ge.json()})).apply(this,arguments)}function Gi(){return(Gi=(0,x.Z)(function*(D,C=Gc,A){const{appId:k,apiKey:Y,measurementId:ee}=D.options;if(!k)throw gi.create("no-app-id");if(!Y){if(ee)return{measurementId:ee,appId:k};throw gi.create("no-api-key")}const ge=C.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new gd;return setTimeout((0,x.Z)(function*(){Qe.abort()}),void 0!==A?A:ud),fd({appId:k,apiKey:Y,measurementId:ee},ge,Qe,C)})).apply(this,arguments)}function fd(D,C,A){return so.apply(this,arguments)}function so(){return so=(0,x.Z)(function*(D,{throttleEndTimeMillis:C,backoffCount:A},k,Y=Gc){var ee;const{appId:ge,measurementId:Qe}=D;try{yield function Ns(D,C){return new Promise((A,k)=>{const Y=Math.max(C-Date.now(),0),ee=setTimeout(A,Y);D.addEventListener(()=>{clearTimeout(ee),k(gi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(k,C)}catch(Ke){if(Qe)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:ge,measurementId:Qe};throw Ke}try{const Ke=yield function m_(D){return Wc.apply(this,arguments)}(D);return Y.deleteThrottleMetadata(ge),Ke}catch(Ke){const ht=Ke;if(!function pd(D){if(!(D instanceof se.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ht)){if(Y.deleteThrottleMetadata(ge),Qe)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:ge,measurementId:Qe};throw Ke}const It=503===Number(null===(ee=ht?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,se.$s)(A,Y.intervalMillis,jo):(0,se.$s)(A,Y.intervalMillis),At={throttleEndTimeMillis:Date.now()+It,backoffCount:A+1};return Y.setThrottleMetadata(ge,At),si.debug(`Calling attemptFetch again in ${It} millis`),fd(D,At,k,Y)}}),so.apply(this,arguments)}class gd{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let xl,Tt;function Pl(){return(Pl=(0,x.Z)(function*(D,C,A,k,Y){if(Y&&Y.global)D("event",A,k);else{const ee=yield C;D("event",A,Object.assign(Object.assign({},k),{send_to:ee}))}})).apply(this,arguments)}function mn(){return(mn=(0,x.Z)(function*(){if(!(0,se.hl)())return si.warn(gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return si.warn(gi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function qr(){return qr=(0,x.Z)(function*(D,C,A,k,Y,ee,ge){var Qe;const Ke=function Li(D){return Gi.apply(this,arguments)}(D);Ke.then(Bn=>{A[Bn.measurementId]=Bn.appId,D.options.measurementId&&Bn.measurementId!==D.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bn=>si.error(Bn)),C.push(Ke);const ht=function en(){return mn.apply(this,arguments)}().then(Bn=>{if(Bn)return k.getId()}),[It,At]=yield Promise.all([Ke,ht]);(function Rl(D){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Al)&&A.src.includes(D))return A;return null})(ee)||function Ml(D,C){const A=function Nl(D,C){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(D,C)),A}("firebase-js-sdk-policy",{createScriptURL:Pr}),k=document.createElement("script"),Y=`${Al}?l=${D}&id=${C}`;k.src=A?A?.createScriptURL(Y):Y,k.async=!0,document.head.appendChild(k)}(ee,It.measurementId),Tt&&(Y("consent","default",Tt),function La(D){Tt=D}(void 0)),Y("js",new Date);const Jn=null!==(Qe=ge?.config)&&void 0!==Qe?Qe:{};return Jn[wt]="firebase",Jn.update=!0,null!=At&&(Jn[Yp]=At),Y("config",It.measurementId,Jn),xl&&(Y("set",xl),function xn(D){xl=D}(void 0)),It.measurementId}),qr.apply(this,arguments)}class Ms{constructor(C){this.app=C}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},Ho=[];const Ba={};let Fr,Ln,Dr="dataLayer",Va=!1;function or(D,C,A){!function Lr(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const C=D.map((k,Y)=>`(${Y+1}) ${k}`).join(" "),A=gi.create("invalid-analytics-context",{errorInfo:C});si.warn(A.message)}}();const k=D.options.appId;if(!k)throw gi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw gi.create("no-api-key");si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[k])throw gi.create("already-exists",{id:k});if(!Va){!function Zp(D){let C=[];Array.isArray(window[D])?C=window[D]:window[D]=C}(Dr);const{wrappedGtag:ee,gtagCore:ge}=function oi(D,C,A,k,Y){let ee=function(...ge){window[k].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ee=window[Y]),window[Y]=function Ol(D,C,A,k){function ee(){return ee=(0,x.Z)(function*(ge,...Qe){try{if("event"===ge){const[Ke,ht]=Qe;yield function Ut(D,C,A,k,Y){return br.apply(this,arguments)}(D,C,A,Ke,ht)}else if("config"===ge){const[Ke,ht]=Qe;yield function $c(D,C,A,k,Y,ee){return Oe.apply(this,arguments)}(D,C,A,k,Ke,ht)}else if("consent"===ge){const[Ke]=Qe;D("consent","update",Ke)}else if("get"===ge){const[Ke,ht,It]=Qe;D("get",Ke,ht,It)}else if("set"===ge){const[Ke]=Qe;D("set",Ke)}else D(ge,...Qe)}catch(Ke){si.error(Ke)}}),ee.apply(this,arguments)}return function Y(ge){return ee.apply(this,arguments)}}(ee,D,C,A),{gtagCore:ee,wrappedGtag:window[Y]}}(Fn,Ho,Ba,Dr,"gtag");Ln=ee,Fr=ge,Va=!0}return Fn[k]=function Dn(D,C,A,k,Y,ee,ge){return qr.apply(this,arguments)}(D,Ho,Ba,C,Fr,Dr,A),new Ms(D)}function $o(){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,x.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Wo="@firebase/analytics";!function Ha(){(0,ne.Xd)(new de.wA(bn,(C,{options:A})=>or(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ne.Xd)(new de.wA("analytics-internal",function D(C){try{const A=C.getProvider(bn).getImmediate();return{logEvent:(k,Y,ee)=>function Vl(D,C,A,k){D=(0,se.m9)(D),function Kp(D,C,A,k,Y){return Pl.apply(this,arguments)}(Ln,Fn[D.app.options.appId],C,A,k).catch(Y=>si.error(Y))}(A,k,Y,ee)}}catch(A){throw gi.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ne.KN)(Wo,"0.10.0"),(0,ne.KN)(Wo,"0.10.0","esm2017")}();var Wi=R(1954),$a=R(2631);const zo=new class Kn extends $a.v{}(class Ul extends Wi.o{constructor(C,A){super(C,A),this.scheduler=C,this.work=A}schedule(C,A=0){return A>0?super.schedule(C,A):(this.delay=A,this.state=C,this.scheduler.flush(this),this)}execute(C,A){return A>0||this.closed?super.execute(C,A):this._execute(C,A)}requestAsyncId(C,A,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(C,A,k):(C.flush(this),0)}});var ar=R(6321),wn=R(9397),Kc=R(5137),Br=R(3093);const Ga=new c.GfV("7.6.1"),lr="__angularfire_symbol__analyticsIsSupportedValue",Ei="__angularfire_symbol__analyticsIsSupported",wr="__angularfire_symbol__remoteConfigIsSupportedValue",jl="__angularfire_symbol__remoteConfigIsSupported",Xr="__angularfire_symbol__messagingIsSupportedValue",ao="__angularfire_symbol__messagingIsSupported";function lo(D,C,A){if(C){if(1===C.length)return C[0];const ee=C.filter(ge=>ge.app===A);if(1===ee.length)return ee[0]}return A.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ei]||(globalThis[Ei]=$o().then(D=>globalThis[lr]=D).catch(()=>globalThis[lr]=!1)),globalThis[ao]||(globalThis[ao]=io().then(D=>globalThis[Xr]=D).catch(()=>globalThis[Xr]=!1)),globalThis[jl]||(globalThis[jl]=Cs().then(D=>globalThis[wr]=D).catch(()=>globalThis[wr]=!1));const Jh=(D,C)=>{const A=C?[C]:(0,Q.C6)(),k=[];return A.forEach(Y=>{Y.container.getProvider(D).instances.forEach(ge=>{k.includes(ge)||k.push(ge)})}),k};function es(){}class Qc{constructor(C,A=zo){this.zone=C,this.delegate=A}now(){return this.delegate.now()}schedule(C,A,k){const Y=this.zone;return this.delegate.schedule(function(ge){Y.runGuarded(()=>{C.apply(this,[ge])})},A,k)}}class za{constructor(C){this.zone=C,this.task=null}call(C,A){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",es,{},es,es)),A.pipe((0,wn.b)({next:k,complete:k,error:k})).subscribe(C).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xc=(()=>{class D{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Qc(Zone.current)),this.insideAngular=A.run(()=>new Qc(Zone.current,ar.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(A){return new(A||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function _n(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function co(D){return _n(),function Yo(D){return function(A){return(A=A.lift(new za(D.ngZone))).pipe((0,Kc.R)(D.outsideAngular),(0,Br.Q)(D.insideAngular))}}(_n())(D)}},9058:(st,we,R)=>{R.d(we,{$s:()=>ze,BH:()=>re,DV:()=>q,Dv:()=>an,GJ:()=>In,L:()=>ue,LL:()=>Ne,Pz:()=>me,Sg:()=>Ee,UG:()=>Z,UI:()=>Te,US:()=>de,Wj:()=>Ht,Wl:()=>mt,Yr:()=>pn,ZB:()=>ie,ZR:()=>Ce,aH:()=>oe,b$:()=>zt,cI:()=>gn,dS:()=>Ar,eu:()=>he,g5:()=>x,gK:()=>xt,gQ:()=>yt,h$:()=>Me,hl:()=>le,hu:()=>Q,jU:()=>je,lb:()=>vi,m9:()=>Qt,ne:()=>Zt,p$:()=>$,pd:()=>ot,r3:()=>K,ru:()=>dt,tV:()=>V,uI:()=>ae,ug:()=>Gr,vZ:()=>Ve,w1:()=>sn,w9:()=>cn,xO:()=>Yt,xb:()=>fe,z$:()=>Pe,zI:()=>pe,zd:()=>qe});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Q=function(j,U){if(!j)throw x(U)},x=function(j){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+j)},ne=function(j){const U=[];let J=0;for(let Ie=0;Ie<j.length;Ie++){let ce=j.charCodeAt(Ie);ce<128?U[J++]=ce:ce<2048?(U[J++]=ce>>6|192,U[J++]=63&ce|128):55296==(64512&ce)&&Ie+1<j.length&&56320==(64512&j.charCodeAt(Ie+1))?(ce=65536+((1023&ce)<<10)+(1023&j.charCodeAt(++Ie)),U[J++]=ce>>18|240,U[J++]=ce>>12&63|128,U[J++]=ce>>6&63|128,U[J++]=63&ce|128):(U[J++]=ce>>12|224,U[J++]=ce>>6&63|128,U[J++]=63&ce|128)}return U},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let ce=0;ce<j.length;ce+=3){const it=j[ce],St=ce+1<j.length,Et=St?j[ce+1]:0,bi=ce+2<j.length,Ot=bi?j[ce+2]:0;let ci=(15&Et)<<2|Ot>>6,vs=63&Ot;bi||(vs=64,St||(ci=64)),Ie.push(J[it>>2],J[(3&it)<<4|Et>>4],J[ci],J[vs])}return Ie.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(ne(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let J=0,Ie=0;for(;J<j.length;){const ce=j[J++];if(ce<128)U[Ie++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const it=j[J++];U[Ie++]=String.fromCharCode((31&ce)<<6|63&it)}else if(ce>239&&ce<365){const bi=((7&ce)<<18|(63&j[J++])<<12|(63&j[J++])<<6|63&j[J++])-65536;U[Ie++]=String.fromCharCode(55296+(bi>>10)),U[Ie++]=String.fromCharCode(56320+(1023&bi))}else{const it=j[J++],St=j[J++];U[Ie++]=String.fromCharCode((15&ce)<<12|(63&it)<<6|63&St)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const J=U?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let ce=0;ce<j.length;){const it=J[j.charAt(ce++)],Et=ce<j.length?J[j.charAt(ce)]:0;++ce;const Ot=ce<j.length?J[j.charAt(ce)]:64;++ce;const Kt=ce<j.length?J[j.charAt(ce)]:64;if(++ce,null==it||null==Et||null==Ot||null==Kt)throw new ve;Ie.push(it<<2|Et>>4),64!==Ot&&(Ie.push(Et<<4&240|Ot>>2),64!==Kt&&Ie.push(Ot<<6&192|Kt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(j){const U=ne(j);return de.encodeByteArray(U,!0)},ue=function(j){return Me(j).replace(/\./g,"")},V=function(j){try{return de.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function $(j){return ie(void 0,j)}function ie(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const J in U)!U.hasOwnProperty(J)||!Be(J)||(j[J]=ie(j[J],U[J]));return j}function Be(j){return"__proto__"!==j}const xe=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&V(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},oe=()=>{var j;return null===(j=xe())||void 0===j?void 0:j.config},me=j=>{var U;return null===(U=xe())||void 0===U?void 0:U[`_${j}`]};class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,J)=>{this.resolve=U,this.reject=J})}wrapCallback(U){return(J,Ie)=>{J?this.reject(J):this.resolve(Ie),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(J):U(J,Ie))}}}function Ee(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=U||"demo-project",ce=j.iat||0,it=j.sub||j.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:ce,exp:ce+3600,auth_time:ce,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(St)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function Z(){var j;const U=null===(j=xe())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function dt(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function sn(){const j=Pe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function pn(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((j,U)=>{try{let J=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(Ie);ce.onsuccess=()=>{ce.result.close(),J||self.indexedDB.deleteDatabase(Ie),j(!0)},ce.onupgradeneeded=()=>{J=!1},ce.onerror=()=>{var it;U((null===(it=ce.error)||void 0===it?void 0:it.message)||"")}}catch(J){U(J)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ce extends Error{constructor(U,J,Ie){super(J),this.code=U,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(U,J,Ie){this.service=U,this.serviceName=J,this.errors=Ie}create(U,...J){const Ie=J[0]||{},ce=`${this.service}/${U}`,it=this.errors[U],St=it?function Je(j,U){return j.replace(Ge,(J,Ie)=>{const ce=U[Ie];return null!=ce?String(ce):`<${Ie}?>`})}(it,Ie):"Error";return new Ce(ce,`${this.serviceName}: ${St} (${ce}).`,Ie)}}const Ge=/\{\$([^}]+)}/g;function gn(j){return JSON.parse(j)}function mt(j){return JSON.stringify(j)}const jt=function(j){let U={},J={},Ie={},ce="";try{const it=j.split(".");U=gn(V(it[0])||""),J=gn(V(it[1])||""),ce=it[2],Ie=J.d||{},delete J.d}catch{}return{header:U,claims:J,data:Ie,signature:ce}},cn=function(j){const J=jt(j).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},In=function(j){const U=jt(j).claims;return"object"==typeof U&&!0===U.admin};function K(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function q(j,U){if(Object.prototype.hasOwnProperty.call(j,U))return j[U]}function fe(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function Te(j,U,J){const Ie={};for(const ce in j)Object.prototype.hasOwnProperty.call(j,ce)&&(Ie[ce]=U.call(J,j[ce],ce,j));return Ie}function Ve(j,U){if(j===U)return!0;const J=Object.keys(j),Ie=Object.keys(U);for(const ce of J){if(!Ie.includes(ce))return!1;const it=j[ce],St=U[ce];if(Xe(it)&&Xe(St)){if(!Ve(it,St))return!1}else if(it!==St)return!1}for(const ce of Ie)if(!J.includes(ce))return!1;return!0}function Xe(j){return null!==j&&"object"==typeof j}function Yt(j){const U=[];for(const[J,Ie]of Object.entries(j))Array.isArray(Ie)?Ie.forEach(ce=>{U.push(encodeURIComponent(J)+"="+encodeURIComponent(ce))}):U.push(encodeURIComponent(J)+"="+encodeURIComponent(Ie));return U.length?"&"+U.join("&"):""}function qe(j){const U={};return j.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[ce,it]=Ie.split("=");U[decodeURIComponent(ce)]=decodeURIComponent(it)}}),U}function ot(j){const U=j.indexOf("?");if(!U)return"";const J=j.indexOf("#",U);return j.substring(U,J>0?J:void 0)}class yt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,J){J||(J=0);const Ie=this.W_;if("string"==typeof U)for(let Kt=0;Kt<16;Kt++)Ie[Kt]=U.charCodeAt(J)<<24|U.charCodeAt(J+1)<<16|U.charCodeAt(J+2)<<8|U.charCodeAt(J+3),J+=4;else for(let Kt=0;Kt<16;Kt++)Ie[Kt]=U[J]<<24|U[J+1]<<16|U[J+2]<<8|U[J+3],J+=4;for(let Kt=16;Kt<80;Kt++){const ci=Ie[Kt-3]^Ie[Kt-8]^Ie[Kt-14]^Ie[Kt-16];Ie[Kt]=4294967295&(ci<<1|ci>>>31)}let Ot,Gn,ce=this.chain_[0],it=this.chain_[1],St=this.chain_[2],Et=this.chain_[3],bi=this.chain_[4];for(let Kt=0;Kt<80;Kt++){Kt<40?Kt<20?(Ot=Et^it&(St^Et),Gn=1518500249):(Ot=it^St^Et,Gn=1859775393):Kt<60?(Ot=it&St|Et&(it|St),Gn=2400959708):(Ot=it^St^Et,Gn=3395469782);const ci=(ce<<5|ce>>>27)+Ot+bi+Gn+Ie[Kt]&4294967295;bi=Et,Et=St,St=4294967295&(it<<30|it>>>2),it=ce,ce=ci}this.chain_[0]=this.chain_[0]+ce&4294967295,this.chain_[1]=this.chain_[1]+it&4294967295,this.chain_[2]=this.chain_[2]+St&4294967295,this.chain_[3]=this.chain_[3]+Et&4294967295,this.chain_[4]=this.chain_[4]+bi&4294967295}update(U,J){if(null==U)return;void 0===J&&(J=U.length);const Ie=J-this.blockSize;let ce=0;const it=this.buf_;let St=this.inbuf_;for(;ce<J;){if(0===St)for(;ce<=Ie;)this.compress_(U,ce),ce+=this.blockSize;if("string"==typeof U){for(;ce<J;)if(it[St]=U.charCodeAt(ce),++St,++ce,St===this.blockSize){this.compress_(it),St=0;break}}else for(;ce<J;)if(it[St]=U[ce],++St,++ce,St===this.blockSize){this.compress_(it),St=0;break}}this.inbuf_=St,this.total_+=J}digest(){const U=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ce=this.blockSize-1;ce>=56;ce--)this.buf_[ce]=255&J,J/=256;this.compress_(this.buf_);let Ie=0;for(let ce=0;ce<5;ce++)for(let it=24;it>=0;it-=8)U[Ie]=this.chain_[ce]>>it&255,++Ie;return U}}function Zt(j,U){const J=new on(j,U);return J.subscribe.bind(J)}class on{constructor(U,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{U(this)}).catch(Ie=>{this.error(Ie)})}next(U){this.forEachObserver(J=>{J.next(U)})}error(U){this.forEachObserver(J=>{J.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,J,Ie){let ce;if(void 0===U&&void 0===J&&void 0===Ie)throw new Error("Missing Observer.");ce=function Mt(j,U){if("object"!=typeof j||null===j)return!1;for(const J of U)if(J in j&&"function"==typeof j[J])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:J,complete:Ie},void 0===ce.next&&(ce.next=dn),void 0===ce.error&&(ce.error=dn),void 0===ce.complete&&(ce.complete=dn);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),it}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,U)}sendOne(U,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{J(this.observers[U])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const an=function(j,U,J,Ie){let ce;if(Ie<U?ce="at least "+U:Ie>J&&(ce=0===J?"none":"no more than "+J),ce)throw new Error(j+" failed: Was called with "+Ie+(1===Ie?" argument.":" arguments.")+" Expects "+ce+".")};function xt(j,U){return`${j} failed: ${U} argument `}function Ht(j,U,J,Ie){if((!Ie||J)&&"function"!=typeof J)throw new Error(xt(j,U)+"must be a valid function.")}function vi(j,U,J,Ie){if((!Ie||J)&&("object"!=typeof J||null===J))throw new Error(xt(j,U)+"must be a valid context object.")}const Ar=function(j){const U=[];let J=0;for(let Ie=0;Ie<j.length;Ie++){let ce=j.charCodeAt(Ie);if(ce>=55296&&ce<=56319){const it=ce-55296;Ie++,Q(Ie<j.length,"Surrogate pair missing trail surrogate."),ce=65536+(it<<10)+(j.charCodeAt(Ie)-56320)}ce<128?U[J++]=ce:ce<2048?(U[J++]=ce>>6|192,U[J++]=63&ce|128):ce<65536?(U[J++]=ce>>12|224,U[J++]=ce>>6&63|128,U[J++]=63&ce|128):(U[J++]=ce>>18|240,U[J++]=ce>>12&63|128,U[J++]=ce>>6&63|128,U[J++]=63&ce|128)}return U},Gr=function(j){let U=0;for(let J=0;J<j.length;J++){const Ie=j.charCodeAt(J);Ie<128?U++:Ie<2048?U+=2:Ie>=55296&&Ie<=56319?(U+=4,J++):U+=3}return U},Nr=1e3,De=2,G=144e5,ye=.5;function ze(j,U=Nr,J=De){const Ie=U*Math.pow(J,j),ce=Math.round(ye*Ie*(Math.random()-.5)*2);return Math.min(G,Ie+ce)}function Qt(j){return j&&j._delegate?j._delegate:j}},4545:(st,we,R)=>{var c=R(5879);let Q=null;function x(){return Q}class se{}const de=new c.OlP("DocumentToken");let ve=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(ue)},providedIn:"platform"})}return t})();const Me=new c.OlP("Location Initialized");let ue=(()=>{class t extends ve{constructor(){super(),this._doc=(0,c.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function V(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function $(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ie(t){return t&&"?"!==t[0]?"?"+t:t}let Be=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(We)},providedIn:"root"})}return t})();const Ae=new c.OlP("appBaseHref");let We=(()=>{class t extends Be{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return V(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ie(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,u){const h=this.prepareExternalUrl(o+ie(u));this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){const h=this.prepareExternalUrl(o+ie(u));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(ve),c.LFG(Ae,8))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ke=(()=>{class t extends Be{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=V(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,u){let h=this.prepareExternalUrl(o+ie(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){let h=this.prepareExternalUrl(o+ie(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(ve),c.LFG(Ae,8))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})(),Ze=(()=>{class t{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function oe(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}($(lt(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ie(i))}normalize(e){return t.stripTrailingSlash(function at(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,lt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ie(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ie(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static#e=this.normalizeQueryParams=ie;static#t=this.joinWithSlash=V;static#n=this.stripTrailingSlash=$;static#i=this.\u0275fac=function(i){return new(i||t)(c.LFG(Be))};static#r=this.\u0275prov=c.Yz7({token:t,factory:function(){return function xe(){return new Ze((0,c.LFG)(Be))}()},providedIn:"root"})}return t})();function lt(t){return t.replace(/\/index.html$/,"")}class $s{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tr=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,u,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new $s(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===u?void 0:u);else if(null!==u){const v=i.get(u);i.move(v,h),bc(v,o)}});for(let o=0,u=i.length;o<u;o++){const v=i.get(o).context;v.index=o,v.count=u,v.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{bc(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function bc(t,n){t.context.$implicit=n.item}let Rn=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();function Es(t){return"server"===t}let ei=(()=>{class t{static#e=this.\u0275prov=(0,c.Yz7)({token:t,providedIn:"root",factory:()=>new zr((0,c.LFG)(de),window)})}return t})();class zr{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function Yr(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(h)return h}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class od extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Il extends od{static makeCurrent(){!function ne(t){Q||(Q=t)}(new Il)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Vh(){return Pa=Pa||document.querySelector("base"),Pa?Pa.getAttribute("href"):null}();return null==e?null:function Wp(t){Lc=Lc||document.createElement("a"),Lc.setAttribute("href",t);const n=Lc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function So(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let Lc,Pa=null,Uh=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const Vc=new c.OlP("EventManagerPlugins");let jh=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(u=>u.supports(e)),!i)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Vc),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();class Tl{constructor(n){this._doc=n}}const ka="ng-app-id";let Hh=(()=>{class t{constructor(e,i,o,u={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Es(u),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${ka}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const u=o.get(e);return u.usage+=i,u.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,u=o?.get(i);if(u?.parentNode===e)return o.delete(i),u.removeAttribute(ka),u;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(ka,this.appId),h}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const u=this.styleRef,h=u.get(i)?.elements;h?h.push(o):u.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const Xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xr=/%COMP%/g,yr=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xt(t,n){return n.map(e=>e.replace(xr,t))}let to=(()=>{class t{constructor(e,i,o,u,h,v,w,I=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=v,this.ngZone=w,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=Es(v),this.defaultRenderer=new no(e,h,w,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===c.ifc.ShadowDom&&(i={...i,encapsulation:c.ifc.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof Wh?o.applyToHost(e):o instanceof pi&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let u=o.get(i.id);if(!u){const h=this.doc,v=this.ngZone,w=this.eventManager,I=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(i.encapsulation){case c.ifc.Emulated:u=new Wh(w,I,i,this.appId,M,h,v,P);break;case c.ifc.ShadowDom:return new io(w,I,e,i,h,v,this.nonce,P);default:u=new pi(w,I,i,M,h,v,P)}o.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(jh),c.LFG(Hh),c.LFG(c.AFp),c.LFG(yr),c.LFG(de),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();class no{constructor(n,e,i,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Xs[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Uc(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(Uc(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new c.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const u=Xs[o];u?n.setAttributeNS(u,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=Xs[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(c.JOm.DashCase|c.JOm.Important)?n.style.setProperty(e,i,o&c.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&c.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=x().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Uc(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class io extends no{constructor(n,e,i,o,u,h,v,w){super(n,u,h,w),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=Xt(o.id,o.styles);for(const M of I){const P=document.createElement("style");v&&P.setAttribute("nonce",v),P.textContent=M,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pi extends no{constructor(n,e,i,o,u,h,v,w){super(n,u,h,v),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=w?Xt(w,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wh extends pi{constructor(n,e,i,o,u,h,v,w){const I=o+"-"+i.id;super(n,e,i,u,h,v,w,I),this.contentAttr=function ld(t){return"_ngcontent-%COMP%".replace(xr,t)}(I),this.hostAttr=function cd(t){return"_nghost-%COMP%".replace(xr,t)}(I)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Uo=(()=>{class t extends Tl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const zh=["alt","control","meta","shift"],Fi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jc=(()=>{class t extends Tl{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const u=t.parseEventName(i),h=t.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,u.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const u=t._normalizeKey(i.pop());let h="",v=i.indexOf("code");if(v>-1&&(i.splice(v,1),h="code."),zh.forEach(I=>{const M=i.indexOf(I);M>-1&&(i.splice(M,1),h+=I+".")}),h+=u,0!=i.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=h,w}static matchEventFullKeyCode(e,i){let o=Fi[e.key]||e.key,u="";return i.indexOf("code.")>-1&&(o=e.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),zh.forEach(h=>{h!==o&&(0,Yh[h])(e)&&(u+=h+".")}),u+=o,u===i)}static eventCallback(e,i,o){return u=>{t.matchEventFullKeyCode(u,e)&&o.runGuarded(()=>i(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();const si=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function wt(){Il.makeCurrent()},multi:!0},{provide:de,useFactory:function dd(){return(0,c.RDi)(document),document},deps:[]}]),hd=new c.OlP(""),gi=[{provide:c.rWj,useClass:class Bc{addToWindow(n){c.dqk.getAngularTestability=(i,o=!0)=>{const u=n.findTestabilityInTree(i,o);if(null==u)throw new c.vHH(5103,!1);return u},c.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const v=function(w){h=h||w,u--,0==u&&i(h)};o.forEach(w=>{w.whenStable(v)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?x().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Pr=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ud(){return new c.qLn},deps:[]},{provide:Vc,useClass:Uo,multi:!0,deps:[de,c.R0b,c.Lbi]},{provide:Vc,useClass:jc,multi:!0,deps:[de]},to,Hh,jh,{provide:c.FYo,useExisting:to},{provide:class rr{},useClass:Uh,deps:[]},[]];let Hc=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:c.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(hd,12))};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({providers:[...Pr,...gi],imports:[Rn,c.hGG]})}return t})(),Oe=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(i){let o=null;return o=i?new i:function $c(){return new Oe((0,c.LFG)(de))}(),o},providedIn:"root"})}return t})();typeof window<"u"&&window;var mi=R(6304),Fl=R(6321),Zn=R(5592),vt=R(2096),Kr=R(3019),Tt=R(7398),La=R(3020),xn=R(4664),en=R(9360),mn=R(8251);function qr(t,n){return(0,en.e)(function Dn(t,n,e,i,o){return(u,h)=>{let v=e,w=n,I=0;u.subscribe((0,mn.x)(h,M=>{const P=I++;w=v?t(w,M,P):(v=!0,M),i&&h.next(w)},o&&(()=>{v&&h.next(w),h.complete()})))}}(t,n,arguments.length>=2,!0))}var Ms=R(3997),Fn=R(4829),Ho=R(2737),Ba=R(2420),Dr=R(9940);function kr(...t){const n=(0,Dr.jO)(t);return(0,en.e)((e,i)=>{const o=t.length,u=new Array(o);let h=t.map(()=>!1),v=!1;for(let w=0;w<o;w++)(0,Fn.Xf)(t[w]).subscribe((0,mn.x)(i,I=>{u[w]=I,!v&&!h[w]&&(h[w]=!0,(v=h.every(Ho.y))&&(h=null))},Ba.Z));e.subscribe((0,mn.x)(i,w=>{if(v){const I=[w,...u];i.next(n?n(...I):I)}}))})}var Ln=R(2793),Ua=(R(8977),R(3399)),Lr=R(4537),or=R(5861),Ll=R(7592),F=R(9058),$o=R(7879);const Jr="@firebase/database";let yd="";function zc(t){yd=t}class Bl{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class qh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Yc=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Bl(n)}}catch{}return new qh},Go=Yc("localStorage"),Vl=Yc("sessionStorage"),ja=new $o.Yd("@firebase/database"),Wo=function(){let t=1;return function(){return t++}}(),oo=function(t){const n=(0,F.dS)(t),e=new F.gQ;e.update(n);const i=e.digest();return F.US.encodeByteArray(i)},Ha=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Ha.apply(null,i):n+="object"==typeof i?(0,F.Wl)(i):i,n+=" "}return n};let Wi=null,Ul=!0;const $a=function(t,n){(0,F.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ja.logLevel=$o.in.VERBOSE,Wi=ja.log.bind(ja),n&&Vl.set("logging_enabled",!0)):"function"==typeof t?Wi=t:(Wi=null,Vl.remove("logging_enabled"))},Kn=function(...t){if(!0===Ul&&(Ul=!1,null===Wi&&!0===Vl.get("logging_enabled")&&$a(!0)),Wi){const n=Ha.apply(null,t);Wi(n)}},zo=function(t){return function(...n){Kn(t,...n)}},Zc=function(...t){const n="FIREBASE INTERNAL ERROR: "+Ha(...t);ja.error(n)},ar=function(...t){const n=`FIREBASE FATAL ERROR: ${Ha(...t)}`;throw ja.error(n),new Error(n)},wn=function(...t){const n="FIREBASE WARNING: "+Ha(...t);ja.warn(n)},Br=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},lr="[MIN_NAME]",Ei="[MAX_NAME]",wr=function(t,n){if(t===n)return 0;if(t===lr||n===Ei)return-1;if(n===lr||t===Ei)return 1;{const e=Xc(t),i=Xc(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},jl=function(t,n){return t===n?0:t<n?-1:1},Xr=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,F.Wl)(n))},ao=function(t){if("object"!=typeof t||null===t)return(0,F.Wl)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,F.Wl)(n[i]),e+=":",e+=ao(t[n[i]]);return e+="}",e},Wa=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let o=0;o<e;o+=n)i.push(t.substring(o,o+n>e?e:o+n));return i};function qn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const qc=function(t){(0,F.hu)(!Br(t),"Invalid JSON number");const i=1023;let o,u,h,v,w;0===t?(u=0,h=0,o=1/t==-1/0?1:0):(o=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(v=Math.min(Math.floor(Math.log(t)/Math.LN2),i),u=v+i,h=Math.round(t*Math.pow(2,52-v)-Math.pow(2,52))):(u=0,h=Math.round(t/Math.pow(2,-1074))));const I=[];for(w=52;w;w-=1)I.push(h%2?1:0),h=Math.floor(h/2);for(w=11;w;w-=1)I.push(u%2?1:0),u=Math.floor(u/2);I.push(o?1:0),I.reverse();const M=I.join("");let P="";for(w=0;w<64;w+=8){let B=parseInt(M.substr(w,8),2).toString(16);1===B.length&&(B="0"+B),P+=B}return P.toLowerCase()},es=new RegExp("^-?(0*)\\d{1,10}$"),Xc=function(t){if(es.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},_n=function(t){try{t()}catch(n){setTimeout(()=>{throw wn("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},cr=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class bd{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){wn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qp{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Kn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wn(n)}}let co=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const A=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ge="websocket",Qe="long_polling";class Ke{constructor(n,e,i,o,u=!1,h="",v=!1,w=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=w,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Go.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Go.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function It(t,n,e){let i;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===ge)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==Qe)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function ht(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const o=[];return qn(e,(u,h)=>{o.push(u+"="+h)}),i+o.join("&")}class At{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const Jn={},Bn={};function Os(t){const n=t.toString();return Jn[n]||(Jn[n]=new At),Jn[n]}class ho{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&_n(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jo{constructor(n,e,i,o,u,h,v){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zo(n),this.stats_=Os(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),It(e,Qe,w))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ho(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,F.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tg((...u)=>{const[h,v,w,I,M]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=v,this.password=w;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[h,v]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,v)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&A.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jo.forceAllow_=!0}static forceDisallow(){Jo.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Jo.forceAllow_&&(Jo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),o=Wa(i,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class tg{constructor(n,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Wo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=tg.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(v){Kn("frame writing exception"),v.stack&&Kn(v.stack),Kn(v)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Kn("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(o),i()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Kn("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Ed=null;typeof MozWebSocket<"u"?Ed=MozWebSocket:typeof WebSocket<"u"&&(Ed=WebSocket);let Rs=(()=>{class t{constructor(e,i,o,u,h,v,w){this.connId=e,this.applicationId=o,this.appCheckToken=u,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zo(this.connId),this.stats_=Os(i),this.connURL=t.connectionURL_(i,v,w,u,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,u,h){const v={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&A.test(location.hostname)&&(v.r="f"),i&&(v.s=i),o&&(v.ls=o),u&&(v.ac=u),h&&(v.p=h),It(e,ge,v)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Go.set("previous_websocket_failure",!0);try{let o;if((0,F.Yr)()){o={headers:{"User-Agent":`Firebase/5/${yd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,v=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;v&&(o.proxy={origin:v})}this.mySock=new Ed(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Ed&&!t.forceDisallow_}static previouslyFailed(){return Go.isInMemoryStorage||!0===Go.get("previous_websocket_failure")}markConnectionHealthy(){Go.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,F.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,F.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Wa(i,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),eu=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jo,Rs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Rs&&Rs.isAvailable();let o=i&&!Rs.previouslyFailed();if(e.webSocketOnly&&(i||wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Rs];else{const u=this.transports_=[];for(const h of t.ALL_TRANSPORTS)h&&h.isAvailable()&&u.push(h);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class b_{constructor(n,e,i,o,u,h,v,w,I,M){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=v,this.onDisconnect_=w,this.onKill_=I,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zo("c:"+this.id+":"),this.transportManager_=new eu(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=cr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Xr("t",n),i=Xr("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Xr("t",n),i=Xr("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Xr("t",n);if("d"in n){const i=n.d;if("h"===e){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Zc("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zc("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),cr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sf{put(n,e,i,o){}merge(n,e,i,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class Id{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const o=this.getInitialEvent(n);o&&e.apply(i,o)}off(n,e,i){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let u=0;u<o.length;u++)if(o[u].callback===e&&(!i||i===o[u].context))return void o.splice(u,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class iu extends Id{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new iu}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class tn{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function qt(){return new tn("")}function Lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qo(t){return t.pieces_.length-t.pieceNum_}function hn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new tn(t.pieces_,n)}function ag(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Td(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function cg(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new tn(n,0)}function vn(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof tn)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new tn(e,0)}function kt(t){return t.pieceNum_>=t.pieces_.length}function Yi(t,n){const e=Lt(t),i=Lt(n);if(null===e)return n;if(e===i)return Yi(hn(t),hn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function k0(t,n){const e=Td(t,0),i=Td(n,0);for(let o=0;o<e.length&&o<i.length;o++){const u=wr(e[o],i[o]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function ru(t,n){if(Qo(t)!==Qo(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function ns(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(Qo(t)>Qo(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class F0{constructor(n,e){this.errorPrefix_=e,this.parts_=Td(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);af(this)}}function af(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xo(t))}function Xo(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Gl extends Id{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Gl}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const xs=1e3;let Sd,Vr=(()=>{class t extends sf{constructor(e,i,o,u,h,v,w,I){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=h,this.authTokenProvider_=v,this.appCheckTokenProvider_=w,this.authOverride_=I,this.id=t.nextPersistentConnectionId_++,this.log_=zo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,I&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gl.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&iu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const u=++this.requestNumber_,h={r:u,a:e,b:i};this.log_((0,F.Wl)(h)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[u]=o)}get(e){this.initConnection_();const i=new F.BH,u={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:v=>{const w=v.d;"ok"===v.s?i.resolve(w):i.reject(w)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,o,u){this.initConnection_();const h=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+h),this.listens.has(v)||this.listens.set(v,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(v).has(h),"listen() called twice for same path/queryId.");const w={onComplete:u,hashFn:i,query:e,tag:o};this.listens.get(v).set(h,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+o+" for "+u);const h={p:o};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,w=>{const I=w.d,M=w.s;t.warnOnListenWarnings_(I,i),(this.listens.get(o)&&this.listens.get(o).get(u))===e&&(this.log_("listen response",w),"ok"!==M&&this.removeListen_(o,u),e.onComplete&&e.onComplete(M,I))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const o=(0,F.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();wn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,u=>{const h=u.s,v=u.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,e._queryObject,i)}sendUnlisten_(e,i,o,u){this.log_("Unlisten on "+e+" for "+i);const h={p:e};u&&(h.q=o,h.t=u),this.sendRequest("n",h)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,u){const h={p:i,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,v=>{u&&setTimeout(()=>{u(v.s,v.d)},Math.floor(0))})}put(e,i,o,u){this.putInternal("p",e,i,o,u)}merge(e,i,o,u){this.putInternal("m",e,i,o,u)}putInternal(e,i,o,u,h){this.initConnection_();const v={p:i,d:o};void 0!==h&&(v.h=h),this.outstandingPuts_.push({action:e,request:v,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Zc("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,or.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+t.nextConnectionId_++,v=e.lastSessionId;let w=!1,I=null;const M=function(){I?I.close():(w=!0,u())};e.realtime_={close:M,sendRequest:function(te){(0,F.hu)(I,"sendRequest call when we're not connected not allowed."),I.sendRequest(te)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[te,Se]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);w?Kn("getToken() completed but was canceled"):(Kn("getToken() completed. Creating connection."),e.authToken_=te&&te.accessToken,e.appCheckToken_=Se&&Se.token,I=new b_(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,u,He=>{wn(He+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(te){e.log_("Failed to get token: "+te),w||(e.repoInfo_.nodeAdmin&&wn(te),M())}}})()}interrupt(e){Kn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(h=>ao(h)).join("$"):"default";const u=this.removeListen_(e,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const o=new tn(e).toString();let u;if(this.listens.has(o)){const h=this.listens.get(o);u=h.get(i),h.delete(i),0===h.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(e,i){Kn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Kn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+yd.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=iu.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Ft{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Ft(n,e)}}class ea{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new Ft(lr,n),o=new Ft(lr,e);return 0!==this.compare(i,o)}minPost(){return Ft.MIN}}class fo extends ea{static get __EMPTY_NODE(){return Sd}static set __EMPTY_NODE(n){Sd=n}compare(n,e){return wr(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Ft.MIN}maxPost(){return new Ft(Ei,Sd)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Ft(n,Sd)}toString(){return".key"}}const is=new fo;class ou{constructor(n,e,i,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(h=e?i(n.key,e):1,o&&(h*=-1),h<0)n=this.isReverse_?n.left:n.right;else{if(0===h){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let au,Cr=(()=>{class t{constructor(e,i,o,u,h){this.key=e,this.value=i,this.color=o??t.RED,this.left=u??Ki.EMPTY_NODE,this.right=h??Ki.EMPTY_NODE}copy(e,i,o,u,h){return new t(e??this.key,i??this.value,o??this.color,u??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ki.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,u;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Ki.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ki{constructor(n,e=Ki.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Ki(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Cr.BLACK,null,null))}remove(n){return new Ki(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Cr.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new ou(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new ou(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new ou(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new ou(this.root_,null,this.comparator_,!0,n)}}function ur(t,n){return wr(t.name,n.name)}function zl(t,n){return wr(t,n)}Ki.EMPTY_NODE=new class w_{copy(n,e,i,o,u){return this}insert(n,e,i){return new Cr(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Un=function(t){return"number"==typeof t?"number:"+qc(t):"string:"+t},ta=function(t){if(t.isLeafNode()){const n=t.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(t===au||t.isEmpty(),"priority of unexpected type.");(0,F.hu)(t===au||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ad,Ni,na,po=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ta(this.priorityNode_)}static set __childrenNodeConstructor(e){Ad=e}static get __childrenNodeConstructor(){return Ad}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kt(e)?this:".priority"===Lt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=Lt(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,F.hu)(".priority"!==o||1===Qo(e),".priority must be the last token in a path"),this.updateImmediateChild(o,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(hn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Un(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?qc(this.value_):this.value_,this.lazyHash_=oo(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,u=t.VALUE_TYPE_ORDER.indexOf(i),h=t.VALUE_TYPE_ORDER.indexOf(o);return(0,F.hu)(u>=0,"Unknown leaf type: "+i),(0,F.hu)(h>=0,"Unknown leaf type: "+o),u===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-u}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const En=new class C_ extends ea{compare(n,e){const i=n.node.getPriority(),o=e.node.getPriority(),u=i.compareTo(o);return 0===u?wr(n.name,e.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Ft.MIN}maxPost(){return new Ft(Ei,new po("[PRIORITY-POST]",na))}makePost(n,e){const i=Ni(n);return new Ft(e,new po("[PRIORITY-POST]",i))}toString(){return".priority"}},_=Math.log(2);class f{constructor(n){this.count=parseInt(Math.log(n+1)/_,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const g=function(t,n,e,i){t.sort(n);const o=function(w,I){const M=I-w;let P,B;if(0===M)return null;if(1===M)return P=t[w],B=e?e(P):P,new Cr(B,P.node,Cr.BLACK,null,null);{const te=parseInt(M/2,10)+w,Se=o(w,te),He=o(te+1,I);return P=t[te],B=e?e(P):P,new Cr(B,P.node,Cr.BLACK,Se,He)}},v=function(w){let I=null,M=null,P=t.length;const B=function(Se,He){const $e=P-Se,ft=P;P-=Se;const gt=o($e+1,ft),Vt=t[$e],ut=e?e(Vt):Vt;te(new Cr(ut,Vt.node,He,null,gt))},te=function(Se){I?(I.left=Se,I=Se):(M=Se,I=Se)};for(let Se=0;Se<w.count;++Se){const He=w.nextBitIsOne(),$e=Math.pow(2,w.count-(Se+1));He?B($e,Cr.BLACK):(B($e,Cr.BLACK),B($e,Cr.RED))}return M}(new f(t.length));return new Ki(i||n,v)};let y;const S={};class N{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(S&&En,"ChildrenNode.ts has not been loaded"),y=y||new N({".priority":S},{".priority":En}),y}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Ki?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const u=e.getIterator(Ft.Wrap);let v,h=u.getNext();for(;h;)o=o||n.isDefinedOn(h.node),i.push(h),h=u.getNext();v=o?g(i,n.getCompare()):S;const w=n.toString(),I=Object.assign({},this.indexSet_);I[w]=n;const M=Object.assign({},this.indexes_);return M[w]=v,new N(M,I)}addToIndexes(n,e){const i=(0,F.UI)(this.indexes_,(o,u)=>{const h=(0,F.DV)(this.indexSet_,u);if((0,F.hu)(h,"Missing index implementation for "+u),o===S){if(h.isDefinedOn(n.node)){const v=[],w=e.getIterator(Ft.Wrap);let I=w.getNext();for(;I;)I.name!==n.name&&v.push(I),I=w.getNext();return v.push(n),g(v,h.getCompare())}return S}{const v=e.get(n.name);let w=o;return v&&(w=w.remove(new Ft(n.name,v))),w.insert(n,n.node)}});return new N(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,F.UI)(this.indexes_,o=>{if(o===S)return o;{const u=e.get(n.name);return u?o.remove(new Ft(n.name,u)):o}});return new N(i,this.indexSet_)}}let H,z=(()=>{class t{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&ta(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return H||(H=new t(new Ki(zl),null,N.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||H}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?H:i}}getChild(e){const i=Lt(e);return null===i?this:this.getImmediateChild(i).getChild(hn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new Ft(e,i);let u,h;i.isEmpty()?(u=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(o,this.children_));const v=u.isEmpty()?H:this.priorityNode_;return new t(u,v,h)}}updateChild(e,i){const o=Lt(e);if(null===o)return i;{(0,F.hu)(".priority"!==Lt(e)||1===Qo(e),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(hn(e),i);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,u=0,h=!0;if(this.forEachChild(En,(v,w)=>{i[v]=w.val(e),o++,h&&t.INTEGER_REGEXP_.test(v)?u=Math.max(u,Number(v)):h=!1}),!e&&h&&u<2*o){const v=[];for(const w in i)v[w]=i[w];return v}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Un(this.getPriority().val())+":"),this.forEachChild(En,(i,o)=>{const u=o.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":oo(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const u=this.resolveIndex_(o);if(u){const h=u.getPredecessorKey(new Ft(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ft(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ft(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Ft.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)<0;)u.getNext(),h=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Ft.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)>0;)u.getNext(),h=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ue?-1:0}withIndex(e){if(e===is||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===is||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(En),u=i.getIterator(En);let h=o.getNext(),v=u.getNext();for(;h&&v;){if(h.name!==v.name||!h.node.equals(v.node))return!1;h=o.getNext(),v=u.getNext()}return null===h&&null===v}return!1}return!1}}resolveIndex_(e){return e===is?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Ue=new class Le extends z{constructor(){super(new Ki(zl),z.EMPTY_NODE,N.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return z.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ft,{MIN:{value:new Ft(lr,z.EMPTY_NODE)},MAX:{value:new Ft(Ei,Ue)}}),fo.__EMPTY_NODE=z.EMPTY_NODE,po.__childrenNodeConstructor=z,function E_(t){au=t}(Ue),function pg(t){na=t}(Ue);const rt=!0;function Ye(t,n=null){if(null===t)return z.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new po(t,Ye(n));if(t instanceof Array||!rt){let e=z.EMPTY_NODE;return qn(t,(i,o)=>{if((0,F.r3)(t,i)&&"."!==i.substring(0,1)){const u=Ye(o);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(Ye(n))}{const e=[];let i=!1;if(qn(t,(h,v)=>{if("."!==h.substring(0,1)){const w=Ye(v);w.isEmpty()||(i=i||!w.getPriority().isEmpty(),e.push(new Ft(h,w)))}}),0===e.length)return z.EMPTY_NODE;const u=g(e,ur,h=>h.name,zl);if(i){const h=g(e,En.getCompare());return new z(u,Ye(n),new N({".priority":h},{".priority":En}))}return new z(u,Ye(n),N.Default)}}!function fg(t){Ni=t}(Ye);class On extends ea{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!kt(n)&&".priority"!==Lt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),o=this.extractChild(e.node),u=i.compareTo(o);return 0===u?wr(n.name,e.name):u}makePost(n,e){const i=Ye(n),o=z.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ft(e,o)}maxPost(){const n=z.EMPTY_NODE.updateChild(this.indexPath_,Ue);return new Ft(Ei,n)}toString(){return Td(this.indexPath_,0).join("/")}}const Qa=new class Ur extends ea{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?wr(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Ft.MIN}maxPost(){return Ft.MAX}makePost(n,e){const i=Ye(n);return new Ft(e,i)}toString(){return".value"}};function ia(t){return{type:"value",snapshotNode:t}}function rs(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function Xa(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function ra(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class Nd{constructor(n){this.index_=n}updateChild(n,e,i,o,u,h){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=n.getImmediateChild(e);return v.getChild(o).equals(i.getChild(o))&&v.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?n.hasChild(e)?h.trackChildChange(Xa(e,v)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?h.trackChildChange(rs(e,i)):h.trackChildChange(ra(e,i,v))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(En,(o,u)=>{e.hasChild(o)||i.trackChildChange(Xa(o,u))}),e.isLeafNode()||e.forEachChild(En,(o,u)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(u)||i.trackChildChange(ra(o,u,h))}else i.trackChildChange(rs(o,u))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?z.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zl{constructor(n){this.indexedFilter_=new Nd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Zl.getStartPost_(n),this.endPost_=Zl.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,o,u,h){return this.matches(new Ft(e,i))||(i=z.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,o,u,h)}updateFullNode(n,e,i){e.isLeafNode()&&(e=z.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(z.EMPTY_NODE);const u=this;return e.forEachChild(En,(h,v)=>{u.matches(new Ft(h,v))||(o=o.updateImmediateChild(h,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class lf{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Zl(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,o,u,h){return this.rangedFilter_.matches(new Ft(e,i))||(i=z.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,o,u,h):this.fullLimitUpdateChild_(n,e,i,u,h)}updateFullNode(n,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=z.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;o=z.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const v=u.getNext();if(this.withinDirectionalStart(v)){if(!this.withinDirectionalEnd(v))break;o=o.updateImmediateChild(v.name,v.node),h++}}}else{let u;o=e.withIndex(this.index_),o=o.updatePriority(z.EMPTY_NODE),u=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let h=0;for(;u.hasNext();){const v=u.getNext();h<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?h++:o=o.updateImmediateChild(v.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,o,u){let h;if(this.reverse_){const P=this.index_.getCompare();h=(B,te)=>P(te,B)}else h=this.index_.getCompare();const v=n;(0,F.hu)(v.numChildren()===this.limit_,"");const w=new Ft(e,i),I=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),M=this.rangedFilter_.matches(w);if(v.hasChild(e)){const P=v.getImmediateChild(e);let B=o.getChildAfterChild(this.index_,I,this.reverse_);for(;null!=B&&(B.name===e||v.hasChild(B.name));)B=o.getChildAfterChild(this.index_,B,this.reverse_);const te=null==B?1:h(B,w);if(M&&!i.isEmpty()&&te>=0)return u?.trackChildChange(ra(e,i,P)),v.updateImmediateChild(e,i);{u?.trackChildChange(Xa(e,P));const He=v.updateImmediateChild(e,z.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(u?.trackChildChange(rs(B.name,B.node)),He.updateImmediateChild(B.name,B.node)):He}}return i.isEmpty()?n:M&&h(I,w)>=0?(null!=u&&(u.trackChildChange(Xa(I.name,I.node)),u.trackChildChange(rs(e,i))),v.updateImmediateChild(e,i).updateImmediateChild(I.name,z.EMPTY_NODE)):n}}class lu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const n=new lu;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Md(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function uf(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function mg(t,n){const e=t.copy();return e.index_=n,e}function _g(t){const n={};if(t.isDefault())return n;let e;if(t.index_===En?e="$priority":t.index_===Qa?e="$value":t.index_===is?e="$key":((0,F.hu)(t.index_ instanceof On,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,F.Wl)(e),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";n[i]=(0,F.Wl)(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+(0,F.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";n[i]=(0,F.Wl)(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+(0,F.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function S_(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==En&&(n.i=t.index_.toString()),n}class sa extends sf{constructor(n,e,i,o){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=zo("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,o){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const h=sa.getListenId_(n,i),v={};this.listens_[h]=v;const w=_g(n._queryParams);this.restRequest_(u+".json",w,(I,M)=>{let P=M;if(404===I&&(P=null,I=null),null===I&&this.onDataUpdate_(u,P,!1,i),(0,F.DV)(this.listens_,h)===v){let B;B=I?401===I?"permission_denied":"rest_error:"+I:"ok",o(B,null)}})}unlisten(n,e){const i=sa.getListenId_(n,e);delete this.listens_[i]}get(n){const e=_g(n._queryParams),i=n._path.toString(),o=new F.BH;return this.restRequest_(i+".json",e,(u,h)=>{let v=h;404===u&&(v=null,u=null),null===u?(this.onDataUpdate_(i,v,!1,null),o.resolve(v)):o.reject(new Error(v))}),o.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(e.auth=o.accessToken),u&&u.token&&(e.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+h);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(i&&4===v.readyState){this.log_("REST Response for "+h+" received. status:",v.status,"response:",v.responseText);let w=null;if(v.status>=200&&v.status<300){try{w=(0,F.cI)(v.responseText)}catch{wn("Failed to parse JSON response for "+h+": "+v.responseText)}i(null,w)}else 401!==v.status&&404!==v.status&&wn("Got unsuccessful REST response for "+h+" Status: "+v.status),i(v.status);i=null}},v.open("GET",h,!0),v.send()})}}class L0{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function df(){return{value:null,children:new Map}}function Od(t,n,e){if(kt(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Lt(n);t.children.has(i)||t.children.set(i,df()),Od(t.children.get(i),n=hn(n),e)}}function B0(t,n){if(kt(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(En,(i,o)=>{Od(t,new tn(i),o)}),B0(t,n)}}if(t.children.size>0){const e=Lt(n);return n=hn(n),t.children.has(e)&&B0(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function Rd(t,n,e){null!==t.value?e(n,t.value):function uC(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,o)=>{Rd(o,new tn(n.toString()+"/"+i),e)})}class V0{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&qn(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=n,e}}class j0{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new V0(n);const i=1e4+2e4*Math.random();cr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;qn(n,(o,u)=>{u>0&&(0,F.r3)(this.statsToReport_,o)&&(e[o]=u,i=!0)}),i&&this.server_.reportStats(e),cr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ss=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(ss||{});function hf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class uu{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=ss.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(kt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new tn(n));return new uu(qt(),e,this.revert)}}return(0,F.hu)(Lt(this.path)===n,"operationForChild called for unrelated child."),new uu(hn(this.path),this.affectedTree,this.revert)}}class xd{constructor(n,e){this.source=n,this.path=e,this.type=ss.LISTEN_COMPLETE}operationForChild(n){return kt(this.path)?new xd(this.source,qt()):new xd(this.source,hn(this.path))}}class el{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=ss.OVERWRITE}operationForChild(n){return kt(this.path)?new el(this.source,qt(),this.snap.getImmediateChild(n)):new el(this.source,hn(this.path),this.snap)}}class oa{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=ss.MERGE}operationForChild(n){if(kt(this.path)){const e=this.children.subtree(new tn(n));return e.isEmpty()?null:e.value?new el(this.source,qt(),e.value):new oa(this.source,qt(),e)}return(0,F.hu)(Lt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new oa(this.source,hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Kl{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(kt(n))return this.isFullyInitialized()&&!this.filtered_;const e=Lt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class H0{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function ff(t,n,e,i,o,u){const h=i.filter(v=>v.type===e);h.sort((v,w)=>function $0(t,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Ft(n.childName,n.snapshotNode),o=new Ft(e.childName,e.snapshotNode);return t.index_.compare(i,o)}(t,v,w)),h.forEach(v=>{const w=function hC(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,v,u);o.forEach(I=>{I.respondsTo(v.type)&&n.push(I.createEvent(w,t.query_))})})}function pf(t,n){return{eventCache:t,serverCache:n}}function ql(t,n,e,i){return pf(new Kl(n,e,i),t.serverCache)}function yg(t,n,e,i){return pf(t.eventCache,new Kl(n,e,i))}function tl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function du(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let M_;class Pn{constructor(n,e=(()=>(M_||(M_=new Ki(jl)),M_))()){this.value=n,this.children=e}static fromObject(n){let e=new Pn(null);return qn(n,(i,o)=>{e=e.set(new tn(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:qt(),value:this.value};if(kt(n))return null;{const i=Lt(n),o=this.children.get(i);if(null!==o){const u=o.findRootMostMatchingPathAndValue(hn(n),e);return null!=u?{path:vn(new tn(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(kt(n))return this;{const e=Lt(n),i=this.children.get(e);return null!==i?i.subtree(hn(n)):new Pn(null)}}set(n,e){if(kt(n))return new Pn(e,this.children);{const i=Lt(n),u=(this.children.get(i)||new Pn(null)).set(hn(n),e),h=this.children.insert(i,u);return new Pn(this.value,h)}}remove(n){if(kt(n))return this.children.isEmpty()?new Pn(null):new Pn(null,this.children);{const e=Lt(n),i=this.children.get(e);if(i){const o=i.remove(hn(n));let u;return u=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&u.isEmpty()?new Pn(null):new Pn(this.value,u)}return this}}get(n){if(kt(n))return this.value;{const e=Lt(n),i=this.children.get(e);return i?i.get(hn(n)):null}}setTree(n,e){if(kt(n))return e;{const i=Lt(n),u=(this.children.get(i)||new Pn(null)).setTree(hn(n),e);let h;return h=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Pn(this.value,h)}}fold(n){return this.fold_(qt(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((o,u)=>{i[o]=u.fold_(vn(n,o),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,qt(),e)}findOnPath_(n,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(kt(n))return null;{const u=Lt(n),h=this.children.get(u);return h?h.findOnPath_(hn(n),vn(e,u),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,qt(),e)}foreachOnPath_(n,e,i){if(kt(n))return this;{this.value&&i(e,this.value);const o=Lt(n),u=this.children.get(o);return u?u.foreachOnPath_(hn(n),vn(e,o),i):new Pn(null)}}foreach(n){this.foreach_(qt(),n)}foreach_(n,e){this.children.inorderTraversal((i,o)=>{o.foreach_(vn(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class os{constructor(n){this.writeTree_=n}static empty(){return new os(new Pn(null))}}function gf(t,n,e){if(kt(n))return new os(new Pn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const o=i.path;let u=i.value;const h=Yi(o,n);return u=u.updateChild(h,e),new os(t.writeTree_.set(o,u))}{const o=new Pn(e),u=t.writeTree_.setTree(n,o);return new os(u)}}}function Jl(t,n,e){let i=t;return qn(e,(o,u)=>{i=gf(i,vn(n,o),u)}),i}function mf(t,n){if(kt(n))return os.empty();{const e=t.writeTree_.setTree(n,new Pn(null));return new os(e)}}function _f(t,n){return null!=Ql(t,n)}function Ql(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Yi(e.path,n)):null}function O_(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(En,(i,o)=>{n.push(new Ft(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&n.push(new Ft(i,o.value))}),n}function nl(t,n){if(kt(n))return t;{const e=Ql(t,n);return new os(null!=e?new Pn(e):t.writeTree_.subtree(n))}}function bg(t){return t.writeTree_.isEmpty()}function Pd(t,n){return G0(qt(),t.writeTree_,n)}function G0(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((o,u)=>{".priority"===o?((0,F.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=G0(vn(t,o),u,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(vn(t,".priority"),i)),e}}function Dg(t,n){return EC(n,t)}function gC(t,n){if(t.snap)return ns(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&ns(vn(t.path,e),n))return!0;return!1}function X1(t){return t.visible}function mC(t,n,e){let i=os.empty();for(let o=0;o<t.length;++o){const u=t[o];if(n(u)){const h=u.path;let v;if(u.snap)ns(e,h)?(v=Yi(e,h),i=gf(i,v,u.snap)):ns(h,e)&&(v=Yi(h,e),i=gf(i,qt(),u.snap.getChild(v)));else{if(!u.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(ns(e,h))v=Yi(e,h),i=Jl(i,v,u.children);else if(ns(h,e))if(v=Yi(h,e),kt(v))i=Jl(i,qt(),u.children);else{const w=(0,F.DV)(u.children,Lt(v));if(w){const I=w.getChild(hn(v));i=gf(i,qt(),I)}}}}}return i}function _C(t,n,e,i,o){if(i||o){const u=nl(t.visibleWrites,n);return!o&&bg(u)?e:o||null!=e||_f(u,qt())?Pd(mC(t.allWrites,function(I){return(I.visible||o)&&(!i||!~i.indexOf(I.writeId))&&(ns(I.path,n)||ns(n,I.path))},n),e||z.EMPTY_NODE):null}{const u=Ql(t.visibleWrites,n);if(null!=u)return u;{const h=nl(t.visibleWrites,n);return bg(h)?e:null!=e||_f(h,qt())?Pd(h,e||z.EMPTY_NODE):null}}}function kd(t,n,e,i){return _C(t.writeTree,t.treePath,n,e,i)}function go(t,n){return function eA(t,n,e){let i=z.EMPTY_NODE;const o=Ql(t.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(En,(u,h)=>{i=i.updateImmediateChild(u,h)}),i;if(e){const u=nl(t.visibleWrites,n);return e.forEachChild(En,(h,v)=>{const w=Pd(nl(u,new tn(h)),v);i=i.updateImmediateChild(h,w)}),O_(u).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return O_(nl(t.visibleWrites,n)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(t.writeTree,t.treePath,n)}function Fd(t,n,e,i){return function W0(t,n,e,i,o){(0,F.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const u=vn(n,e);if(_f(t.visibleWrites,u))return null;{const h=nl(t.visibleWrites,u);return bg(h)?o.getChild(e):Pd(h,o.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function yf(t,n){return function yC(t,n){return Ql(t.visibleWrites,n)}(t.writeTree,vn(t.treePath,n))}function wg(t,n,e){return function vC(t,n,e,i){const o=vn(n,e),u=Ql(t.visibleWrites,o);return null!=u?u:i.isCompleteForChild(e)?Pd(nl(t.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function wC(t,n){return EC(vn(t.treePath,n),t.writeTree)}function EC(t,n){return{treePath:t,writeTree:n}}class tA{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const u=o.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,ra(i,n.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,Xa(i,o.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,rs(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+o);this.changeMap.set(i,ra(i,n.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const Eg=new class R_{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class Y0{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new Kl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wg(this.writes_,n,i)}}getChildAfterChild(n,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:du(this.viewCache_),u=function z0(t,n,e,i,o,u){return function bC(t,n,e,i,o,u,h){let v;const w=nl(t.visibleWrites,n),I=Ql(w,qt());if(null!=I)v=I;else{if(null==e)return[];v=Pd(w,e)}if(v=v.withIndex(h),v.isEmpty()||v.isLeafNode())return[];{const M=[],P=h.getCompare(),B=u?v.getReverseIteratorFrom(i,h):v.getIteratorFrom(i,h);let te=B.getNext();for(;te&&M.length<o;)0!==P(te,i)&&M.push(te),te=B.getNext();return M}}(t.writeTree,t.treePath,n,e,i,o,u)}(this.writes_,o,e,1,i,n);return 0===u.length?null:u[0]}}function K0(t,n,e,i,o,u){const h=n.eventCache;if(null!=yf(i,e))return n;{let v,w;if(kt(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const I=du(n),P=go(i,I instanceof z?I:z.EMPTY_NODE);v=t.filter.updateFullNode(n.eventCache.getNode(),P,u)}else{const I=kd(i,du(n));v=t.filter.updateFullNode(n.eventCache.getNode(),I,u)}else{const I=Lt(e);if(".priority"===I){(0,F.hu)(1===Qo(e),"Can't have a priority with additional path components");const M=h.getNode();w=n.serverCache.getNode();const P=Fd(i,e,M,w);v=null!=P?t.filter.updatePriority(M,P):h.getNode()}else{const M=hn(e);let P;if(h.isCompleteForChild(I)){w=n.serverCache.getNode();const B=Fd(i,e,h.getNode(),w);P=null!=B?h.getNode().getImmediateChild(I).updateChild(M,B):h.getNode().getImmediateChild(I)}else P=wg(i,I,n.serverCache);v=null!=P?t.filter.updateChild(h.getNode(),I,P,M,o,u):h.getNode()}}return ql(n,v,h.isFullyInitialized()||kt(e),t.filter.filtersNodes())}}function Cg(t,n,e,i,o,u,h,v){const w=n.serverCache;let I;const M=h?t.filter:t.filter.getIndexedFilter();if(kt(e))I=M.updateFullNode(w.getNode(),i,null);else if(M.filtersNodes()&&!w.isFiltered()){const te=w.getNode().updateChild(e,i);I=M.updateFullNode(w.getNode(),te,null)}else{const te=Lt(e);if(!w.isCompleteForPath(e)&&Qo(e)>1)return n;const Se=hn(e),$e=w.getNode().getImmediateChild(te).updateChild(Se,i);I=".priority"===te?M.updatePriority(w.getNode(),$e):M.updateChild(w.getNode(),te,$e,Se,Eg,null)}const P=yg(n,I,w.isFullyInitialized()||kt(e),M.filtersNodes());return K0(t,P,e,o,new Y0(o,P,u),v)}function Ig(t,n,e,i,o,u,h){const v=n.eventCache;let w,I;const M=new Y0(o,n,u);if(kt(e))I=t.filter.updateFullNode(n.eventCache.getNode(),i,h),w=ql(n,I,!0,t.filter.filtersNodes());else{const P=Lt(e);if(".priority"===P)I=t.filter.updatePriority(n.eventCache.getNode(),i),w=ql(n,I,v.isFullyInitialized(),v.isFiltered());else{const B=hn(e),te=v.getNode().getImmediateChild(P);let Se;if(kt(B))Se=i;else{const He=M.getCompleteChild(P);Se=null!=He?".priority"===ag(B)&&He.getChild(cg(B)).isEmpty()?He:He.updateChild(B,i):z.EMPTY_NODE}w=te.equals(Se)?n:ql(n,t.filter.updateChild(v.getNode(),P,Se,B,M,h),v.isFullyInitialized(),t.filter.filtersNodes())}}return w}function bf(t,n){return t.eventCache.isCompleteForChild(n)}function Tg(t,n,e){return e.foreach((i,o)=>{n=n.updateChild(i,o)}),n}function x_(t,n,e,i,o,u,h,v){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let I,w=n;I=kt(e)?i:new Pn(null).setTree(e,i);const M=n.serverCache.getNode();return I.children.inorderTraversal((P,B)=>{if(M.hasChild(P)){const Se=Tg(0,n.serverCache.getNode().getImmediateChild(P),B);w=Cg(t,w,new tn(P),Se,o,u,h,v)}}),I.children.inorderTraversal((P,B)=>{const te=!n.serverCache.isCompleteForChild(P)&&null===B.value;if(!M.hasChild(P)&&!te){const He=Tg(0,n.serverCache.getNode().getImmediateChild(P),B);w=Cg(t,w,new tn(P),He,o,u,h,v)}}),w}class P_{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Nd(i.getIndex()),u=function I_(t){return t.loadsAllData()?new Nd(t.getIndex()):t.hasLimit()?new lf(t):new Zl(t)}(i);this.processor_=function nA(t){return{filter:t}}(u);const h=e.serverCache,v=e.eventCache,w=o.updateFullNode(z.EMPTY_NODE,h.getNode(),null),I=u.updateFullNode(z.EMPTY_NODE,v.getNode(),null),M=new Kl(w,h.isFullyInitialized(),o.filtersNodes()),P=new Kl(I,v.isFullyInitialized(),u.filtersNodes());this.viewCache_=pf(P,M),this.eventGenerator_=new H0(this.query_)}get query(){return this.query_}}function MC(t,n){const e=du(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!kt(n)&&!e.getImmediateChild(Lt(n)).isEmpty())?e.getChild(n):null}function J0(t){return 0===t.eventRegistrations_.length}function k_(t,n,e){const i=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(e,o);h&&i.push(h)})}if(n){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const h=t.eventRegistrations_[u];if(h.matches(n)){if(n.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}else o.push(h)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function RC(t,n,e,i){n.type===ss.MERGE&&null!==n.source.queryId&&((0,F.hu)(du(t.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(tl(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=function CC(t,n,e,i,o){const u=new tA;let h,v;if(e.type===ss.OVERWRITE){const I=e;I.source.fromUser?h=Ig(t,n,I.path,I.snap,i,o,u):((0,F.hu)(I.source.fromServer,"Unknown source."),v=I.source.tagged||n.serverCache.isFiltered()&&!kt(I.path),h=Cg(t,n,I.path,I.snap,i,o,v,u))}else if(e.type===ss.MERGE){const I=e;I.source.fromUser?h=function TC(t,n,e,i,o,u,h){let v=n;return i.foreach((w,I)=>{const M=vn(e,w);bf(n,Lt(M))&&(v=Ig(t,v,M,I,o,u,h))}),i.foreach((w,I)=>{const M=vn(e,w);bf(n,Lt(M))||(v=Ig(t,v,M,I,o,u,h))}),v}(t,n,I.path,I.children,i,o,u):((0,F.hu)(I.source.fromServer,"Unknown source."),v=I.source.tagged||n.serverCache.isFiltered(),h=x_(t,n,I.path,I.children,i,o,v,u))}else if(e.type===ss.ACK_USER_WRITE){const I=e;h=I.revert?function AC(t,n,e,i,o,u){let h;if(null!=yf(i,e))return n;{const v=new Y0(i,n,o),w=n.eventCache.getNode();let I;if(kt(e)||".priority"===Lt(e)){let M;if(n.serverCache.isFullyInitialized())M=kd(i,du(n));else{const P=n.serverCache.getNode();(0,F.hu)(P instanceof z,"serverChildren would be complete if leaf node"),M=go(i,P)}I=t.filter.updateFullNode(w,M,u)}else{const M=Lt(e);let P=wg(i,M,n.serverCache);null==P&&n.serverCache.isCompleteForChild(M)&&(P=w.getImmediateChild(M)),I=null!=P?t.filter.updateChild(w,M,P,hn(e),v,u):n.eventCache.getNode().hasChild(M)?t.filter.updateChild(w,M,z.EMPTY_NODE,hn(e),v,u):w,I.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=kd(i,du(n)),h.isLeafNode()&&(I=t.filter.updateFullNode(I,h,u)))}return h=n.serverCache.isFullyInitialized()||null!=yf(i,qt()),ql(n,I,h,t.filter.filtersNodes())}}(t,n,I.path,i,o,u):function Ld(t,n,e,i,o,u,h){if(null!=yf(o,e))return n;const v=n.serverCache.isFiltered(),w=n.serverCache;if(null!=i.value){if(kt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return Cg(t,n,e,w.getNode().getChild(e),o,u,v,h);if(kt(e)){let I=new Pn(null);return w.getNode().forEachChild(is,(M,P)=>{I=I.set(new tn(M),P)}),x_(t,n,e,I,o,u,v,h)}return n}{let I=new Pn(null);return i.foreach((M,P)=>{const B=vn(e,M);w.isCompleteForPath(B)&&(I=I.set(M,w.getNode().getChild(B)))}),x_(t,n,e,I,o,u,v,h)}}(t,n,I.path,I.affectedTree,i,o,u)}else{if(e.type!==ss.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);h=function SC(t,n,e,i,o){const u=n.serverCache;return K0(t,yg(n,u.getNode(),u.isFullyInitialized()||kt(e),u.isFiltered()),e,i,Eg,o)}(t,n,e.path,i,u)}const w=u.getChanges();return function IC(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=tl(t);(e.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push(ia(tl(n)))}}(n,h,w),{viewCache:h,changes:w}}(t.processor_,o,n,e,i);return function Z0(t,n){(0,F.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,u.viewCache),(0,F.hu)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Bd(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Bd(t,n,e,i){return function dC(t,n,e,i){const o=[],u=[];return n.forEach(h=>{"child_changed"===h.type&&t.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(function Yl(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(h.childName,h.snapshotNode))}),ff(t,o,"child_removed",n,i,e),ff(t,o,"child_added",n,i,e),ff(t,o,"child_moved",u,i,e),ff(t,o,"child_changed",n,i,e),ff(t,o,"value",n,i,e),o}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let rn,Ef;class Vd{constructor(){this.views=new Map}}function Sg(t,n,e,i){const o=n.source.queryId;if(null!==o){const u=t.views.get(o);return(0,F.hu)(null!=u,"SyncTree gave us an op for an invalid query."),RC(u,n,e,i)}{let u=[];for(const h of t.views.values())u=u.concat(RC(h,n,e,i));return u}}function eb(t,n,e,i,o){const h=t.views.get(n._queryIdentifier);if(!h){let v=kd(e,o?i:null),w=!1;v?w=!0:i instanceof z?(v=go(e,i),w=!1):(v=z.EMPTY_NODE,w=!1);const I=pf(new Kl(v,w,!1),new Kl(i,o,!1));return new P_(n,I)}return h}function Df(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function hu(t,n){let e=null;for(const i of t.views.values())e=e||MC(i,n);return e}function Ag(t,n){return n._queryParams.loadsAllData()?wf(t):t.views.get(n._queryIdentifier)}function ib(t,n){return null!=Ag(t,n)}function aa(t){return null!=wf(t)}function wf(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let L_=1;class Cf{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Pn(null),this.pendingWriteTree_=function DC(){return{visibleWrites:os.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function B_(t,n,e,i,o){return function fC(t,n,e,i,o){(0,F.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:o}),o&&(t.visibleWrites=gf(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,o),o?ec(t,new el({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function mo(t,n,e=!1){const i=function Xl(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function vf(t,n){const e=t.allWrites.findIndex(v=>v.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let o=i.visible,u=!1,h=t.allWrites.length-1;for(;o&&h>=0;){const v=t.allWrites[h];v.visible&&(h>=e&&gC(v,i.path)?o=!1:ns(i.path,v.path)&&(u=!0)),h--}return!!o&&(u?(function Q1(t){t.visibleWrites=mC(t.allWrites,X1,qt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=mf(t.visibleWrites,i.path):qn(i.children,w=>{t.visibleWrites=mf(t.visibleWrites,vn(i.path,w))}),!0))}(t.pendingWriteTree_,n)){let u=new Pn(null);return null!=i.snap?u=u.set(qt(),!0):qn(i.children,h=>{u=u.set(new tn(h),!0)}),ec(t,new uu(i.path,u,e))}return[]}function jr(t,n,e){return ec(t,new el({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function Mg(t,n,e,i,o=!1){const u=n._path,h=t.syncPointTree_.get(u);let v=[];if(h&&("default"===n._queryIdentifier||ib(h,n))){const w=function nb(t,n,e,i){const o=n._queryIdentifier,u=[];let h=[];const v=aa(t);if("default"===o)for(const[w,I]of t.views.entries())h=h.concat(k_(I,e,i)),J0(I)&&(t.views.delete(w),I.query._queryParams.loadsAllData()||u.push(I.query));else{const w=t.views.get(o);w&&(h=h.concat(k_(w,e,i)),J0(w)&&(t.views.delete(o),w.query._queryParams.loadsAllData()||u.push(w.query)))}return v&&!aa(t)&&u.push(new(function X0(){return(0,F.hu)(rn,"Reference.ts has not been loaded"),rn}())(n._repo,n._path)),{removed:u,events:h}}(h,n,e,i);(function F_(t){return 0===t.views.size})(h)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const I=w.removed;if(v=w.events,!o){const M=-1!==I.findIndex(B=>B._queryParams.loadsAllData()),P=t.syncPointTree_.findOnPath(u,(B,te)=>aa(te));if(M&&!P){const B=t.syncPointTree_.subtree(u);if(!B.isEmpty()){const te=function rA(t){return t.fold((n,e,i)=>{if(e&&aa(e))return[wf(e)];{let o=[];return e&&(o=Df(e)),qn(i,(u,h)=>{o=o.concat(h)}),o}})}(B);for(let Se=0;Se<te.length;++Se){const He=te[Se],$e=He.query,ft=G_(t,He);t.listenProvider_.startListening(Rg($e),pu(t,$e),ft.hashFn,ft.onComplete)}}}!P&&I.length>0&&!i&&(M?t.listenProvider_.stopListening(Rg(n),null):I.forEach(B=>{const te=t.queryToTagMap.get(W_(B));t.listenProvider_.stopListening(Rg(B),te)}))}!function xg(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const o=W_(i),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}(t,I)}return v}function j_(t,n,e,i){const o=sb(t,i);if(null!=o){const u=z_(o),h=u.path,v=u.queryId,w=Yi(h,n);return Y_(t,h,new el(hf(v),w,e))}return[]}function H_(t,n,e,i=!1){const o=n._path;let u=null,h=!1;t.syncPointTree_.foreachOnPath(o,(B,te)=>{const Se=Yi(B,o);u=u||hu(te,Se),h=h||aa(te)});let w,v=t.syncPointTree_.get(o);v?(h=h||aa(v),u=u||hu(v,qt())):(v=new Vd,t.syncPointTree_=t.syncPointTree_.set(o,v)),null!=u?w=!0:(w=!1,u=z.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((te,Se)=>{const He=hu(Se,qt());He&&(u=u.updateImmediateChild(te,He))}));const I=ib(v,n);if(!I&&!n._queryParams.loadsAllData()){const B=W_(n);(0,F.hu)(!t.queryToTagMap.has(B),"View does not exist, but we have a tag");const te=function FC(){return L_++}();t.queryToTagMap.set(B,te),t.tagToQueryMap.set(te,B)}let P=function tb(t,n,e,i,o,u){const h=eb(t,n,i,o,u);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,h),function OC(t,n){t.eventRegistrations_.push(n)}(h,e),function iA(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(En,(u,h)=>{i.push(rs(u,h))}),e.isFullyInitialized()&&i.push(ia(e.getNode())),Bd(t,i,e.getNode(),n)}(h,e)}(v,n,e,Dg(t.pendingWriteTree_,o),u,w);if(!I&&!h&&!i){const B=Ag(v,n);P=P.concat(function Z_(t,n,e){const i=n._path,o=pu(t,n),u=G_(t,e),h=t.listenProvider_.startListening(Rg(n),o,u.hashFn,u.onComplete),v=t.syncPointTree_.subtree(i);if(o)(0,F.hu)(!aa(v.value),"If we're adding a query, it shouldn't be shadowed");else{const w=v.fold((I,M,P)=>{if(!kt(I)&&M&&aa(M))return[wf(M).query];{let B=[];return M&&(B=B.concat(Df(M).map(te=>te.query))),qn(P,(te,Se)=>{B=B.concat(Se)}),B}});for(let I=0;I<w.length;++I){const M=w[I];t.listenProvider_.stopListening(Rg(M),pu(t,M))}}return h}(t,n,B))}return P}function Og(t,n,e){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(n,(h,v)=>{const I=hu(v,Yi(h,n));if(I)return I});return _C(o,n,u,e,!0)}function ec(t,n){return $_(n,t.syncPointTree_,null,Dg(t.pendingWriteTree_,qt()))}function $_(t,n,e,i){if(kt(t.path))return rb(t,n,e,i);{const o=n.get(qt());null==e&&null!=o&&(e=hu(o,qt()));let u=[];const h=Lt(t.path),v=t.operationForChild(h),w=n.children.get(h);if(w&&v){const I=e?e.getImmediateChild(h):null,M=wC(i,h);u=u.concat($_(v,w,I,M))}return o&&(u=u.concat(Sg(o,t,i,e))),u}}function rb(t,n,e,i){const o=n.get(qt());null==e&&null!=o&&(e=hu(o,qt()));let u=[];return n.children.inorderTraversal((h,v)=>{const w=e?e.getImmediateChild(h):null,I=wC(i,h),M=t.operationForChild(h);M&&(u=u.concat(rb(M,v,w,I)))}),o&&(u=u.concat(Sg(o,t,i,e))),u}function G_(t,n){const e=n.query,i=pu(t,e);return{hashFn:()=>(function q0(t){return t.viewCache_.serverCache.getNode()}(n)||z.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function PC(t,n,e){const i=sb(t,e);if(i){const o=z_(i),u=o.path,h=o.queryId,v=Yi(u,n);return Y_(t,u,new xd(hf(h),v))}return[]}(t,e._path,i):function U_(t,n){return ec(t,new xd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const u=function Jh(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(o,e);return Mg(t,e,null,u)}}}}function pu(t,n){const e=W_(n);return t.queryToTagMap.get(e)}function W_(t){return t._path.toString()+"$"+t._queryIdentifier}function sb(t,n){return t.tagToQueryMap.get(n)}function z_(t){const n=t.indexOf("$");return(0,F.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new tn(t.substr(0,n))}}function Y_(t,n,e){const i=t.syncPointTree_.get(n);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),Sg(i,e,Dg(t.pendingWriteTree_,n),null)}function Rg(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function xC(){return(0,F.hu)(Ef,"Reference.ts has not been loaded"),Ef}())(t._repo,t._path):t}class If{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new If(e)}node(){return this.node_}}class tc{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=vn(this.path_,n);return new tc(this.syncTree_,e)}node(){return Og(this.syncTree_,this.path_)}}const K_=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Pg=function(t,n,e){return t&&"object"==typeof t?((0,F.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Tf(t[".sv"],n,e):"object"==typeof t[".sv"]?kg(t[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Tf=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+t)},kg=function(t,n,e){t.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const o=n.node();if((0,F.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const h=o.getValue();return"number"!=typeof h?i:h+i},gu=function(t,n,e,i){return Af(n,new tc(e,t),i)},Sf=function(t,n,e){return Af(t,new If(n),e)};function Af(t,n,e){const i=t.getPriority().val(),o=Pg(i,n.getImmediateChild(".priority"),e);let u;if(t.isLeafNode()){const h=t,v=Pg(h.getValue(),n,e);return v!==h.getValue()||o!==h.getPriority().val()?new po(v,Ye(o)):t}{const h=t;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new po(o))),h.forEachChild(En,(v,w)=>{const I=Af(w,n.getImmediateChild(v),e);I!==w&&(u=u.updateImmediateChild(v,I))}),u}}class jd{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function q_(t,n){let e=n instanceof tn?n:new tn(n),i=t,o=Lt(e);for(;null!==o;){const u=(0,F.DV)(i.node.children,o)||{children:{},childCount:0};i=new jd(o,i,u),e=hn(e),o=Lt(e)}return i}function il(t){return t.node.value}function mu(t,n){t.node.value=n,Q_(t)}function ob(t){return t.node.childCount>0}function Fg(t,n){qn(t.node.children,(e,i)=>{n(new jd(e,t,i))})}function lb(t,n,e,i){e&&!i&&n(t),Fg(t,o=>{lb(o,n,!0,i)}),e&&i&&n(t)}function Hd(t){return new tn(null===t.parent?t.name:Hd(t.parent)+"/"+t.name)}function Q_(t){null!==t.parent&&function LC(t,n,e){const i=function ab(t){return void 0===il(t)&&!ob(t)}(e),o=(0,F.r3)(t.node.children,n);i&&o?(delete t.node.children[n],t.node.childCount--,Q_(t)):!i&&!o&&(t.node.children[n]=e.node,t.node.childCount++,Q_(t))}(t.parent,t.name,t)}const sA=/[\[\].#$\/\u0000-\u001F\u007F]/,BC=/[\[\].#$\u0000-\u001F\u007F]/,$d=10485760,Gd=function(t){return"string"==typeof t&&0!==t.length&&!sA.test(t)},cb=function(t){return"string"==typeof t&&0!==t.length&&!BC.test(t)},_u=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Br(t)||t&&"object"==typeof t&&(0,F.r3)(t,".sv")},as=function(t,n,e,i){i&&void 0===n||Nf((0,F.gK)(t,"value"),n,e)},Nf=function(t,n,e){const i=e instanceof tn?new F0(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Xo(i));if("function"==typeof n)throw new Error(t+"contains a function "+Xo(i)+" with contents = "+n.toString());if(Br(n))throw new Error(t+"contains "+n.toString()+" "+Xo(i));if("string"==typeof n&&n.length>$d/3&&(0,F.ug)(n)>$d)throw new Error(t+"contains a string greater than "+$d+" utf8 bytes "+Xo(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let o=!1,u=!1;if(qn(n,(h,v)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(u=!0,!Gd(h)))throw new Error(t+" contains an invalid key ("+h+") "+Xo(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function D_(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,F.ug)(n),af(t)})(i,h),Nf(t,v,i),function ug(t){const n=t.parts_.pop();t.byteLength_-=(0,F.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),o&&u)throw new Error(t+' contains ".value" child '+Xo(i)+" in addition to actual children.")}},hb=function(t,n,e,i){if(i&&void 0===n)return;const o=(0,F.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const u=[];qn(n,(h,v)=>{const w=new tn(h);if(Nf(o,v,vn(e,w)),".priority"===ag(w)&&!_u(v))throw new Error(o+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(w)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const u=Td(i);for(let h=0;h<u.length;h++)if((".priority"!==u[h]||h!==u.length-1)&&!Gd(u[h]))throw new Error(t+"contains an invalid key ("+u[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(k0);let o=null;for(e=0;e<n.length;e++){if(i=n[e],null!==o&&ns(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,u)},Lg=function(t,n,e){if(!e||void 0!==n){if(Br(n))throw new Error((0,F.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_u(n))throw new Error((0,F.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Bg=function(t,n,e,i){if(!(i&&void 0===e||Gd(e)))throw new Error((0,F.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Mf=function(t,n,e,i){if(!(i&&void 0===e||cb(e)))throw new Error((0,F.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vg=function(t,n,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Mf(t,n,e,i)},Ps=function(t,n){if(".info"===Lt(n))throw new Error(t+" failed = Can't modify data under /.info/")},vu=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Gd(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cb(t)}(e))throw new Error((0,F.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Of{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ug(t,n){let e=null;for(let i=0;i<n.length;i++){const o=n[i],u=o.getPath();null!==e&&!ru(u,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(o)}e&&t.eventLists_.push(e)}function X_(t,n,e){Ug(t,e),fb(t,i=>ru(i,n))}function ls(t,n,e){Ug(t,e),fb(t,i=>ns(i,n)||ns(n,i))}function fb(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];o&&(n(o.path)?(VC(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function VC(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();Wi&&Kn("event: "+e.toString()),_n(i)}}}const ev="repo_interrupt",pb=25;class tv{constructor(n,e,i,o){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Of,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=df(),this.transactionQueueTree_=new jd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jg(t){const e=t.infoData_.getNode(new tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Wd(t){return K_({timestamp:jg(t)})}function gb(t,n,e,i,o){t.dataUpdateCount++;const u=new tn(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let h=[];if(o)if(i){const w=(0,F.UI)(e,I=>Ye(I));h=function Ud(t,n,e,i){const o=sb(t,i);if(o){const u=z_(o),h=u.path,v=u.queryId,w=Yi(h,n),I=Pn.fromObject(e);return Y_(t,h,new oa(hf(v),w,I))}return[]}(t.serverSyncTree_,u,w,o)}else{const w=Ye(e);h=j_(t.serverSyncTree_,u,w,o)}else if(i){const w=(0,F.UI)(e,I=>Ye(I));h=function Ng(t,n,e){const i=Pn.fromObject(e);return ec(t,new oa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,u,w)}else{const w=Ye(e);h=jr(t.serverSyncTree_,u,w)}let v=u;h.length>0&&(v=kf(t,u)),ls(t.eventQueue_,v,h)}function mb(t,n){nv(t,"connected",n),!1===n&&function vb(t){xf(t,"onDisconnectEvents");const n=Wd(t),e=df();Rd(t.onDisconnect_,qt(),(o,u)=>{const h=gu(o,u,t.serverSyncTree_,n);Od(e,o,h)});let i=[];Rd(e,qt(),(o,u)=>{i=i.concat(jr(t.serverSyncTree_,o,u));const h=Ff(t,o);kf(t,h)}),t.onDisconnect_=df(),ls(t.eventQueue_,qt(),i)}(t)}function nv(t,n,e){const i=new tn("/.info/"+n),o=Ye(e);t.infoData_.updateSnapshot(i,o);const u=jr(t.infoSyncTree_,i,o);ls(t.eventQueue_,i,u)}function Rf(t){return t.nextWriteId_++}function iv(t,n,e,i,o){xf(t,"set",{path:n.toString(),value:e,priority:i});const u=Wd(t),h=Ye(e,i),v=Og(t.serverSyncTree_,n),w=Sf(h,v,u),I=Rf(t),M=B_(t.serverSyncTree_,n,w,I,!0);Ug(t.eventQueue_,M),t.server_.put(n.toString(),h.val(!0),(B,te)=>{const Se="ok"===B;Se||wn("set at "+n+" failed: "+B);const He=mo(t.serverSyncTree_,I,!Se);ls(t.eventQueue_,n,He),nc(0,o,B,te)});const P=Ff(t,n);kf(t,P),ls(t.eventQueue_,P,[])}function yb(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,o)=>{"ok"===i&&B0(t.onDisconnect_,n),nc(0,e,i,o)})}function ks(t,n,e,i){const o=Ye(e);t.server_.onDisconnectPut(n.toString(),o.val(!0),(u,h)=>{"ok"===u&&Od(t.onDisconnect_,n,o),nc(0,i,u,h)})}function la(t,n,e){let i;i=".info"===Lt(n._path)?Mg(t.infoSyncTree_,n,e):Mg(t.serverSyncTree_,n,e),X_(t.eventQueue_,n._path,i)}function Hg(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ev)}function xf(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Kn(e,...n)}function nc(t,n,e,i){n&&_n(()=>{if("ok"===e)n(null);else{const o=(e||"error").toUpperCase();let u=o;i&&(u+=": "+i);const h=new Error(u);h.code=o,n(h)}})}function Fs(t,n,e){return Og(t.serverSyncTree_,n,e)||z.EMPTY_NODE}function Pf(t,n=t.transactionQueueTree_){if(n||Gg(t,n),il(n)){const e=$g(t,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function HC(t,n,e){const i=e.map(I=>I.currentWriteId),o=Fs(t,n,i);let u=o;const h=o.hash();for(let I=0;I<e.length;I++){const M=e[I];(0,F.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const P=Yi(n,M.path);u=u.updateChild(P,M.currentOutputSnapshotRaw)}const v=u.val(!0),w=n;t.server_.put(w.toString(),v,I=>{xf(t,"transaction put response",{path:w.toString(),status:I});let M=[];if("ok"===I){const P=[];for(let B=0;B<e.length;B++)e[B].status=2,M=M.concat(mo(t.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&P.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();Gg(t,q_(t.transactionQueueTree_,n)),Pf(t,t.transactionQueueTree_),ls(t.eventQueue_,n,M);for(let B=0;B<P.length;B++)_n(P[B])}else{if("datastale"===I)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{wn("transaction at "+w.toString()+" failed: "+I);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=I}kf(t,n)}},h)}(t,Hd(n),e)}else ob(n)&&Fg(n,e=>{Pf(t,e)})}function kf(t,n){const e=Db(t,n),i=Hd(e);return function Bi(t,n,e){if(0===n.length)return;const i=[];let o=[];const h=n.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<n.length;v++){const w=n[v],I=Yi(e,w.path);let P,M=!1;if((0,F.hu)(null!==I,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)M=!0,P=w.abortReason,o=o.concat(mo(t.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=pb)M=!0,P="maxretry",o=o.concat(mo(t.serverSyncTree_,w.currentWriteId,!0));else{const B=Fs(t,w.path,h);w.currentInputSnapshot=B;const te=n[v].update(B.val());if(void 0!==te){Nf("transaction failed: Data returned ",te,w.path);let Se=Ye(te);"object"==typeof te&&null!=te&&(0,F.r3)(te,".priority")||(Se=Se.updatePriority(B.getPriority()));const $e=w.currentWriteId,ft=Wd(t),gt=Sf(Se,B,ft);w.currentOutputSnapshotRaw=Se,w.currentOutputSnapshotResolved=gt,w.currentWriteId=Rf(t),h.splice(h.indexOf($e),1),o=o.concat(B_(t.serverSyncTree_,w.path,gt,w.currentWriteId,w.applyLocally)),o=o.concat(mo(t.serverSyncTree_,$e,!0))}else M=!0,P="nodata",o=o.concat(mo(t.serverSyncTree_,w.currentWriteId,!0))}ls(t.eventQueue_,e,o),o=[],M&&(n[v].status=2,setTimeout(n[v].unwatcher,Math.floor(0)),n[v].onComplete&&i.push("nodata"===P?()=>n[v].onComplete(null,!1,n[v].currentInputSnapshot):()=>n[v].onComplete(new Error(P),!1,null)))}Gg(t,t.transactionQueueTree_);for(let v=0;v<i.length;v++)_n(i[v]);Pf(t,t.transactionQueueTree_)}(t,$g(t,e),i),i}function Db(t,n){let e,i=t.transactionQueueTree_;for(e=Lt(n);null!==e&&void 0===il(i);)i=q_(i,e),e=Lt(n=hn(n));return i}function $g(t,n){const e=[];return wb(t,n,e),e.sort((i,o)=>i.order-o.order),e}function wb(t,n,e){const i=il(n);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);Fg(n,o=>{wb(t,o,e)})}function Gg(t,n){const e=il(n);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,mu(n,e.length>0?e:void 0)}Fg(n,i=>{Gg(t,i)})}function Ff(t,n){const e=Hd(Db(t,n)),i=q_(t.transactionQueueTree_,n);return function J_(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,o=>{Wg(t,o)}),Wg(t,i),lb(i,o=>{Wg(t,o)}),e}function Wg(t,n){const e=il(n);if(e){const i=[];let o=[],u=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,F.hu)(u===h-1,"All SENT items should be at beginning of queue."),u=h,e[h].status=3,e[h].abortReason="set"):((0,F.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(mo(t.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===u?mu(n,void 0):e.length=u+1,ls(t.eventQueue_,Hd(n),o);for(let h=0;h<i.length;h++)_n(i[h])}}const zg=function(t,n){const e=Cb(t),i=e.namespace;return"firebase.com"===e.domain&&ar(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ar("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ke(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new tn(e.pathString)}},Cb=function(t){let n="",e="",i="",o="",u="",h=!0,v="https",w=443;if("string"==typeof t){let I=t.indexOf("//");I>=0&&(v=t.substring(0,I-1),t=t.substring(I+2));let M=t.indexOf("/");-1===M&&(M=t.length);let P=t.indexOf("?");-1===P&&(P=t.length),n=t.substring(0,Math.min(M,P)),M<P&&(o=function Eb(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}(t.substring(M,P)));const B=function $C(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):wn(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,P)));I=n.indexOf(":"),I>=0?(h="https"===v||"wss"===v,w=parseInt(n.substring(I+1),10)):I=n.length;const te=n.slice(0,I);if("localhost"===te.toLowerCase())e="localhost";else if(te.split(".").length<=2)e=te;else{const Se=n.indexOf(".");i=n.substring(0,Se).toLowerCase(),e=n.substring(Se+1),u=i}"ns"in B&&(u=B.ns)}return{host:n,port:w,domain:e,subdomain:i,secure:h,scheme:v,pathString:o,namespace:u}},Ib="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",GC=function(){let t=0;const n=[];return function(e){const i=e===t;let o;t=e;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Ib.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let h=u.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Ib.charAt(n[o]);return(0,F.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class Tb{constructor(n,e,i,o){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class ov{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ic{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class ca{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return yb(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ps("OnDisconnect.remove",this._path);const n=new F.BH;return ks(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ps("OnDisconnect.set",this._path),as("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return ks(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){Ps("OnDisconnect.setWithPriority",this._path),as("OnDisconnect.setWithPriority",n,this._path,!1),Lg("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function bb(t,n,e,i,o){const u=Ye(e,i);t.server_.onDisconnectPut(n.toString(),u.val(!0),(h,v)=>{"ok"===h&&Od(t.onDisconnect_,n,u),nc(0,o,h,v)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){Ps("OnDisconnect.update",this._path),hb("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function lA(t,n,e,i){if((0,F.xb)(e))return Kn("onDisconnect().update() called with empty data.  Don't do anything."),void nc(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(o,u)=>{"ok"===o&&qn(e,(h,v)=>{const w=Ye(v);Od(t.onDisconnect_,vn(n,h),w)}),nc(0,i,o,u)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Mi{constructor(n,e,i,o){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return kt(this._path)?null:ag(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const n=S_(this._queryParams),e=ao(n);return"{}"===e?"default":e}get _queryObject(){return S_(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof Mi))return!1;const e=this._repo===n._repo,i=ru(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function lg(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function Yg(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function rc(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===is){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==lr)throw new Error(i);if("string"!=typeof n)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==Ei)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(t.getIndex()===En){if(null!=n&&!_u(n)||null!=e&&!_u(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(t.getIndex()instanceof On||t.getIndex()===Qa,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Lf(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class cs extends Mi{constructor(n,e){super(n,e,new lu,!1)}get parent(){const n=cg(this._path);return null===n?null:new cs(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class rl{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new tn(n),i=sc(this.ref,n);return new rl(this._node.getChild(e),i,En)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>n(new rl(o,sc(this.ref,i),En)))}hasChild(n){const e=new tn(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zd(t,n){return(t=(0,F.m9)(t))._checkNotDeleted("ref"),void 0!==n?sc(t._root,n):t._root}function Bf(t,n){(t=(0,F.m9)(t))._checkNotDeleted("refFromURL");const e=zg(n,t._repo.repoInfo_.nodeAdmin);vu("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&ar("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),zd(t,e.path.toString())}function sc(t,n){return null===Lt((t=(0,F.m9)(t))._path)?Vg("child","path",n,!1):Mf("child","path",n,!1),new cs(t._repo,vn(t._path,n))}function av(t,n){t=(0,F.m9)(t),Ps("set",t._path),as("set",n,t._path,!1);const e=new F.BH;return iv(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function cA(t,n){hb("update",n,t._path,!1);const e=new F.BH;return function aA(t,n,e,i){xf(t,"update",{path:n.toString(),value:e});let o=!0;const u=Wd(t),h={};if(qn(e,(v,w)=>{o=!1,h[v]=gu(vn(n,v),Ye(w),t.serverSyncTree_,u)}),o)Kn("update() called with empty data.  Don't do anything."),nc(0,i,"ok",void 0);else{const v=Rf(t),w=function V_(t,n,e,i){!function pC(t,n,e,i){(0,F.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=Jl(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const o=Pn.fromObject(e);return ec(t,new oa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,o))}(t.serverSyncTree_,n,h,v);Ug(t.eventQueue_,w),t.server_.merge(n.toString(),e,(I,M)=>{const P="ok"===I;P||wn("update at "+n+" failed: "+I);const B=mo(t.serverSyncTree_,v,!P),te=B.length>0?kf(t,n):n;ls(t.eventQueue_,te,B),nc(0,i,I,M)}),qn(e,I=>{const M=Ff(t,vn(n,I));kf(t,M)}),ls(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function KC(t){t=(0,F.m9)(t);const n=new ic(()=>{}),e=new Zg(n);return function UC(t,n,e){const i=function kC(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(I,M)=>{const P=Yi(I,e);i=i||hu(M,P)});let o=t.syncPointTree_.get(e);o?i=i||hu(o,qt()):(o=new Vd,t.syncPointTree_=t.syncPointTree_.set(e,o));const u=null!=i,h=u?new Kl(i,!0,!1):null;return function NC(t){return tl(t.viewCache_)}(eb(o,n,Dg(t.pendingWriteTree_,n._path),u?h.getNode():z.EMPTY_NODE,u))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(o=>{const u=Ye(o).withIndex(n._queryParams.getIndex());let h;if(H_(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())h=jr(t.serverSyncTree_,n._path,u);else{const v=pu(t.serverSyncTree_,n);h=j_(t.serverSyncTree_,n._path,u,v)}return ls(t.eventQueue_,n._path,h),Mg(t.serverSyncTree_,n,e,null,!0),u},o=>(xf(t,"get for query "+(0,F.Wl)(n)+" failed: "+o),Promise.reject(new Error(o))))}(t._repo,t,e).then(i=>new rl(i,new cs(t._repo,t._path),t._queryParams.getIndex()))}class Zg{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new Tb("value",this,new rl(n.snapshotNode,new cs(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ov(this,n,e):null}matches(n){return n instanceof Zg&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class lv{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new ov(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const i=sc(new cs(e._repo,e._path),n.childName),o=e._queryParams.getIndex();return new Tb(n.type,this,new rl(n.snapshotNode,i,o),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof lv&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Yd(t,n,e,i,o){let u;if("object"==typeof i&&(u=void 0,o=i),"function"==typeof i&&(u=i),o&&o.onlyOnce){const w=e,I=(M,P)=>{la(t._repo,t,v),w(M,P)};I.userCallback=e.userCallback,I.context=e.context,e=I}const h=new ic(e,u||void 0),v="value"===n?new Zg(h):new lv(n,h);return function rv(t,n,e){let i;i=".info"===Lt(n._path)?H_(t.infoSyncTree_,n,e):H_(t.serverSyncTree_,n,e),X_(t.eventQueue_,n._path,i)}(t._repo,t,v),()=>la(t._repo,t,v)}function Kg(t,n,e,i){return Yd(t,"value",n,e,i)}function qC(t,n,e,i){return Yd(t,"child_added",n,e,i)}function Vf(t,n,e,i){return Yd(t,"child_changed",n,e,i)}function JC(t,n,e,i){return Yd(t,"child_moved",n,e,i)}function cv(t,n,e,i){return Yd(t,"child_removed",n,e,i)}function uv(t,n,e){let i=null;const o=e?new ic(e):null;"value"===n?i=new Zg(o):n&&(i=new lv(n,o)),la(t._repo,t,i)}class _o{}class dv extends _o{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("endAt",this._value,n._path,!0);const e=uf(n._queryParams,this._value,this._key);if(Lf(e),rc(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class Pt extends _o{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("endBefore",this._value,n._path,!1);const e=function cC(t,n,e){let i;return i=uf(t,n,t.index_===is||e?e:lr),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(Lf(e),rc(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class hv extends _o{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("startAt",this._value,n._path,!0);const e=Md(n._queryParams,this._value,this._key);if(Lf(e),rc(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class Mb extends _o{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){as("startAfter",this._value,n._path,!1);const e=function T_(t,n,e){let i;return i=Md(t,n,t.index_===is||e?e:Ei),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(Lf(e),rc(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class qg extends _o{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(n._repo,n._path,function cf(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class fv extends _o{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(n._repo,n._path,function gg(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Ob extends _o{constructor(n){super(),this._path=n}_apply(n){Yg(n,"orderByChild");const e=new tn(this._path);if(kt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new On(e),o=mg(n._queryParams,i);return rc(o),new Mi(n._repo,n._path,o,!0)}}class gv extends _o{_apply(n){Yg(n,"orderByKey");const e=mg(n._queryParams,is);return rc(e),new Mi(n._repo,n._path,e,!0)}}class Rb extends _o{_apply(n){Yg(n,"orderByPriority");const e=mg(n._queryParams,En);return rc(e),new Mi(n._repo,n._path,e,!0)}}class XC extends _o{_apply(n){Yg(n,"orderByValue");const e=mg(n._queryParams,Qa);return rc(e),new Mi(n._repo,n._path,e,!0)}}class tI extends _o{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(as("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dv(this._value,this._key)._apply(new hv(this._value,this._key)._apply(n))}}function vo(t,...n){let e=(0,F.m9)(t);for(const i of n)e=i._apply(e);return e}(function Q0(t){(0,F.hu)(!rn,"__referenceConstructor has already been defined"),rn=t})(cs),function fu(t){(0,F.hu)(!Ef,"__referenceConstructor has already been defined"),Ef=t}(cs);const vv={};function yv(t,n,e,i,o){let u=i||t.options.databaseURL;void 0===u&&(t.options.projectId||ar("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kn("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let w,I,h=zg(u,o),v=h.repoInfo;typeof process<"u"&&process.env&&(I=process.env.FIREBASE_DATABASE_EMULATOR_HOST),I?(w=!0,u=`http://${I}?ns=${v.namespace}`,h=zg(u,o),v=h.repoInfo):w=!h.repoInfo.secure;const M=o&&w?new co(co.OWNER):new qp(t.name,t.options,n);vu("Invalid Firebase Database URL",h),kt(h.path)||ar("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function rI(t,n,e,i){let o=vv[n.name];o||(o={},vv[n.name]=o);let u=o[t.toURLString()];return u&&ar("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new tv(t,false,e,i),o[t.toURLString()]=u,u}(v,t,M,new bd(t.name,e));return new sI(P,t)}class sI{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function oA(t,n,e){if(t.stats_=Os(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new sa(t.repoInfo_,(i,o,u,h)=>{gb(t,i,o,u,h)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mb(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Vr(t.repoInfo_,n,(i,o,u,h)=>{gb(t,i,o,u,h)},i=>{mb(t,i)},i=>{!function _b(t,n){qn(n,(e,i)=>{nv(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function Vn(t,n){const e=t.toString();return Bn[e]||(Bn[e]=n()),Bn[e]}(t.repoInfo_,()=>new j0(t.stats_,t.server_)),t.infoData_=new L0,t.infoSyncTree_=new Cf({startListening:(i,o,u,h)=>{let v=[];const w=t.infoData_.getNode(i._path);return w.isEmpty()||(v=jr(t.infoSyncTree_,i._path,w),setTimeout(()=>{h("ok")},0)),v},stopListening:()=>{}}),nv(t,"connected",!1),t.serverSyncTree_=new Cf({startListening:(i,o,u,h)=>(t.server_.listen(i,u,o,(v,w)=>{const I=h(v,w);ls(t.eventQueue_,i._path,I)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function iI(t,n){const e=vv[n];(!e||e[t.key]!==t)&&ar(`Database ${n}(${t.repoInfo_}) has already been deleted.`),Hg(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&ar("Cannot call "+n+" on a deleted database.")}}function Fb(){eu.IS_TRANSPORT_INITIALIZED&&wn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uA(){Fb(),Jo.forceDisallow()}function bv(){Fb(),Rs.forceDisallow(),Jo.forceAllow()}function Bb(t,n){$a(t,n)}const uI={".sv":"timestamp"};class hI{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Vr.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Vr.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function cI(t){zc(Ll.SDK_VERSION),(0,Ll._registerComponent)(new Lr.wA("database",(n,{instanceIdentifier:e})=>yv(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ll.registerVersion)(Jr,"0.14.4",t),(0,Ll.registerVersion)(Jr,"0.14.4","esm2017")}();const pI=new $o.Yd("@firebase/database-compat"),Ev=function(t){pI.warn("FIREBASE WARNING: "+t)};class Ub{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(n,e);return i&&o.then(()=>i(null),u=>i(u)),o}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Ev("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),o=>e(o)),i}}class Jg{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class da{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),Mf("DataSnapshot.child","path",n,!1),new da(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Mf("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new da(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Hr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class dr{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,o){var u;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const h=dr.getCancelAndContextArgs_("Query.on",i,o),v=(I,M)=>{e.call(h.context,new da(this.database,I),M)};v.userCallback=e,v.context=h.context;const w=null===(u=h.cancel)||void 0===u?void 0:u.bind(h.context);switch(n){case"value":return Kg(this._delegate,v,w),e;case"child_added":return qC(this._delegate,v,w),e;case"child_removed":return cv(this._delegate,v,w),e;case"child_changed":return Vf(this._delegate,v,w),e;case"child_moved":return JC(this._delegate,v,w),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,uv(this._delegate,n,o)}else uv(this._delegate,n)}get(){return KC(this._delegate).then(n=>new da(this.database,n))}once(n,e,i,o){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const u=dr.getCancelAndContextArgs_("Query.once",i,o),h=new F.BH,v=(I,M)=>{const P=new da(this.database,I);e&&e.call(u.context,P,M),h.resolve(P)};v.userCallback=e,v.context=u.context;const w=I=>{u.cancel&&u.cancel.call(u.context,I),h.reject(I)};switch(n){case"value":Kg(this._delegate,v,w,{onlyOnce:!0});break;case"child_added":qC(this._delegate,v,w,{onlyOnce:!0});break;case"child_removed":cv(this._delegate,v,w,{onlyOnce:!0});break;case"child_changed":Vf(this._delegate,v,w,{onlyOnce:!0});break;case"child_moved":JC(this._delegate,v,w,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new dr(this.database,vo(this._delegate,function Kd(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qg(t)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new dr(this.database,vo(this._delegate,function Uf(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fv(t)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new dr(this.database,vo(this._delegate,function pv(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mf("orderByChild","path",t,!1),new Ob(t)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new dr(this.database,vo(this._delegate,function mv(){return new gv}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new dr(this.database,vo(this._delegate,function _v(){return new Rb}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new dr(this.database,vo(this._delegate,function eI(){return new XC}()))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new dr(this.database,vo(this._delegate,function Zd(t=null,n){return Bg("startAt","key",n,!0),new hv(t,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new dr(this.database,vo(this._delegate,function QC(t,n){return Bg("startAfter","key",n,!0),new Mb(t,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new dr(this.database,vo(this._delegate,function Ab(t,n){return Bg("endAt","key",n,!0),new dv(t,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new dr(this.database,vo(this._delegate,function Nb(t,n){return Bg("endBefore","key",n,!0),new Pt(t,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new dr(this.database,vo(this._delegate,function xb(t,n){return Bg("equalTo","key",n,!0),new tI(t,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof dr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,F.Wj)(n,"cancel",o.cancel,!0),o.context=i,(0,F.lb)(n,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Hr(this.database,new cs(this._delegate._repo,this._delegate._path))}}class Hr extends dr{constructor(n,e){super(n,new Mi(e._repo,e._path,new lu,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Hr(this.database,sc(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Hr(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Hr(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=av(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Ev("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ps("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=cA(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function Sb(t,n,e){if(Ps("setWithPriority",t._path),as("setWithPriority",n,t._path,!1),Lg("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new F.BH;return iv(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&o.then(()=>i(null),u=>i(u)),o}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function YC(t){return Ps("remove",t._path),av(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function fI(t,n,e){var i;if(t=(0,F.m9)(t),Ps("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const o=null===(i=e?.applyLocally)||void 0===i||i,u=new F.BH,v=Kg(t,()=>{});return function sv(t,n,e,i,o,u){xf(t,"transaction on "+n);const h={path:n,update:e,onComplete:i,status:null,order:Wo(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=Fs(t,n,void 0);h.currentInputSnapshot=v;const w=h.update(v.val());if(void 0===w)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Nf("transaction failed: Data returned ",w,h.path),h.status=0;const I=q_(t.transactionQueueTree_,n),M=il(I)||[];let P;M.push(h),mu(I,M),"object"==typeof w&&null!==w&&(0,F.r3)(w,".priority")?(P=(0,F.DV)(w,".priority"),(0,F.hu)(_u(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(Og(t.serverSyncTree_,n)||z.EMPTY_NODE).getPriority().val();const B=Wd(t),te=Ye(w,P),Se=Sf(te,v,B);h.currentOutputSnapshotRaw=te,h.currentOutputSnapshotResolved=Se,h.currentWriteId=Rf(t);const He=B_(t.serverSyncTree_,n,Se,h.currentWriteId,h.applyLocally);ls(t.eventQueue_,n,He),Pf(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(w,I,M)=>{let P=null;w?u.reject(w):(P=new rl(M,new cs(t._repo,t._path),En),u.resolve(new hI(I,P)))},v,o),u.promise}(this._delegate,n,{applyLocally:i}).then(u=>new Jg(u.committed,new da(this.database,u.snapshot)));return e&&o.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),o}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function ZC(t,n){t=(0,F.m9)(t),Ps("setPriority",t._path),Lg("setPriority",n,!1);const e=new F.BH;return iv(t._repo,vn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function zC(t,n){t=(0,F.m9)(t),Ps("push",t._path),as("push",n,t._path,!0);const e=jg(t._repo),i=GC(e),o=sc(t,i),u=sc(t,i);let h;return h=null!=n?av(u,n).then(()=>u):Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,n),o=i.then(h=>new Hr(this.database,h));e&&o.then(()=>e(null),h=>e(h));const u=new Hr(this.database,i);return u.then=o.then.bind(o),u.catch=o.catch.bind(o,void 0),u}onDisconnect(){return Ps("Reference.onDisconnect",this._delegate._path),new Ub(new ca(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class qd{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:uA,forceLongPolling:bv}}useEmulator(n,e,i={}){!function Lb(t,n,e,i={}){(t=(0,F.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&ar("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let u;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&ar('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new co(co.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,t.app.options.projectId);u=new co(h)}!function kb(t,n,e,i){t.repoInfo_=new Ke(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(o,n,e,u)}(this._delegate,n,e,i)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof Hr){const e=Bf(this._delegate,n.toString());return new Hr(this,e)}{const e=zd(this._delegate,n);return new Hr(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=Bf(this._delegate,n);return new Hr(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function aI(t){(t=(0,F.m9)(t))._checkNotDeleted("goOffline"),Hg(t._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function lI(t){(t=(0,F.m9)(t))._checkNotDeleted("goOnline"),function jC(t){t.persistentConnection_&&t.persistentConnection_.resume(ev)}(t._repo)}(this._delegate)}}qd.ServerValue={TIMESTAMP:function Dv(){return uI}(),increment:t=>function dI(t){return{".sv":{increment:t}}}(t)};var Hb=Object.freeze({__proto__:null,initStandalone:function jb({app:t,url:n,version:e,customAuthImpl:i,namespace:o,nodeAdmin:u=!1}){zc(e);const h=new Lr.zt("auth-internal",new Lr.H0("database-standalone"));return h.setComponent(new Lr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new qd(yv(t,h,void 0,n,u),t),namespace:o}}});const Cv=qd.ServerValue;!function sl(t){t.INTERNAL.registerComponent(new Lr.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:e});return new qd(o,i)},"PUBLIC").setServiceProps({Reference:Hr,Query:dr,Database:qd,DataSnapshot:da,enableLogging:Bb,INTERNAL:Hb,ServerValue:Cv}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(Ua.Z);var jn=R(8645),Vi=R(2459),Jd=R(3093),mI=R(4552);class $b extends jn.x{constructor(n=1/0,e=1/0,i=mI.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;e||(i.push(n),!o&&i.push(u.now()+h)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!n.closed;h+=i?1:2)n.next(u[h]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,u=(o?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!o){const h=e.now();let v=0;for(let w=1;w<i.length&&i[w]<=h;w+=2)v=w;v&&i.splice(0,v+1)}}}function Gb(t,n,e){let i,o=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):i=t??1/0,(0,La.B)({connector:()=>new $b(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const oc=(0,R(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ii(t,n){return(0,en.e)((e,i)=>{let o=0;e.subscribe((0,mn.x)(i,u=>t.call(n,u,o++)&&i.next(u)))})}var ds=R(6232);function hr(t){return t<=0?()=>ds.E:(0,en.e)((n,e)=>{let i=0;n.subscribe((0,mn.x)(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}function Xg(t){return(0,en.e)((n,e)=>{let i=!1;n.subscribe((0,mn.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function Iv(t=Wb){return(0,en.e)((n,e)=>{let i=!1;n.subscribe((0,mn.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function Wb(){return new oc}function ac(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ii((o,u)=>t(o,u,i)):Ho.y,hr(1),e?Xg(n):Iv(()=>new oc))}var Ls=R(4674);function Tv(t,n){return(0,Ls.m)(n)?(0,xn.w)(()=>t,n):(0,xn.w)(()=>t)}var em=R(5137);R(4097);var Xd=R(4303);const Av=new Map,Zb={activated:!1,tokenObservers:[]},wI={initialized:!1,enabled:!1};function ai(t){return Av.get(t)||Object.assign({},Zb)}function im(){return wI}const rm="https://content-firebaseappcheck.googleapis.com/v1",CI="exchangeDebugToken",II={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Qb{constructor(n,e,i,o,u){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,or.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function bA(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const qi=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jf(t){if(!ai(t).activated)throw qi.create("use-before-activation",{appName:t.name})}function lc(t,n){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,or.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(i["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(n),headers:i};let h,v;try{h=yield fetch(t,u)}catch(P){throw qi.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==h.status)throw qi.create("fetch-status-error",{httpStatus:h.status});try{v=yield h.json()}catch(P){throw qi.create("fetch-parse-error",{originalErrorMessage:P?.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const I=1e3*Number(w[1]),M=Date.now();return{token:v.token,expireTimeMillis:M+I,issuedAtTimeMillis:M}})).apply(this,arguments)}function fs(t,n){const{projectId:e,appId:i,apiKey:o}=t.options;return{url:`${rm}/projects/${e}/apps/${i}:${CI}?key=${o}`,body:{debug_token:n}}}const Mv="firebase-app-check-database",eh=1,ha="firebase-app-check-store";let ol=null;function lm(){return(lm=(0,or.Z)(function*(t,n){const i=(yield function Du(){return ol||(ol=new Promise((t,n)=>{try{const e=indexedDB.open(Mv,eh);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var o;n(qi.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ha,{keyPath:"compositeKey"})}}catch(e){n(qi.create("storage-open",{originalErrorMessage:e?.message}))}}),ol)}()).transaction(ha,"readwrite"),u=i.objectStore(ha).put({compositeKey:t,value:n});return new Promise((h,v)=>{u.onsuccess=w=>{h()},i.onerror=w=>{var I;v(qi.create("storage-set",{originalErrorMessage:null===(I=w.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const sh=new $o.Yd("@firebase/app-check");function dm(t,n){return(0,F.hl)()?function nh(t,n){return function Ov(t,n){return lm.apply(this,arguments)}(function xv(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{sh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function eD(){return im().enabled}function tD(){return Fv.apply(this,arguments)}function Fv(){return(Fv=(0,or.Z)(function*(){const t=im();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const DA={error:"UNKNOWN_ERROR"};function SI(t){return F.US.encodeString(JSON.stringify(t),!1)}function Lv(t){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,or.Z)(function*(t,n=!1){const e=t.app;jf(e);const i=ai(e);let u,o=i.token;if(o&&!fa(o)&&(i.token=void 0,o=void 0),!o){const w=yield i.cachedTokenPromise;w&&(fa(w)?o=w:yield dm(e,void 0))}if(!n&&o&&fa(o))return{token:o.token};let v,h=!1;if(eD()){i.exchangeTokenPromise||(i.exchangeTokenPromise=lc(fs(e,yield tD()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const w=yield i.exchangeTokenPromise;return yield dm(e,w),i.token=w,{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),o=yield ai(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?sh.warn(w.message):sh.error(w),u=w}return o?u?v=fa(o)?{token:o.token,internalError:u}:jv(u):(v={token:o.token},i.token=o,yield dm(e,o)):v=jv(u),h&&function Uv(t,n){const e=ai(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,v),v})).apply(this,arguments)}function nD(t){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,or.Z)(function*(t){const n=t.app;jf(n);const{provider:e}=ai(n);if(eD()){const i=yield tD(),{token:o}=yield lc(fs(n,i),t.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function wu(t,n){const e=ai(t),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function hm(t){const{app:n}=t,e=ai(n);let i=e.tokenRefresher;i||(i=function fm(t){const{app:n}=t;return new Qb((0,or.Z)(function*(){let i;if(i=ai(n).token?yield Lv(t,!0):yield Lv(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ai(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},II.RETRIAL_MIN_WAIT,II.RETRIAL_MAX_WAIT)}(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fa(t){return t.expireTimeMillis-Date.now()>0}function jv(t){return{token:SI(DA),error:t}}class AI{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=ai(this.app);for(const e of n)wu(this.app,e.next);return Promise.resolve()}}const _m="app-check-internal";!function cD(){(0,Xd.Xd)(new Lr.wA("app-check",t=>function $f(t,n){return new AI(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(_m).initialize()})),(0,Xd.Xd)(new Lr.wA(_m,t=>function NI(t){return{getToken:n=>Lv(t,n),getLimitedUseToken:()=>nD(t),addTokenListener:n=>function Hf(t,n,e,i){const{app:o}=t,u=ai(o);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:i,type:n}],u.token&&fa(u.token)){const v=u.token;Promise.resolve().then(()=>{e({token:v.token}),hm(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>hm(t))}(t,"INTERNAL",n),removeTokenListener:n=>wu(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xd.KN)("@firebase/app-check","0.8.0")}();class Kv{constructor(){return(0,Ln.vb)("app-check")}}typeof window<"u"&&window;var gD=R(120);const Jv=new c.OlP("angularfire2.auth.use-emulator"),Qv=new c.OlP("angularfire2.auth.settings"),vm=new c.OlP("angularfire2.auth.tenant-id"),Yf=new c.OlP("angularfire2.auth.langugage-code"),Xv=new c.OlP("angularfire2.auth.use-device-language"),ey=new c.OlP("angularfire.auth.persistence"),ty=(t,n,e,i,o,u,h,v)=>(0,mi.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const w=n.runOutsideAngular(()=>t.auth());if(e&&w.useEmulator(...e),i&&(w.tenantId=i),w.languageCode=o,u&&w.useDeviceLanguage(),h)for(const[I,M]of Object.entries(h))w.settings[I]=M;return v&&w.setPersistence(v),w},[e,i,o,u,h,v]);let ny=(()=>{class t{constructor(e,i,o,u,h,v,w,I,M,P,B,te){const Se=new jn.x,He=(0,vt.of)(void 0).pipe((0,Jd.Q)(h.outsideAngular),(0,xn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,8977)))),(0,Tt.U)(()=>(0,mi.on)(e,u,i)),(0,Tt.U)($e=>ty($e,u,v,I,M,P,w,B)),Gb({bufferSize:1,refCount:!1}));if(Es(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,vt.of)(null);else{He.pipe(ac()).subscribe();const ft=He.pipe((0,xn.w)(ut=>ut.getRedirectResult().then(Nt=>Nt,()=>null)),Ln.iC,Gb({bufferSize:1,refCount:!1})),gt=He.pipe((0,xn.w)(ut=>new Zn.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ut.onAuthStateChanged(Jt=>Nt.next(Jt),Jt=>Nt.error(Jt),()=>Nt.complete()))})))),Vt=He.pipe((0,xn.w)(ut=>new Zn.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ut.onIdTokenChanged(Jt=>Nt.next(Jt),Jt=>Nt.error(Jt),()=>Nt.complete()))}))));this.authState=ft.pipe(Tv(gt),(0,em.R)(h.outsideAngular),(0,Jd.Q)(h.insideAngular)),this.user=ft.pipe(Tv(Vt),(0,em.R)(h.outsideAngular),(0,Jd.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,xn.w)(ut=>ut?(0,Vi.D)(ut.getIdToken()):(0,vt.of)(null))),this.idTokenResult=this.user.pipe((0,xn.w)(ut=>ut?(0,Vi.D)(ut.getIdTokenResult()):(0,vt.of)(null))),this.credential=(0,Kr.T)(ft,Se,this.authState.pipe(Ii(ut=>!ut))).pipe((0,Tt.U)(ut=>ut?.user?ut:null),(0,em.R)(h.outsideAngular),(0,Jd.Q)(h.insideAngular))}return(0,mi.pX)(this,He,u,{spy:{apply:($e,ft,gt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&gt.then(Vt=>Se.next(Vt))}}})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(mi.Dh),c.LFG(mi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ln.HU),c.LFG(Jv,8),c.LFG(Qv,8),c.LFG(vm,8),c.LFG(Yf,8),c.LFG(Xv,8),c.LFG(ey,8),c.LFG(Kv,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function iy(t){return null==t}function Zf(t){return"function"==typeof t.set}function al(t,n){return Zf(n)?n:t.ref(n)}function vD(t,n){if(function mD(t){return"string"==typeof t}(t))return n.stringCase();if(Zf(t))return n.firebaseCase();if(function _D(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Kf(t,n,e="on",i=Fl.z){return new Zn.y(o=>{let u=null;return u=t[e](n,(h,v)=>{i.schedule(()=>{o.next({snapshot:h,prevKey:v})}),"once"===e&&i.schedule(()=>o.complete())},h=>{i.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=u&&t.off(n,u)}}:{unsubscribe(){}}}).pipe((0,Tt.U)(o=>{const{snapshot:u,prevKey:h}=o;let v=null;return u.exists()&&(v=u.key),{type:n,payload:u,prevKey:h,key:v}}),(0,La.B)())}function cc(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function zI(t,n){const{payload:e,prevKey:i,key:o}=n,u=cc(t,o),h=function sy(t,n){if(iy(n))return 0;{const e=cc(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let v=null;n.payload.forEach(w=>{const I={payload:w,type:"value",prevKey:v,key:w.key};return v=w.key,t=[...t,I],!1})}return t;case"child_added":if(u>-1){const v=t[u-1];(v&&v.key||null)!==i&&(t=t.filter(w=>w.payload.key!==e.key)).splice(h,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(h,0,n)}return t;case"child_removed":return t.filter(v=>v.payload.key!==e.key);case"child_changed":return t.map(v=>v.payload.key===o?n:v);case"child_moved":if(u>-1){const v=t.splice(u,1)[0];return(t=t.slice()).splice(h,0,v),t}return t;default:return t}}function ym(t){return(iy(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function YI(t,n,e){return function ry(t,n,e){return Kf(t,"value","once",e).pipe((0,xn.w)(i=>{const o=[(0,vt.of)(i)];return n.forEach(u=>o.push(Kf(t,u,"on",e))),(0,Kr.T)(...o).pipe(qr(zI,[]))}),(0,Ms.x)())}(t,n=ym(n),e)}function ZI(t,n,e){const i=(n=ym(n)).map(o=>Kf(t,o,"on",e));return(0,Kr.T)(...i)}function bD(t,n){return function(i,o){return vD(i,{stringCase:()=>t.child(i)[n](o),firebaseCase:()=>i[n](o),snapshotCase:()=>i.ref[n](o)})}}function Oi(t){return function(e){return e?vD(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function wD(t,n){return function(){return Kf(t,"value","on",n)}}const ED=new c.OlP("angularfire2.realtimeDatabaseURL"),QI=new c.OlP("angularfire2.database.use-emulator");let oy=(()=>{class t{constructor(e,i,o,u,h,v,w,I,M,P,B,te,Se,He,$e){this.schedulers=v;const ft=w,gt=(0,mi.on)(e,h,i);I&&ty(gt,h,M,B,te,Se,P,He),this.database=(0,mi.cc)(`${gt.name}.database.${o}`,"AngularFireDatabase",gt.name,()=>{const Vt=h.runOutsideAngular(()=>gt.database(o||void 0));return ft&&Vt.useEmulator(...ft),Vt},[ft])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>al(this.database,e));let u=o;return i&&(u=i(o)),function DD(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:bD(i,"update"),set:bD(i,"set"),push:o=>i.push(o),remove:Oi(i),snapshotChanges:o=>YI(t,o,e).pipe(Ln.iC),stateChanges:o=>ZI(t,o,e).pipe(Ln.iC),auditTrail:o=>function KI(t,n,e){return function yD(t,n,e){return function qI(t,n){return Kf(t,"value","on",n).pipe((0,Tt.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(kr(n),(0,Tt.U)(([o,u])=>{const h=o.lastKeyToLoad,v=u.map(w=>w.key);return{actions:u,lastKeyToLoad:h,loadedKeys:v}}),function Fr(t){return(0,en.e)((n,e)=>{let i=!1,o=0;n.subscribe((0,mn.x)(e,u=>(i||(i=!t(u,o++)))&&e.next(u)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Tt.U)(o=>o.actions))}(t,ZI(t,n).pipe(qr((o,u)=>[...o,u],[])),e)}(t,o,e).pipe(Ln.iC),valueChanges:(o,u)=>YI(t,o,e).pipe((0,Tt.U)(v=>v.map(w=>u&&u.idField?Object.assign(Object.assign({},w.payload.val()),{[u.idField]:w.key}):w.payload.val())),Ln.iC)}}(u,this)}object(e){return function JI(t,n){return{query:t,snapshotChanges:()=>wD(t,n.schedulers.outsideAngular)().pipe(Ln.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>wD(t,n.schedulers.outsideAngular)().pipe(Ln.iC,(0,Tt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>al(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(mi.Dh),c.LFG(mi.xv,8),c.LFG(ED,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Ln.HU),c.LFG(QI,8),c.LFG(ny,8),c.LFG(Jv,8),c.LFG(Qv,8),c.LFG(vm,8),c.LFG(Yf,8),c.LFG(Xv,8),c.LFG(ey,8),c.LFG(Kv,8))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),CD=(()=>{class t{constructor(){gD.Z.registerVersion("angularfire",Ln.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[oy]}),t})();var yo=R(5619);const{isArray:XI}=Array,{getPrototypeOf:ID,prototype:eT,keys:TD}=Object;const{isArray:ay}=Array;function ly(t){return(0,Tt.U)(n=>function pa(t,n){return ay(n)?t(...n):t(n)}(t,n))}var ga=R(7103);function ps(...t){const n=(0,Dr.yG)(t),e=(0,Dr.jO)(t),{args:i,keys:o}=function tT(t){if(1===t.length){const n=t[0];if(XI(n))return{args:n,keys:null};if(function SD(t){return t&&"object"==typeof t&&ID(t)===eT}(n)){const e=TD(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}(t);if(0===i.length)return(0,Vi.D)([],n);const u=new Zn.y(function bo(t,n,e=Ho.y){return i=>{uy(n,()=>{const{length:o}=t,u=new Array(o);let h=o,v=o;for(let w=0;w<o;w++)uy(n,()=>{const I=(0,Vi.D)(t[w],n);let M=!1;I.subscribe((0,mn.x)(i,P=>{u[w]=P,M||(M=!0,v--),v||i.next(e(u.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,n,o?h=>function cy(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}(o,h):Ho.y));return e?u.pipe(ly(e)):u}function uy(t,n,e){t?(0,ga.f)(e,t,n):n()}var ah=R(7537);function qf(...t){return function nT(){return(0,ah.J)(1)}()((0,Vi.D)(t,(0,Dr.yG)(t)))}function AD(t){return new Zn.y(n=>{(0,Fn.Xf)(t()).subscribe(n)})}var iT=R(8407);function Eu(t,n){const e=(0,Ls.m)(t)?t:()=>t,i=o=>o.error(e());return new Zn.y(n?o=>n.schedule(i,0,o):i)}var Cu=R(7394);function dy(){return(0,en.e)((t,n)=>{let e=null;t._refCount++;const i=(0,mn.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,u=e;e=null,o&&(!u||o===u)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class hy extends Zn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,en.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Cu.w0;const e=this.getSubject();n.add(this.source.subscribe((0,mn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Cu.w0.EMPTY)}return n}refCount(){return dy()(this)}}var Ji=R(1631);function lh(t,n){return(0,Ls.m)(n)?(0,Ji.z)(t,n,1):(0,Ji.z)(t,1)}var Ri=R(9397);function ma(t){return(0,en.e)((n,e)=>{let u,i=null,o=!1;i=n.subscribe((0,mn.x)(e,void 0,void 0,h=>{u=(0,Fn.Xf)(t(h,ma(t)(n))),i?(i.unsubscribe(),i=null,u.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,u.subscribe(e))})}function fy(t){return t<=0?()=>ds.E:(0,en.e)((n,e)=>{let i=[];n.subscribe((0,mn.x)(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function bm(t){return(0,en.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function _i(t){return(0,en.e)((n,e)=>{(0,Fn.Xf)(t).subscribe((0,mn.x)(e,()=>e.complete(),Ba.Z)),!e.closed&&n.subscribe(e)})}const Bt="primary",Iu=Symbol("RouteTitle");class Dm{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Tu(t){return new Dm(t)}function OD(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let u=0;u<i.length;u++){const h=i[u],v=t[u];if(h.startsWith(":"))o[h.substring(1)]=v;else if(h!==v.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function Do(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let u=0;u<e.length;u++)if(o=e[u],!gy(t[o],n[o]))return!1;return!0}function gy(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,u)=>i[u]===o)}return t===n}function my(t){return t.length>0?t[t.length-1]:null}function ll(t){return function oh(t){return!!t&&(t instanceof Zn.y||(0,Ls.m)(t.lift)&&(0,Ls.m)(t.subscribe))}(t)?t:(0,c.QGY)(t)?(0,Vi.D)(Promise.resolve(t)):(0,vt.of)(t)}const xD={exact:function FD(t,n,e){if(!Su(t.segments,n.segments)||!wm(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!FD(t.children[i],n.children[i],e))return!1;return!0},subset:LD},PD={exact:function rT(t,n){return Do(t,n)},subset:function sT(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>gy(t[e],n[e]))},ignored:()=>!0};function kD(t,n,e){return xD[e.paths](t.root,n.root,e.matrixParams)&&PD[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function LD(t,n,e){return BD(t,n,n.segments,e)}function BD(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Su(o,e)||n.hasChildren()||!wm(o,e,i))}if(t.segments.length===e.length){if(!Su(t.segments,e)||!wm(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!LD(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),u=e.slice(t.segments.length);return!!(Su(t.segments,o)&&wm(t.segments,o,i)&&t.children[Bt])&&BD(t.children[Bt],n,u,i)}}function wm(t,n,e){return n.every((i,o)=>PD[e](t[o].parameters,i.parameters))}class ch{constructor(n=new Cn([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return lT.serialize(this)}}class Cn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Em(this)}}class Jf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Tu(this.parameters)),this._parameterMap}toString(){return by(this)}}function Su(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let Qf=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return new _y},providedIn:"root"})}return t})();class _y{parse(n){const e=new HD(n);return new ch(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${uh(n.root,!0)}`,i=function Dy(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${Xf(e)}=${Xf(o)}`).join("&"):`${Xf(e)}=${Xf(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function VD(t){return encodeURI(t)}(n.fragment)}`:""}`}}const lT=new _y;function Em(t){return t.segments.map(n=>by(n)).join("/")}function uh(t,n){if(!t.hasChildren())return Em(t);if(n){const e=t.children[Bt]?uh(t.children[Bt],!1):"",i=[];return Object.entries(t.children).forEach(([o,u])=>{o!==Bt&&i.push(`${o}:${uh(u,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function aT(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===Bt&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==Bt&&(e=e.concat(n(o,i)))}),e}(t,(i,o)=>o===Bt?[uh(t.children[Bt],!1)]:[`${o}:${uh(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Bt]?`${Em(t)}/${e[0]}`:`${Em(t)}/(${e.join("//")})`}}function vy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xf(t){return vy(t).replace(/%3B/gi,";")}function Cm(t){return vy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ep(t){return decodeURIComponent(t)}function yy(t){return ep(t.replace(/\+/g,"%20"))}function by(t){return`${Cm(t.path)}${function UD(t){return Object.keys(t).map(n=>`;${Cm(n)}=${Cm(t[n])}`).join("")}(t.parameters)}`}const jD=/^[^\/()?;#]+/;function cl(t){const n=t.match(jD);return n?n[0]:""}const cT=/^[^\/()?;=#]+/,dh=/^[^=?&#]+/,wy=/^[^&#]+/;class HD{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Bt]=new Cn(n,e)),i}parseSegment(){const n=cl(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(n),new Jf(ep(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function uT(t){const n=t.match(cT);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=cl(this.remaining);o&&(i=o,this.capture(i))}n[ep(e)]=ep(i)}parseQueryParam(n){const e=function TA(t){const n=t.match(dh);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function SA(t){const n=t.match(wy);return n?n[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const o=yy(e),u=yy(i);if(n.hasOwnProperty(o)){let h=n[o];Array.isArray(h)||(h=[h],n[o]=h),h.push(u)}else n[o]=u}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=cl(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new c.vHH(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Bt);const h=this.parseChildren();e[u]=1===Object.keys(h).length?h[Bt]:new Cn([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new c.vHH(4011,!1)}}function Ey(t){return t.segments.length>0?new Cn([],{[Bt]:t}):t}function dT(t){const n={};for(const i of Object.keys(t.children)){const u=dT(t.children[i]);if(i===Bt&&0===u.segments.length&&u.hasChildren())for(const[h,v]of Object.entries(u.children))n[h]=v;else(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function hh(t){if(1===t.numberOfChildren&&t.children[Bt]){const n=t.children[Bt];return new Cn(t.segments.concat(n.segments),n.children)}return t}(new Cn(t.segments,n))}function Au(t){return t instanceof ch}function $D(t){let n;const o=Ey(function e(u){const h={};for(const w of u.children){const I=e(w);h[w.outlet]=I}const v=new Cn(u.url,h);return u===t&&(n=v),v}(t.root));return n??o}function Nu(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return fh(o,o,o,e,i);const u=function GD(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fT(!0,0,t);let n=0,e=!1;const i=t.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const v={};return Object.entries(u.outlets).forEach(([w,I])=>{v[w]="string"==typeof I?I.split("/"):I}),[...o,{outlets:v}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?e=!0:".."===v?n++:""!=v&&o.push(v))}),o):[...o,u]},[]);return new fT(e,n,i)}(n);if(u.toRoot())return fh(o,o,new Cn([],{}),e,i);const h=function pT(t,n,e){if(t.isAbsolute)return new tp(n,!0,0);if(!e)return new tp(n,!1,NaN);if(null===e.parent)return new tp(e,!0,0);const i=Im(t.commands[0])?0:1;return function WD(t,n,e){let i=t,o=n,u=e;for(;u>o;){if(u-=o,i=i.parent,!i)throw new c.vHH(4005,!1);o=i.segments.length}return new tp(i,!1,o-u)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(u,o,t),v=h.processChildren?ph(h.segmentGroup,h.index,u.commands):Cy(h.segmentGroup,h.index,u.commands);return fh(o,h.segmentGroup,v,e,i)}function Im(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function uc(t){return"object"==typeof t&&null!=t&&t.outlets}function fh(t,n,e,i,o){let h,u={};i&&Object.entries(i).forEach(([w,I])=>{u[w]=Array.isArray(I)?I.map(M=>`${M}`):`${I}`}),h=t===n?e:Ir(t,n,e);const v=Ey(dT(h));return new ch(v,u,o)}function Ir(t,n,e){const i={};return Object.entries(t.children).forEach(([o,u])=>{i[o]=u===n?e:Ir(u,n,e)}),new Cn(t.segments,i)}class fT{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Im(i[0]))throw new c.vHH(4003,!1);const o=i.find(uc);if(o&&o!==my(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tp{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function Cy(t,n,e){if(t||(t=new Cn([],{})),0===t.segments.length&&t.hasChildren())return ph(t,n,e);const i=function gT(t,n,e){let i=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return u;const h=t.segments[o],v=e[i];if(uc(v))break;const w=`${v}`,I=i<e.length-1?e[i+1]:null;if(o>0&&void 0===w)break;if(w&&I&&"object"==typeof I&&void 0===I.outlets){if(!YD(w,I,h))return u;i+=2}else{if(!YD(w,{},h))return u;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const u=new Cn(t.segments.slice(0,i.pathIndex),{});return u.children[Bt]=new Cn(t.segments.slice(i.pathIndex),t.children),ph(u,0,o)}return i.match&&0===o.length?new Cn(t.segments,{}):i.match&&!t.hasChildren()?Iy(t,n,e):i.match?ph(t,0,o):Iy(t,n,e)}function ph(t,n,e){if(0===e.length)return new Cn(t.segments,{});{const i=function zD(t){return uc(t[0])?t[0].outlets:{[Bt]:t}}(e),o={};if(Object.keys(i).some(u=>u!==Bt)&&t.children[Bt]&&1===t.numberOfChildren&&0===t.children[Bt].segments.length){const u=ph(t.children[Bt],n,e);return new Cn(t.segments,u.children)}return Object.entries(i).forEach(([u,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(o[u]=Cy(t.children[u],n,h))}),Object.entries(t.children).forEach(([u,h])=>{void 0===i[u]&&(o[u]=h)}),new Cn(t.segments,o)}}function Iy(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const u=e[o];if(uc(u)){const w=mT(u.outlets);return new Cn(i,w)}if(0===o&&Im(e[0])){i.push(new Jf(t.segments[n].path,gh(e[0]))),o++;continue}const h=uc(u)?u.outlets[Bt]:`${u}`,v=o<e.length-1?e[o+1]:null;h&&v&&Im(v)?(i.push(new Jf(h,gh(v))),o+=2):(i.push(new Jf(h,{})),o++)}return new Cn(i,{})}function mT(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=Iy(new Cn([],{}),0,i))}),n}function gh(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function YD(t,n,e){return t==e.path&&Do(n,e.parameters)}const np="imperative";class _a{constructor(n,e){this.id=n,this.url=e}}class Mu extends _a{constructor(n,e,i="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ul extends _a{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mh extends _a{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ou extends _a{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=16}}class Tm extends _a{constructor(n,e,i,o){super(n,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _h extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ip extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _T extends _a{constructor(n,e,i,o,u){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vT extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yT extends _a{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZD{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KD{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qD{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bT{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JD{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DT{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QD{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XD{}class ew{constructor(n){this.url=n}}class AA{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vh,this.attachRef=null}}let vh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new AA,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class rp{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Ty(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Ty(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Sy(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Sy(n,this._root).map(e=>e.value)}}function Ty(t,n){if(t===n.value)return n;for(const e of n.children){const i=Ty(t,e);if(i)return i}return null}function Sy(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Sy(t,e);if(i.length)return i.unshift(n),i}return[]}class va{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function ya(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class tw extends rp{constructor(n,e){super(n),this.snapshot=e,Ay(this,n)}toString(){return this.snapshot.toString()}}function nw(t,n){const e=function wT(t,n){const h=new sp([],{},{},"",{},Bt,n,null,{});return new iw("",new va(h,[]))}(0,n),i=new yo.X([new Jf("",{})]),o=new yo.X({}),u=new yo.X({}),h=new yo.X({}),v=new yo.X(""),w=new yh(i,o,h,v,u,Bt,n,e.root);return w.snapshot=e.root,new tw(new va(w,[]),e)}class yh{constructor(n,e,i,o,u,h,v,w){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=u,this.outlet=h,this.component=v,this._futureSnapshot=w,this.title=this.dataSubject?.pipe((0,Tt.U)(I=>I[Iu]))??(0,vt.of)(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(n=>Tu(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(n=>Tu(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ET(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const o=e[i],u=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(u.component)break;i--}}return function CT(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sp{get title(){return this.data?.[Iu]}constructor(n,e,i,o,u,h,v,w,I){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u,this.outlet=h,this.component=v,this.routeConfig=w,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iw extends rp{constructor(n,e){super(e),this.url=n,Ay(this,e)}toString(){return bh(this._root)}}function Ay(t,n){n.value._routerState=t,n.children.forEach(e=>Ay(t,e))}function bh(t){const n=t.children.length>0?` { ${t.children.map(bh).join(", ")} } `:"";return`${t.value}${n}`}function Ny(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Do(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Do(n.params,e.params)||t.paramsSubject.next(e.params),function RD(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Do(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Do(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sm(t,n){const e=Do(t.params,n.params)&&function oT(t,n){return Su(t,n)&&t.every((e,i)=>Do(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Sm(t.parent,n.parent))}let rw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(vh),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Am,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const o=this.location,h=e.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,w=new sw(e,v,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:w,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=c.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return t})();class sw{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===yh?this.route:n===vh?this.childContexts:this.parent.get(n,e)}}const Am=new c.OlP("");let My=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=ps([i.queryParams,i.params,i.data]).pipe((0,xn.w)(([u,h,v],w)=>(v={...u,...h,...v},0===w?(0,vt.of)(v):Promise.resolve(v)))).subscribe(u=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const h=(0,c.qFp)(i.component);if(h)for(const{templateName:v}of h.inputs)e.activatedComponentRef.setInput(v,u[v]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();function Ru(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function TT(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return Ru(t,i,o);return Ru(t,i)})}(t,n,e);return new va(i,o)}{if(t.shouldAttach(n.value)){const u=t.retrieve(n.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(v=>Ru(t,v)),h}}const i=function ow(t){return new yh(new yo.X(t.url),new yo.X(t.params),new yo.X(t.queryParams),new yo.X(t.fragment),new yo.X(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(u=>Ru(t,u));return new va(i,o)}}const Nm="ngNavigationCancelingError";function aw(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Au(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=lw(!1,0,n);return o.url=e,o.navigationBehaviorOptions=i,o}function lw(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[Nm]=!0,i.cancellationCode=n,e&&(i.url=e),i}function Mm(t){return t&&t[Nm]}let cw=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(i,o){1&i&&c._UZ(0,"router-outlet")},dependencies:[rw],encapsulation:2})}return t})();function Om(t){const n=t.children&&t.children.map(Om),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=cw),e}function Bs(t){return t.outlet||Bt}function op(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class xT{constructor(n,e,i,o,u){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=u}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Ny(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=ya(e);n.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],i),delete o[h]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(o===u)if(o.component){const h=i.getContext(o.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=ya(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(i&&i.outlet){const h=i.outlet.detach(),v=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:v})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=ya(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const o=ya(e);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],i),this.forwardEvent(new DT(u.value.snapshot))}),n.children.length&&this.forwardEvent(new bT(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(Ny(o),o===u)if(o.component){const h=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const h=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(v.contexts),h.attachRef=v.componentRef,h.route=v.route.value,h.outlet&&h.outlet.attach(v.componentRef,v.route.value),Ny(v.route.value),this.activateChildRoutes(n,null,h.children)}else{const v=op(o.snapshot);h.attachRef=null,h.route=o,h.injector=v,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,i)}}class hw{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Rm{constructor(n,e){this.component=n,this.route=e}}function Oy(t,n,e){const i=t._root;return Pu(i,n?n._root:null,e,[i.value])}function xu(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,c.Z0I)(t)?n.get(t):t:i}function Pu(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ya(n);return t.children.forEach(h=>{(function PT(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,h=n?n.value:null,v=e?e.getContext(t.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const w=function kT(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Su(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Su(t.url,n.url)||!Do(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sm(t,n)||!Do(t.queryParams,n.queryParams);default:return!Sm(t,n)}}(h,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new hw(i)):(u.data=h.data,u._resolvedData=h._resolvedData),Pu(t,n,u.component?v?v.children:null:e,i,o),w&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new Rm(v.outlet.component,h))}else h&&ku(n,v,o),o.canActivateChecks.push(new hw(i)),Pu(t,null,u.component?v?v.children:null:e,i,o)})(h,u[h.value.outlet],e,i.concat([h.value]),o),delete u[h.value.outlet]}),Object.entries(u).forEach(([h,v])=>ku(v,e.getContext(h),o)),o}function ku(t,n,e){const i=ya(t),o=t.value;Object.entries(i).forEach(([u,h])=>{ku(h,o.component?n?n.children.getContext(u):null:n,e)}),e.canDeactivateChecks.push(new Rm(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function ap(t){return"function"==typeof t}function Py(t){return t instanceof oc||"EmptyError"===t?.name}const lp=Symbol("INITIAL_VALUE");function Dh(){return(0,xn.w)(t=>ps(t.map(n=>n.pipe(hr(1),function ND(...t){const n=(0,Dr.yG)(t);return(0,en.e)((e,i)=>{(n?qf(t,e,n):qf(t,e)).subscribe(i)})}(lp)))).pipe((0,Tt.U)(n=>{for(const e of n)if(!0!==e){if(e===lp)return lp;if(!1===e||e instanceof ch)return e}return!0}),Ii(n=>n!==lp),hr(1)))}function Dw(t){return(0,iT.z)((0,Ri.b)(n=>{if(Au(n))throw aw(0,n)}),(0,Tt.U)(n=>!0===n))}class Fy{constructor(n){this.segmentGroup=n||null}}class Ly{constructor(n){this.urlTree=n}}function wh(t){return Eu(new Fy(t))}function Ew(t){return Eu(new Ly(t))}class HT{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new c.vHH(4002,!1)}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,vt.of)(i);if(o.numberOfChildren>1||!o.children[Bt])return Eu(new c.vHH(4e3,!1));o=o.children[Bt]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,o){const u=this.createSegmentGroup(n,e.root,i,o);return new ch(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);i[o]=e[v]}else i[o]=u}),i}createSegmentGroup(n,e,i,o){const u=this.createSegments(n,e.segments,i,o);let h={};return Object.entries(e.children).forEach(([v,w])=>{h[v]=this.createSegmentGroup(n,w,i,o)}),new Cn(u,h)}createSegments(n,e,i,o){return e.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new c.vHH(4001,!1);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}const By={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cw(t,n,e,i,o){const u=xm(t,n,e);return u.matched?(i=function uw(t,n){return t.providers&&!t._injector&&(t._injector=(0,c.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function ww(t,n,e,i){const o=n.canMatch;if(!o||0===o.length)return(0,vt.of)(!0);const u=o.map(h=>{const v=xu(h,t);return ll(function xy(t){return t&&ap(t.canMatch)}(v)?v.canMatch(n,e):t.runInContext(()=>v(n,e)))});return(0,vt.of)(u).pipe(Dh(),Dw())}(i,n,e).pipe((0,Tt.U)(h=>!0===h?u:{...By}))):(0,vt.of)(u)}function xm(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...By}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||OD)(e,t,n);if(!o)return{...By};const u={};Object.entries(o.posParams??{}).forEach(([v,w])=>{u[v]=w.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function Vy(t,n,e,i){return e.length>0&&function WT(t,n,e){return e.some(i=>Pm(t,n,i)&&Bs(i)!==Bt)}(t,e,i)?{segmentGroup:new Cn(n,GT(i,new Cn(e,t.children))),slicedSegments:[]}:0===e.length&&function zT(t,n,e){return e.some(i=>Pm(t,n,i))}(t,e,i)?{segmentGroup:new Cn(t.segments,$T(t,0,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Cn(t.segments,t.children),slicedSegments:e}}function $T(t,n,e,i,o){const u={};for(const h of i)if(Pm(t,e,h)&&!o[Bs(h)]){const v=new Cn([],{});u[Bs(h)]=v}return{...o,...u}}function GT(t,n){const e={};e[Bt]=n;for(const i of t)if(""===i.path&&Bs(i)!==Bt){const o=new Cn([],{});e[Bs(i)]=o}return e}function Pm(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class Tw{constructor(n,e,i,o,u,h,v){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=h,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new HT(this.urlSerializer,this.urlTree)}noMatchError(n){return new c.vHH(4002,!1)}recognize(){const n=Vy(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Bt).pipe(ma(e=>{if(e instanceof Ly)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Fy?this.noMatchError(e):e}),(0,Tt.U)(e=>{const i=new sp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),o=new va(i,e),u=new iw("",o),h=function hT(t,n,e=null,i=null){return Nu($D(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(u._root),{state:u,tree:h}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Bt).pipe(ma(i=>{throw i instanceof Fy?this.noMatchError(i):i}))}inheritParamsAndData(n){const e=n.value,i=ET(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,o,!0)}processChildren(n,e,i){const o=[];for(const u of Object.keys(i.children))"primary"===u?o.unshift(u):o.push(u);return(0,Vi.D)(o).pipe(lh(u=>{const h=i.children[u],v=function dw(t,n){const e=t.filter(i=>Bs(i)===n);return e.push(...t.filter(i=>Bs(i)!==n)),e}(e,u);return this.processSegmentGroup(n,v,h,u)}),qr((u,h)=>(u.push(...h),u)),Xg(null),function MD(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ii((o,u)=>t(o,u,i)):Ho.y,fy(1),e?Xg(n):Iv(()=>new oc))}(),(0,Ji.z)(u=>{if(null===u)return wh(i);const h=Uy(u);return function Sw(t){t.sort((n,e)=>n.value.outlet===Bt?-1:e.value.outlet===Bt?1:n.value.outlet.localeCompare(e.value.outlet))}(h),(0,vt.of)(h)}))}processSegment(n,e,i,o,u,h){return(0,Vi.D)(e).pipe(lh(v=>this.processSegmentAgainstRoute(v._injector??n,e,v,i,o,u,h).pipe(ma(w=>{if(w instanceof Fy)return(0,vt.of)(null);throw w}))),ac(v=>!!v),ma(v=>{if(Py(v))return function cp(t,n,e){return 0===n.length&&!t.children[e]}(i,o,u)?(0,vt.of)([]):wh(i);throw v}))}processSegmentAgainstRoute(n,e,i,o,u,h,v){return function YT(t,n,e,i){return!!(Bs(t)===i||i!==Bt&&Pm(n,e,t))&&("**"===t.path||xm(n,t,e).matched)}(i,o,u,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,o,i,u,h,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,u,h):wh(o):wh(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,o){const u=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ew(u):this.applyRedirects.lineralizeSegments(i,u).pipe((0,Ji.z)(h=>{const v=new Cn(h,{});return this.processSegment(n,e,v,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){const{matched:v,consumedSegments:w,remainingSegments:I,positionalParamSegments:M}=xm(e,o,u);if(!v)return wh(e);const P=this.applyRedirects.applyRedirectCommands(w,o.redirectTo,M);return o.redirectTo.startsWith("/")?Ew(P):this.applyRedirects.lineralizeSegments(o,P).pipe((0,Ji.z)(B=>this.processSegment(n,i,e,B.concat(I),h,!1)))}matchSegmentAgainstRoute(n,e,i,o,u,h){let v;if("**"===i.path){const w=o.length>0?my(o).parameters:{},I=new sp(o,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nw(i),Bs(i),i.component??i._loadedComponent??null,i,ZT(i));v=(0,vt.of)({snapshot:I,consumedSegments:[],remainingSegments:[]}),e.children={}}else v=Cw(e,i,o,n).pipe((0,Tt.U)(({matched:w,consumedSegments:I,remainingSegments:M,parameters:P})=>w?{snapshot:new sp(I,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nw(i),Bs(i),i.component??i._loadedComponent??null,i,ZT(i)),consumedSegments:I,remainingSegments:M}:null));return v.pipe((0,xn.w)(w=>null===w?wh(e):this.getChildConfig(n=i._injector??n,i,o).pipe((0,xn.w)(({routes:I})=>{const M=i._loadedInjector??n,{snapshot:P,consumedSegments:B,remainingSegments:te}=w,{segmentGroup:Se,slicedSegments:He}=Vy(e,B,te,I);if(0===He.length&&Se.hasChildren())return this.processChildren(M,I,Se).pipe((0,Tt.U)(ft=>null===ft?null:[new va(P,ft)]));if(0===I.length&&0===He.length)return(0,vt.of)([new va(P,[])]);const $e=Bs(i)===u;return this.processSegment(M,I,Se,He,$e?Bt:u,!0).pipe((0,Tt.U)(ft=>[new va(P,ft)]))}))))}getChildConfig(n,e,i){return e.children?(0,vt.of)({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?(0,vt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function UT(t,n,e,i){const o=n.canLoad;if(void 0===o||0===o.length)return(0,vt.of)(!0);const u=o.map(h=>{const v=xu(h,t);return ll(function Fu(t){return t&&ap(t.canLoad)}(v)?v.canLoad(n,e):t.runInContext(()=>v(n,e)))});return(0,vt.of)(u).pipe(Dh(),Dw())}(n,e,i).pipe((0,Ji.z)(o=>o?this.configLoader.loadChildren(n,e).pipe((0,Ri.b)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function jT(t){return Eu(lw(!1,3))}())):(0,vt.of)({routes:[],injector:n})}}function Aw(t){const n=t.value.routeConfig;return n&&""===n.path}function Uy(t){const n=[],e=new Set;for(const i of t){if(!Aw(i)){n.push(i);continue}const o=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=Uy(i.children);n.push(new va(i.value,o))}return n.filter(i=>!e.has(i))}function Nw(t){return t.data||{}}function ZT(t){return t.resolve||{}}function KT(t,n){return(0,Ji.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,vt.of)(e);let u=0;return(0,Vi.D)(o).pipe(lh(h=>function qT(t,n,e,i){const o=t.routeConfig,u=t._resolve;return void 0!==o?.title&&!Eh(o)&&(u[Iu]=o.title),function JT(t,n,e,i){const o=function QT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return(0,vt.of)({});const u={};return(0,Vi.D)(o).pipe((0,Ji.z)(h=>function XT(t,n,e,i){const o=op(n)??i,u=xu(t,o);return ll(u.resolve?u.resolve(n,e):o.runInContext(()=>u(n,e)))}(t[h],n,e,i).pipe(ac(),(0,Ri.b)(v=>{u[h]=v}))),fy(1),function py(t){return(0,Tt.U)(()=>t)}(u),ma(h=>Py(h)?ds.E:Eu(h)))}(u,t,n,i).pipe((0,Tt.U)(h=>(t._resolvedData=h,t.data=ET(t,e).resolve,o&&Eh(o)&&(t.data[Iu]=o.title),null)))}(h.route,i,t,n)),(0,Ri.b)(()=>u++),fy(1),(0,Ji.z)(h=>u===o.length?(0,vt.of)(e):ds.E))})}function Eh(t){return"string"==typeof t.title||null===t.title}function jy(t){return(0,xn.w)(n=>{const e=t(n);return e?(0,Vi.D)(e).pipe((0,Tt.U)(()=>n)):(0,vt.of)(n)})}const dc=new c.OlP("ROUTES");let Hy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,vt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ll(e.loadComponent()).pipe((0,Tt.U)(tS),(0,Ri.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),bm(()=>{this.componentLoaders.delete(e)})),o=new hy(i,()=>new jn.x).pipe(dy());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,vt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=function BA(t,n,e,i){return ll(t.loadChildren()).pipe((0,Tt.U)(tS),(0,Ji.z)(o=>o instanceof c.YKP||Array.isArray(o)?(0,vt.of)(o):(0,Vi.D)(n.compileModuleAsync(o))),(0,Tt.U)(o=>{i&&i(t);let u,h,v=!1;return Array.isArray(o)?(h=o,!0):(u=o.create(e).injector,h=u.get(dc,[],{optional:!0,self:!0}).flat()),{routes:h.map(Om),injector:u}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(bm(()=>{this.childrenLoaders.delete(i)})),h=new hy(u,()=>new jn.x).pipe(dy());return this.childrenLoaders.set(i,h),h}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tS(t){return function eS(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let hc=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jn.x,this.transitionAbortSubject=new jn.x,this.configLoader=(0,c.f3M)(Hy),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Qf),this.rootContexts=(0,c.f3M)(vh),this.inputBindingEnabled=null!==(0,c.f3M)(Am,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,vt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new KD(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new ZD(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new yo.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:np,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ii(u=>0!==u.id),(0,Tt.U)(u=>({...u,extractedUrl:e.urlHandlingStrategy.extract(u.rawUrl)})),(0,xn.w)(u=>{this.currentTransition=u;let h=!1,v=!1;return(0,vt.of)(u).pipe((0,Ri.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.w)(w=>{const I=w.currentBrowserUrl.toString(),M=!e.navigated||w.extractedUrl.toString()!==I||I!==w.currentUrlTree.toString();if(!M&&"reload"!==(w.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const B="";return this.events.next(new Ou(w.id,this.urlSerializer.serialize(w.rawUrl),B,0)),w.resolve(null),ds.E}if(e.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,vt.of)(w).pipe((0,xn.w)(B=>{const te=this.transitions?.getValue();return this.events.next(new Mu(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),te!==this.transitions?.getValue()?ds.E:Promise.resolve(B)}),function LA(t,n,e,i,o,u){return(0,Ji.z)(h=>function Iw(t,n,e,i,o,u,h="emptyOnly"){return new Tw(t,n,e,i,o,h,u).recognize()}(t,n,e,i,h.extractedUrl,o,u).pipe((0,Tt.U)(({state:v,tree:w})=>({...h,targetSnapshot:v,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Ri.b)(B=>{u.targetSnapshot=B.targetSnapshot,u.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const te=new _h(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(te)}));if(M&&e.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:B,extractedUrl:te,source:Se,restoredState:He,extras:$e}=w,ft=new Mu(B,this.urlSerializer.serialize(te),Se,He);this.events.next(ft);const gt=nw(0,this.rootComponentType).snapshot;return this.currentTransition=u={...w,targetSnapshot:gt,urlAfterRedirects:te,extras:{...$e,skipLocationChange:!1,replaceUrl:!1}},(0,vt.of)(u)}{const B="";return this.events.next(new Ou(w.id,this.urlSerializer.serialize(w.extractedUrl),B,1)),w.resolve(null),ds.E}}),(0,Ri.b)(w=>{const I=new ip(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(I)}),(0,Tt.U)(w=>(this.currentTransition=u={...w,guards:Oy(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},u)),function mw(t,n){return(0,Ji.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=e;return 0===h.length&&0===u.length?(0,vt.of)({...e,guardsResult:!0}):function ky(t,n,e,i){return(0,Vi.D)(t).pipe((0,Ji.z)(o=>function VT(t,n,e,i,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,vt.of)(!0);const h=u.map(v=>{const w=op(n)??o,I=xu(v,w);return ll(function PA(t){return t&&ap(t.canDeactivate)}(I)?I.canDeactivate(t,n,e,i):w.runInContext(()=>I(t,n,e,i))).pipe(ac())});return(0,vt.of)(h).pipe(Dh())}(o.component,o.route,e,n,i)),ac(o=>!0!==o,!0))}(h,i,o,t).pipe((0,Ji.z)(v=>v&&function fw(t){return"boolean"==typeof t}(v)?function _w(t,n,e,i){return(0,Vi.D)(n).pipe(lh(o=>qf(function yw(t,n){return null!==t&&n&&n(new qD(t)),(0,vt.of)(!0)}(o.route.parent,i),function vw(t,n){return null!==t&&n&&n(new JD(t)),(0,vt.of)(!0)}(o.route,i),function BT(t,n,e){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(h=>function Ry(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>AD(()=>{const v=h.guards.map(w=>{const I=op(h.node)??e,M=xu(w,I);return ll(function FT(t){return t&&ap(t.canActivateChild)}(M)?M.canActivateChild(i,t):I.runInContext(()=>M(i,t))).pipe(ac())});return(0,vt.of)(v).pipe(Dh())}));return(0,vt.of)(u).pipe(Dh())}(t,o.path,e),function bw(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return(0,vt.of)(!0);const o=i.map(u=>AD(()=>{const h=op(n)??e,v=xu(u,h);return ll(function pw(t){return t&&ap(t.canActivate)}(v)?v.canActivate(n,t):h.runInContext(()=>v(n,t))).pipe(ac())}));return(0,vt.of)(o).pipe(Dh())}(t,o.route,e))),ac(o=>!0!==o,!0))}(i,u,t,n):(0,vt.of)(v)),(0,Tt.U)(v=>({...e,guardsResult:v})))})}(this.environmentInjector,w=>this.events.next(w)),(0,Ri.b)(w=>{if(u.guardsResult=w.guardsResult,Au(w.guardsResult))throw aw(0,w.guardsResult);const I=new _T(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(I)}),Ii(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),jy(w=>{if(w.guards.canActivateChecks.length)return(0,vt.of)(w).pipe((0,Ri.b)(I=>{const M=new vT(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}),(0,xn.w)(I=>{let M=!1;return(0,vt.of)(I).pipe(KT(e.paramsInheritanceStrategy,this.environmentInjector),(0,Ri.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(I,"",2)}}))}),(0,Ri.b)(I=>{const M=new yT(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(M)}))}),jy(w=>{const I=M=>{const P=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,Ri.b)(B=>{M.component=B}),(0,Tt.U)(()=>{})));for(const B of M.children)P.push(...I(B));return P};return ps(I(w.targetSnapshot.root)).pipe(Xg(),hr(1))}),jy(()=>this.afterPreactivation()),(0,Tt.U)(w=>{const I=function IT(t,n,e){const i=Ru(t,n._root,e?e._root:void 0);return new tw(i,n)}(e.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=u={...w,targetRouterState:I},u}),(0,Ri.b)(()=>{this.events.next(new XD)}),((t,n,e,i)=>(0,Tt.U)(o=>(new xT(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),hr(1),(0,Ri.b)({next:w=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ul(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),e.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{h=!0}}),_i(this.transitionAbortSubject.pipe((0,Ri.b)(w=>{throw w}))),bm(()=>{h||v||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),ma(w=>{if(v=!0,Mm(w))this.events.next(new mh(u.id,this.urlSerializer.serialize(u.extractedUrl),w.message,w.cancellationCode)),function ST(t){return Mm(t)&&Au(t.url)}(w)?this.events.next(new ew(w.url)):u.resolve(!1);else{this.events.next(new Tm(u.id,this.urlSerializer.serialize(u.extractedUrl),w,u.targetSnapshot??void 0));try{u.resolve(e.errorHandler(w))}catch(I){u.reject(I)}}return ds.E}))}))}cancelNavigationTransition(e,i,o){const u=new mh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(u),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mw(t){return t!==np}let Ow=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(u=>u.outlet===Bt);return i}getResolvedTitleForRoute(e){return e.data[Iu]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(nS)},providedIn:"root"})}return t})(),nS=(()=>{class t extends Ow{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Oe))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),km=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(iS)},providedIn:"root"})}return t})();class Rw{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let iS=(()=>{class t extends Rw{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=c.n5z(t)))(o||t)}}();static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const up=new c.OlP("",{providedIn:"root",factory:()=>({})});let Fm=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:function(){return(0,c.f3M)(rS)},providedIn:"root"})}return t})(),rS=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(dp||{});function $y(t,n){t.events.pipe(Ii(e=>e instanceof ul||e instanceof mh||e instanceof Tm||e instanceof Ou),(0,Tt.U)(e=>e instanceof ul||e instanceof Ou?dp.COMPLETE:e instanceof mh&&(0===e.code||1===e.code)?dp.REDIRECTING:dp.FAILED),Ii(e=>e!==dp.REDIRECTING),hr(1)).subscribe(()=>{n()})}function sS(t){throw t}function oS(t,n,e){return n.parse("/")}const xw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vs=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this._events=new jn.x,this.options=(0,c.f3M)(up,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||sS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Fm),this.routeReuseStrategy=(0,c.f3M)(km),this.titleStrategy=(0,c.f3M)(Ow),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(dc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(hc),this.urlSerializer=(0,c.f3M)(Qf),this.location=(0,c.f3M)(Ze),this.componentInputBindingEnabled=!!(0,c.f3M)(Am,{optional:!0}),this.eventsSubscription=new Cu.w0,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ch,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nw(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(Gy(i)&&this._events.next(i));if(i instanceof Mu)Mw(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof Ou)this.rawUrlTree=o.rawUrl;else if(i instanceof _h){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof XD)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof mh)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof ew){const u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mw(o.source)};this.scheduleNavigation(u,np,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Tm&&this.restoreHistory(o,!0),i instanceof ul&&(this.navigated=!0),Gy(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),np,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const u={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const v=this.parseUrl(e);this.scheduleNavigation(v,i,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Om),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:v,preserveFragment:w}=i,I=w?this.currentUrlTree.fragment:h;let P,M=null;switch(v){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}null!==M&&(M=this.removeEmptyProps(M));try{P=$D(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),P=this.currentUrlTree.root}return Nu(P,e,M,I??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Au(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,np,null,i)}navigate(e,i={skipLocationChange:!1}){return function aS(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...xw}:!1===i?{...Lm}:i,Au(e))return kD(this.currentUrlTree,e,o);const u=this.parseUrl(e);return kD(this.currentUrlTree,u,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const u=e[o];return null!=u&&(i[o]=u),i},{})}scheduleNavigation(e,i,o,u,h){if(this.disposed)return Promise.resolve(!1);let v,w,I;h?(v=h.resolve,w=h.reject,I=h.promise):I=new Promise((P,B)=>{v=P,w=B});const M=this.pendingTasks.add();return $y(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:u,resolve:v,reject:w,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gy(t){return!(t instanceof XD||t instanceof ew)}class kw{}let uS=(()=>{class t{constructor(e,i,o,u,h){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(e=>e instanceof ul),lh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,e,`Route: ${u.path}`));const h=u._injector??e,v=u._loadedInjector??h;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(v,u.children??u._loadedRoutes))}return(0,Vi.D)(o).pipe((0,ah.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,vt.of)(null);const u=o.pipe((0,Ji.z)(h=>null===h?(0,vt.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,Vi.D)([u,h]).pipe((0,ah.J)())}return u})}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(Vs),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(kw),c.LFG(Hy))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zy=new c.OlP("");let Vm=(()=>{class t{constructor(e,i,o,u,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Mu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ul?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ou&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof QD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac})}return t})();function wo(t,n){return{\u0275kind:t,\u0275providers:n}}function Lw(){const t=(0,c.f3M)(c.zs3);return n=>{const e=t.get(c.z2F);if(n!==e.components[0])return;const i=t.get(Vs),o=t.get(Ky);1===t.get(hp)&&i.initialNavigation(),t.get(qy,null,c.XFs.Optional)?.setUpPreloading(),t.get(zy,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Ky=new c.OlP("",{factory:()=>new jn.x}),hp=new c.OlP("",{providedIn:"root",factory:()=>1}),qy=new c.OlP("");function hS(t){return wo(0,[{provide:qy,useExisting:uS},{provide:kw,useExisting:t}])}const fr=new c.OlP("ROUTER_FORROOT_GUARD"),Ch=[Ze,{provide:Qf,useClass:_y},Vs,vh,{provide:yh,useFactory:function Yy(t){return t.routerState.root},deps:[Vs]},Hy,[]];function mS(){return new c.PXZ("Router",Vs)}let jw=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[Ch,[],{provide:dc,multi:!0,useValue:e},{provide:fr,useFactory:Jy,deps:[[Vs,new c.FiY,new c.tp0]]},{provide:up,useValue:i||{}},i?.useHash?{provide:Be,useClass:ke}:{provide:Be,useClass:We},{provide:zy,useFactory:()=>{const t=(0,c.f3M)(ei),n=(0,c.f3M)(c.R0b),e=(0,c.f3M)(up),i=(0,c.f3M)(hc),o=(0,c.f3M)(Qf);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Vm(o,i,t,n,e)}},i?.preloadingStrategy?hS(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:mS},i?.initialNavigation?WA(i):[],i?.bindToComponentInputs?wo(8,[My,{provide:Am,useExisting:My}]).\u0275providers:[],[{provide:_S,useFactory:Lw},{provide:c.tb,multi:!0,useExisting:_S}]]}}static forChild(e){return{ngModule:t,providers:[{provide:dc,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(fr,8))};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();function Jy(t){return"guarded"}function WA(t){return["disabled"===t.initialNavigation?wo(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const n=(0,c.f3M)(Vs);return()=>{n.setUpLocationChangeListener()}}},{provide:hp,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?wo(2,[{provide:hp,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:n=>{const e=n.get(Me,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=n.get(Vs),u=n.get(Ky);$y(o,()=>{i(!0)}),n.get(hc).afterPreactivation=()=>(i(!0),u.closed?(0,vt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const _S=new c.OlP(""),yS=[];let bS=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[jw.forRoot(yS),jw]})}return t})(),Qy=(()=>{class t{constructor(e){this.db=e,this.refNovenyek=this.db.list("/novenyek")}getPlants(){return this.refNovenyek}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(oy))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gw(t,n){if(1&t&&(c.TgZ(0,"div",4)(1,"div",5),c._UZ(2,"img",6),c.TgZ(3,"div",7)(4,"h5",8),c._uU(5),c.qZA(),c.TgZ(6,"p",9),c._uU(7),c.qZA()(),c.TgZ(8,"div",10)(9,"small",11),c._uU(10),c.qZA()()()()),2&t){const e=n.$implicit;c.xp6(2),c.Q6J("src",e.kepUrl,c.LSH)("alt",e.megnevezes),c.xp6(3),c.Oqu(e.megnevezes),c.xp6(2),c.hij(" ",e.leiras," "),c.xp6(3),c.hij(" ",e.ar," Ft ")}}let DS=(()=>{class t{constructor(e){this.base=e,this.novenyek=[],this.base.getPlants().snapshotChanges().pipe((0,Tt.U)(i=>i.map(o=>({key:o.payload.key,...o.payload.val()})))).subscribe(i=>this.novenyek=i)}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(Qy))};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["app-novenyek"]],decls:5,vars:1,consts:[[1,"display-1","text-center","my-4"],[1,"container"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],[1,"card","h-100"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],[1,"text-muted"]],template:function(i,o){1&i&&(c.TgZ(0,"h1",0),c._uU(1,"Diszn\xf6v\xe9nyek"),c.qZA(),c.TgZ(2,"div",1)(3,"div",2),c.YNc(4,Gw,11,5,"div",3),c.qZA()()),2&i&&(c.xp6(4),c.Q6J("ngForOf",o.novenyek))},dependencies:[tr]})}return t})(),jm=(()=>{class t{constructor(){this.title="Noveny"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){1&i&&c._UZ(0,"app-novenyek")},dependencies:[DS]})}return t})();var Xy=R(4266);const qA=["addListener","removeListener"],Ww=["addEventListener","removeEventListener"],wS=["on","off"];function ji(t,n,e,i){if((0,Ls.m)(e)&&(i=e,e=void 0),i)return ji(t,n,e).pipe(ly(i));const[o,u]=function e0(t){return(0,Ls.m)(t.addEventListener)&&(0,Ls.m)(t.removeEventListener)}(t)?Ww.map(h=>v=>t[h](n,v,e)):function ES(t){return(0,Ls.m)(t.addListener)&&(0,Ls.m)(t.removeListener)}(t)?qA.map(Lu(t,n)):function zw(t){return(0,Ls.m)(t.on)&&(0,Ls.m)(t.off)}(t)?wS.map(Lu(t,n)):[];if(!o&&(0,Xy.z)(t))return(0,Ji.z)(h=>ji(h,n,e))((0,Fn.Xf)(t));if(!o)throw new TypeError("Invalid event target");return new Zn.y(h=>{const v=(...w)=>h.next(1<w.length?w:w[0]);return o(v),()=>u(v)})}function Lu(t,n){return e=>i=>t[e](n,i)}var JA=R(671);const{isArray:TS}=Array;function Yw(t){return 1===t.length&&TS(t[0])?t[0]:t}function Hm(...t){const n=(0,Dr.jO)(t),e=Yw(t);return e.length?new Zn.y(i=>{let o=e.map(()=>[]),u=e.map(()=>!1);i.add(()=>{o=u=null});for(let h=0;!i.closed&&h<e.length;h++)(0,Fn.Xf)(e[h]).subscribe((0,mn.x)(i,v=>{if(o[h].push(v),o.every(w=>w.length)){const w=o.map(I=>I.shift());i.next(n?n(...w):w),o.some((I,M)=>!I.length&&u[M])&&i.complete()}},()=>{u[h]=!0,!o[h].length&&i.complete()}));return()=>{o=u=null}}):ds.E}const Hu=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_p}),_p="always";let g0=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),bN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[g0]})}return t})(),p=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Hu,useValue:e.callSetDisabledState??_p}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[bN]})}return t})();Math,Math,Math;const gR=["*"],WR=["dialog"];function Cp(t){return"string"==typeof t}function Ip(t){return null!=t}function c_(t){return(t||document.body).getBoundingClientRect()}const VN={animation:!0,transitionTimerDelayMs:5},Lx=()=>{},{transitionTimerDelayMs:Bx}=VN,S0=new Map,Hs=(t,n,e,i)=>{let o=i.context||{};const u=S0.get(n);if(u)switch(i.runningTransition){case"continue":return ds.E;case"stop":t.run(()=>u.transition$.complete()),o=Object.assign(u.context,o),S0.delete(n)}const h=e(n,i.animation,o)||Lx;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),(0,vt.of)(void 0).pipe(function kx(t){return n=>new Zn.y(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const v=new jn.x,w=new jn.x,I=v.pipe(function SS(...t){return n=>qf(n,(0,vt.of)(...t))}(!0));S0.set(n,{transition$:v,complete:()=>{w.next(),w.complete()},context:o});const M=function Fx(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const P=ji(n,"transitionend").pipe(_i(I),Ii(({target:te})=>te===n));(function Zw(...t){return 1===(t=Yw(t)).length?(0,Fn.Xf)(t[0]):new Zn.y(function Kw(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,Fn.Xf)(t[i]).subscribe((0,mn.x)(n,o=>{if(e){for(let u=0;u<e.length;u++)u!==i&&e[u].unsubscribe();e=null}n.next(o)})))}}(t))})(function IS(t=0,n,e=Fl.P){let i=-1;return null!=n&&((0,JA.K)(n)?e=n:i=n),new Zn.y(o=>{let u=function CS(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;u<0&&(u=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},u)})}(M+Bx).pipe(_i(I)),P,w).pipe(_i(I)).subscribe(()=>{S0.delete(n),t.run(()=>{h(),v.next(),v.complete()})})}),v.asObservable()};let WE=(()=>{class t{constructor(){this.animation=VN.animation}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),KN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),QN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),XN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();var Hn=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Hn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const oM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function aM(t){const n=Array.from(t.querySelectorAll(oM)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let bM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),EM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();class Mp{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let LP=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(hr(1)).subscribe(()=>{Hs(this._zone,this._el.nativeElement,(e,i)=>{i&&c_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Hs(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(c.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),c.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[c.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return t})();class CM{update(n){}close(n){}dismiss(n){}}const BP=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],VP=["animation","backdropClass"];class UP{_applyWindowOptions(n,e){BP.forEach(i=>{Ip(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){VP.forEach(i=>{Ip(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(_i(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(_i(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new jn.x,this._dismissed=new jn.x,this._hidden=new jn.x,n.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,h)=>{this._resolve=u,this._reject=h}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function kN(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,vt.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Hm(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var W1=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(W1||{});let jP=(()=>{class t{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new jn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new jn.x,this.hidden=new jn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Cp(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(hr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=Hm(Hs(this._zone,e,()=>e.classList.remove("show"),i),Hs(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Hm(Hs(this._zone,this._elRef.nativeElement,(u,h)=>{h&&c_(u),u.classList.add("show")},e),Hs(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ji(e,"keydown").pipe(_i(this._closed$),Ii(o=>o.which===Hn.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(W1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ji(this._dialogEl.nativeElement,"mousedown").pipe(_i(this._closed$),(0,Ri.b)(()=>i=!1),(0,xn.w)(()=>ji(e,"mouseup").pipe(_i(this._closed$),hr(1))),Ii(({target:o})=>e===o)).subscribe(()=>{i=!0}),ji(e,"click").pipe(_i(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(W1.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=aM(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Hs(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||t)(c.Y36(de),c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&c.Gf(WR,7),2&i){let u;c.iGM(u=c.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(c.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),c.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),c.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[c.jDz],ngContentSelectors:gR,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&i&&c.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),HP=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:u,paddingRight:h}=o;if(e>0){const v=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${v+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=h),o.overflow=u}}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(de))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$P=(()=>{class t{constructor(e,i,o,u,h,v,w){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=u,this._scrollBar=h,this._rendererFactory=v,this._ngZone=w,this._activeWindowCmptHasChanged=new jn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const I=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const o=ji(n,"focusin").pipe(_i(e),(0,Tt.U)(u=>u.target));ji(n,"keydown").pipe(_i(e),Ii(u=>u.which===Hn.Tab),kr(o)).subscribe(([u,h])=>{const[v,w]=aM(n);(h===v||h===n)&&u.shiftKey&&(w.focus(),u.preventDefault()),h===w&&!u.shiftKey&&(v.focus(),u.preventDefault())}),i&&ji(n,"click").pipe(_i(e),kr(o),(0,Tt.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,I.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(I.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const u=o.container instanceof HTMLElement?o.container:Ip(o.container)?this._document.querySelector(o.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const v=new CM,w=(e=o.injector||e).get(c.lqb,null)||this._environmentInjector,I=this._getContentRef(e,w,i,v,o);let M=!1!==o.backdrop?this._attachBackdrop(u):void 0,P=this._attachWindowComponent(u,I.nodes),B=new UP(P,I,M,o.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(P),B.hidden.pipe(hr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),v.close=te=>{B.close(te)},v.dismiss=te=>{B.dismiss(te)},v.update=te=>{B.update(te)},B.update(o),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),M&&M.instance&&M.changeDetectorRef.detectChanges(),P.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,c.LMc)(LP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,c.LMc)(jP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,u,h){return o?o instanceof c.Rgc?this._createFromTemplateRef(o,u):Cp(o)?this._createFromString(o):this._createFromComponent(e,i,o,u,h):new Mp([])}_createFromTemplateRef(e,i){const u=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(u),new Mp([u.rootNodes],u)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Mp([[i]])}_createFromComponent(e,i,o,u,h){const v=c.zs3.create({providers:[{provide:CM,useValue:u}],parent:e}),w=(0,c.LMc)(o,{environmentInjector:i,elementInjector:v}),I=w.location.nativeElement;return h.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new Mp([[I]],w.hostView,w)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(c.lqb),c.LFG(de),c.LFG(HP),c.LFG(c.FYo),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GP=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(WE))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WP=(()=>{class t{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||t)(c.LFG(c.zs3),c.LFG($P),c.LFG(GP))};static#t=this.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),IM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({providers:[WP]})}return t})(),AM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),FM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),BM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),VM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),UM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),jM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),HM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),$M=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),GM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();new c.OlP("live announcer delay",{providedIn:"root",factory:function ck(){return 100}});let WM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})(),zM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({})}return t})();const dk=[ZN,KN,QN,XN,bM,EM,IM,AM,zM,FM,BM,VM,UM,jM,HM,$M,GM,WM];let hk=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t});static#n=this.\u0275inj=c.cJS({imports:[dk,ZN,KN,QN,XN,bM,EM,IM,AM,zM,FM,BM,VM,UM,jM,HM,$M,GM,WM]})}return t})();const fk_firebaseConfig={apiKey:"AIzaSyBtrh7M6xnPcQ2n2UIy0u5CdLaMF-QIyuo",authDomain:"disznovenyja.firebaseapp.com",databaseURL:"https://disznovenyja-default-rtdb.europe-west1.firebasedatabase.app",projectId:"disznovenyja",storageBucket:"disznovenyja.appspot.com",messagingSenderId:"445398630246",appId:"1:445398630246:web:71f5b0ac5f998802fc12a7",measurementId:"G-E8TK68C8T4"};let pk=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=c.oAB({type:t,bootstrap:[jm]});static#n=this.\u0275inj=c.cJS({imports:[Hc,bS,hk,p,mi.hO.initializeApp(fk_firebaseConfig),CD]})}return t})();si().bootstrapModule(pk).catch(t=>console.error(t))},5619:(st,we,R)=>{R.d(we,{X:()=>Q});var c=R(8645);class Q extends c.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const se=super._subscribe(ne);return!se.closed&&ne.next(this._value),se}getValue(){const{hasError:ne,thrownError:se,_value:de}=this;if(ne)throw se;return this._throwIfClosed(),de}next(ne){super.next(this._value=ne)}}},5592:(st,we,R)=>{R.d(we,{y:()=>Me});var c=R(305),Q=R(7394),x=R(4850),ne=R(8407),se=R(2653),de=R(4674),ve=R(1441);let Me=(()=>{class ie{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const We=new ie;return We.source=this,We.operator=Ae,We}subscribe(Ae,We,ke){const Ze=function $(ie){return ie&&ie instanceof c.Lv||function V(ie){return ie&&(0,de.m)(ie.next)&&(0,de.m)(ie.error)&&(0,de.m)(ie.complete)}(ie)&&(0,Q.Nn)(ie)}(Ae)?Ae:new c.Hp(Ae,We,ke);return(0,ve.x)(()=>{const{operator:xe,source:at}=this;Ze.add(xe?xe.call(Ze,at):at?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(We){Ae.error(We)}}forEach(Ae,We){return new(We=ue(We))((ke,Ze)=>{const xe=new c.Hp({next:at=>{try{Ae(at)}catch(lt){Ze(lt),xe.unsubscribe()}},error:Ze,complete:ke});this.subscribe(xe)})}_subscribe(Ae){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ae)}[x.L](){return this}pipe(...Ae){return(0,ne.U)(Ae)(this)}toPromise(Ae){return new(Ae=ue(Ae))((We,ke)=>{let Ze;this.subscribe(xe=>Ze=xe,xe=>ke(xe),()=>We(Ze))})}}return ie.create=Be=>new ie(Be),ie})();function ue(ie){var Be;return null!==(Be=ie??se.config.Promise)&&void 0!==Be?Be:Promise}},8645:(st,we,R)=>{R.d(we,{x:()=>ve});var c=R(5592),Q=R(7394);const ne=(0,R(2306).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=R(9039),de=R(1441);let ve=(()=>{class ue extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ie=new Me(this,this);return ie.operator=$,ie}_throwIfClosed(){if(this.closed)throw new ne}next($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next($)}})}error($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ie}=this;for(;ie.length;)ie.shift().error($)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ie,isStopped:Be,observers:Ae}=this;return ie||Be?Q.Lc:(this.currentObservers=null,Ae.push($),new Q.w0(()=>{this.currentObservers=null,(0,se.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:ie,thrownError:Be,isStopped:Ae}=this;ie?$.error(Be):Ae&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return ue.create=(V,$)=>new Me(V,$),ue})();class Me extends ve{constructor(V,$){super(),this.destination=V,this.source=$}next(V){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ie||ie.call($,V)}error(V){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ie||ie.call($,V)}complete(){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===$||$.call(V)}_subscribe(V){var $,ie;return null!==(ie=null===($=this.source)||void 0===$?void 0:$.subscribe(V))&&void 0!==ie?ie:Q.Lc}}},305:(st,we,R)=>{R.d(we,{Hp:()=>ke,Lv:()=>ie});var c=R(4674),Q=R(7394),x=R(2653),ne=R(3894),se=R(2420);const de=ue("C",void 0,void 0);function ue(oe,me,re){return{kind:oe,value:me,error:re}}var V=R(7599),$=R(1441);class ie extends Q.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Q.Nn)(me)&&me.add(this)):this.destination=lt}static create(me,re,Ee){return new ke(me,re,Ee)}next(me){this.isStopped?at(function Me(oe){return ue("N",oe,void 0)}(me),this):this._next(me)}error(me){this.isStopped?at(function ve(oe){return ue("E",void 0,oe)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?at(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ae(oe,me){return Be.call(oe,me)}class We{constructor(me){this.partialObserver=me}next(me){const{partialObserver:re}=this;if(re.next)try{re.next(me)}catch(Ee){Ze(Ee)}}error(me){const{partialObserver:re}=this;if(re.error)try{re.error(me)}catch(Ee){Ze(Ee)}else Ze(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(re){Ze(re)}}}class ke extends ie{constructor(me,re,Ee){let Pe;if(super(),(0,c.m)(me)||!me)Pe={next:me??void 0,error:re??void 0,complete:Ee??void 0};else{let ae;this&&x.config.useDeprecatedNextContext?(ae=Object.create(me),ae.unsubscribe=()=>this.unsubscribe(),Pe={next:me.next&&Ae(me.next,ae),error:me.error&&Ae(me.error,ae),complete:me.complete&&Ae(me.complete,ae)}):Pe=me}this.destination=new We(Pe)}}function Ze(oe){x.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(oe):(0,ne.h)(oe)}function at(oe,me){const{onStoppedNotification:re}=x.config;re&&V.z.setTimeout(()=>re(oe,me))}const lt={closed:!0,next:se.Z,error:function xe(oe){throw oe},complete:se.Z}},7394:(st,we,R)=>{R.d(we,{Lc:()=>de,w0:()=>se,Nn:()=>ve});var c=R(4674);const x=(0,R(2306).d)(ue=>function($){ue(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ie,Be)=>`${Be+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ne=R(9039);class se{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:ie}=this;if((0,c.m)(ie))try{ie()}catch(Ae){V=Ae instanceof x?Ae.errors:[Ae]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ae of Be)try{Me(Ae)}catch(We){V=V??[],We instanceof x?V=[...V,...We.errors]:V.push(We)}}if(V)throw new x(V)}}add(V){var $;if(V&&V!==this)if(this.closed)Me(V);else{if(V instanceof se){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(V)}}_hasParent(V){const{_parentage:$}=this;return $===V||Array.isArray($)&&$.includes(V)}_addParent(V){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(V),$):$?[$,V]:V}_removeParent(V){const{_parentage:$}=this;$===V?this._parentage=null:Array.isArray($)&&(0,ne.P)($,V)}remove(V){const{_finalizers:$}=this;$&&(0,ne.P)($,V),V instanceof se&&V._removeParent(this)}}se.EMPTY=(()=>{const ue=new se;return ue.closed=!0,ue})();const de=se.EMPTY;function ve(ue){return ue instanceof se||ue&&"closed"in ue&&(0,c.m)(ue.remove)&&(0,c.m)(ue.add)&&(0,c.m)(ue.unsubscribe)}function Me(ue){(0,c.m)(ue)?ue():ue.unsubscribe()}},2653:(st,we,R)=>{R.d(we,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(st,we,R)=>{R.d(we,{E:()=>Q});const Q=new(R(5592).y)(se=>se.complete())},2459:(st,we,R)=>{R.d(we,{D:()=>me});var c=R(4829),Q=R(3093),x=R(5137),de=R(5592),Me=R(4971),ue=R(4674),V=R(7103);function ie(re,Ee){if(!re)throw new Error("Iterable cannot be null");return new de.y(Pe=>{(0,V.f)(Pe,Ee,()=>{const ae=re[Symbol.asyncIterator]();(0,V.f)(Pe,Ee,()=>{ae.next().then(Z=>{Z.done?Pe.complete():Pe.next(Z.value)})},0,!0)})})}var Be=R(8382),Ae=R(4026),We=R(4266),ke=R(3664),Ze=R(5726),xe=R(9853),at=R(541);function me(re,Ee){return Ee?function oe(re,Ee){if(null!=re){if((0,Be.c)(re))return function ne(re,Ee){return(0,c.Xf)(re).pipe((0,x.R)(Ee),(0,Q.Q)(Ee))}(re,Ee);if((0,We.z)(re))return function ve(re,Ee){return new de.y(Pe=>{let ae=0;return Ee.schedule(function(){ae===re.length?Pe.complete():(Pe.next(re[ae++]),Pe.closed||this.schedule())})})}(re,Ee);if((0,Ae.t)(re))return function se(re,Ee){return(0,c.Xf)(re).pipe((0,x.R)(Ee),(0,Q.Q)(Ee))}(re,Ee);if((0,Ze.D)(re))return ie(re,Ee);if((0,ke.T)(re))return function $(re,Ee){return new de.y(Pe=>{let ae;return(0,V.f)(Pe,Ee,()=>{ae=re[Me.h](),(0,V.f)(Pe,Ee,()=>{let Z,je;try{({value:Z,done:je}=ae.next())}catch(dt){return void Pe.error(dt)}je?Pe.complete():Pe.next(Z)},0,!0)}),()=>(0,ue.m)(ae?.return)&&ae.return()})}(re,Ee);if((0,at.L)(re))return function lt(re,Ee){return ie((0,at.Q)(re),Ee)}(re,Ee)}throw(0,xe.z)(re)}(re,Ee):(0,c.Xf)(re)}},4829:(st,we,R)=>{R.d(we,{Xf:()=>Be});var c=R(7582),Q=R(4266),x=R(4026),ne=R(5592),se=R(8382),de=R(5726),ve=R(9853),Me=R(3664),ue=R(541),V=R(4674),$=R(3894),ie=R(4850);function Be(oe){if(oe instanceof ne.y)return oe;if(null!=oe){if((0,se.c)(oe))return function Ae(oe){return new ne.y(me=>{const re=oe[ie.L]();if((0,V.m)(re.subscribe))return re.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,Q.z)(oe))return function We(oe){return new ne.y(me=>{for(let re=0;re<oe.length&&!me.closed;re++)me.next(oe[re]);me.complete()})}(oe);if((0,x.t)(oe))return function ke(oe){return new ne.y(me=>{oe.then(re=>{me.closed||(me.next(re),me.complete())},re=>me.error(re)).then(null,$.h)})}(oe);if((0,de.D)(oe))return xe(oe);if((0,Me.T)(oe))return function Ze(oe){return new ne.y(me=>{for(const re of oe)if(me.next(re),me.closed)return;me.complete()})}(oe);if((0,ue.L)(oe))return function at(oe){return xe((0,ue.Q)(oe))}(oe)}throw(0,ve.z)(oe)}function xe(oe){return new ne.y(me=>{(function lt(oe,me){var re,Ee,Pe,ae;return(0,c.mG)(this,void 0,void 0,function*(){try{for(re=(0,c.KL)(oe);!(Ee=yield re.next()).done;)if(me.next(Ee.value),me.closed)return}catch(Z){Pe={error:Z}}finally{try{Ee&&!Ee.done&&(ae=re.return)&&(yield ae.call(re))}finally{if(Pe)throw Pe.error}}me.complete()})})(oe,me).catch(re=>me.error(re))})}},3019:(st,we,R)=>{R.d(we,{T:()=>de});var c=R(7537),Q=R(4829),x=R(6232),ne=R(9940),se=R(2459);function de(...ve){const Me=(0,ne.yG)(ve),ue=(0,ne._6)(ve,1/0),V=ve;return V.length?1===V.length?(0,Q.Xf)(V[0]):(0,c.J)(ue)((0,se.D)(V,Me)):x.E}},2096:(st,we,R)=>{R.d(we,{of:()=>x});var c=R(9940),Q=R(2459);function x(...ne){const se=(0,c.yG)(ne);return(0,Q.D)(ne,se)}},8251:(st,we,R)=>{R.d(we,{x:()=>Q});var c=R(305);function Q(ne,se,de,ve,Me){return new x(ne,se,de,ve,Me)}class x extends c.Lv{constructor(se,de,ve,Me,ue,V){super(se),this.onFinalize=ue,this.shouldUnsubscribe=V,this._next=de?function($){try{de($)}catch(ie){se.error(ie)}}:super._next,this._error=Me?function($){try{Me($)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(st,we,R)=>{R.d(we,{x:()=>ne});var c=R(2737),Q=R(9360),x=R(8251);function ne(de,ve=c.y){return de=de??se,(0,Q.e)((Me,ue)=>{let V,$=!0;Me.subscribe((0,x.x)(ue,ie=>{const Be=ve(ie);($||!de(V,Be))&&($=!1,V=Be,ue.next(ie))}))})}function se(de,ve){return de===ve}},7398:(st,we,R)=>{R.d(we,{U:()=>x});var c=R(9360),Q=R(8251);function x(ne,se){return(0,c.e)((de,ve)=>{let Me=0;de.subscribe((0,Q.x)(ve,ue=>{ve.next(ne.call(se,ue,Me++))}))})}},7537:(st,we,R)=>{R.d(we,{J:()=>x});var c=R(1631),Q=R(2737);function x(ne=1/0){return(0,c.z)(Q.y,ne)}},1631:(st,we,R)=>{R.d(we,{z:()=>Me});var c=R(7398),Q=R(4829),x=R(9360),ne=R(7103),se=R(8251),ve=R(4674);function Me(ue,V,$=1/0){return(0,ve.m)(V)?Me((ie,Be)=>(0,c.U)((Ae,We)=>V(ie,Ae,Be,We))((0,Q.Xf)(ue(ie,Be))),$):("number"==typeof V&&($=V),(0,x.e)((ie,Be)=>function de(ue,V,$,ie,Be,Ae,We,ke){const Ze=[];let xe=0,at=0,lt=!1;const oe=()=>{lt&&!Ze.length&&!xe&&V.complete()},me=Ee=>xe<ie?re(Ee):Ze.push(Ee),re=Ee=>{Ae&&V.next(Ee),xe++;let Pe=!1;(0,Q.Xf)($(Ee,at++)).subscribe((0,se.x)(V,ae=>{Be?.(ae),Ae?me(ae):V.next(ae)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(xe--;Ze.length&&xe<ie;){const ae=Ze.shift();We?(0,ne.f)(V,We,()=>re(ae)):re(ae)}oe()}catch(ae){V.error(ae)}}))};return ue.subscribe((0,se.x)(V,me,()=>{lt=!0,oe()})),()=>{ke?.()}}(ie,Be,ue,$)))}},3093:(st,we,R)=>{R.d(we,{Q:()=>ne});var c=R(7103),Q=R(9360),x=R(8251);function ne(se,de=0){return(0,Q.e)((ve,Me)=>{ve.subscribe((0,x.x)(Me,ue=>(0,c.f)(Me,se,()=>Me.next(ue),de),()=>(0,c.f)(Me,se,()=>Me.complete(),de),ue=>(0,c.f)(Me,se,()=>Me.error(ue),de)))})}},3020:(st,we,R)=>{R.d(we,{B:()=>se});var c=R(4829),Q=R(8645),x=R(305),ne=R(9360);function se(ve={}){const{connector:Me=(()=>new Q.x),resetOnError:ue=!0,resetOnComplete:V=!0,resetOnRefCountZero:$=!0}=ve;return ie=>{let Be,Ae,We,ke=0,Ze=!1,xe=!1;const at=()=>{Ae?.unsubscribe(),Ae=void 0},lt=()=>{at(),Be=We=void 0,Ze=xe=!1},oe=()=>{const me=Be;lt(),me?.unsubscribe()};return(0,ne.e)((me,re)=>{ke++,!xe&&!Ze&&at();const Ee=We=We??Me();re.add(()=>{ke--,0===ke&&!xe&&!Ze&&(Ae=de(oe,$))}),Ee.subscribe(re),!Be&&ke>0&&(Be=new x.Hp({next:Pe=>Ee.next(Pe),error:Pe=>{xe=!0,at(),Ae=de(lt,ue,Pe),Ee.error(Pe)},complete:()=>{Ze=!0,at(),Ae=de(lt,V),Ee.complete()}}),(0,c.Xf)(me).subscribe(Be))})(ie)}}function de(ve,Me,...ue){if(!0===Me)return void ve();if(!1===Me)return;const V=new x.Hp({next:()=>{V.unsubscribe(),ve()}});return(0,c.Xf)(Me(...ue)).subscribe(V)}},5137:(st,we,R)=>{R.d(we,{R:()=>Q});var c=R(9360);function Q(x,ne=0){return(0,c.e)((se,de)=>{de.add(x.schedule(()=>se.subscribe(de),ne))})}},4664:(st,we,R)=>{R.d(we,{w:()=>ne});var c=R(4829),Q=R(9360),x=R(8251);function ne(se,de){return(0,Q.e)((ve,Me)=>{let ue=null,V=0,$=!1;const ie=()=>$&&!ue&&Me.complete();ve.subscribe((0,x.x)(Me,Be=>{ue?.unsubscribe();let Ae=0;const We=V++;(0,c.Xf)(se(Be,We)).subscribe(ue=(0,x.x)(Me,ke=>Me.next(de?de(Be,ke,We,Ae++):ke),()=>{ue=null,ie()}))},()=>{$=!0,ie()}))})}},9397:(st,we,R)=>{R.d(we,{b:()=>se});var c=R(4674),Q=R(9360),x=R(8251),ne=R(2737);function se(de,ve,Me){const ue=(0,c.m)(de)||ve||Me?{next:de,error:ve,complete:Me}:de;return ue?(0,Q.e)((V,$)=>{var ie;null===(ie=ue.subscribe)||void 0===ie||ie.call(ue);let Be=!0;V.subscribe((0,x.x)($,Ae=>{var We;null===(We=ue.next)||void 0===We||We.call(ue,Ae),$.next(Ae)},()=>{var Ae;Be=!1,null===(Ae=ue.complete)||void 0===Ae||Ae.call(ue),$.complete()},Ae=>{var We;Be=!1,null===(We=ue.error)||void 0===We||We.call(ue,Ae),$.error(Ae)},()=>{var Ae,We;Be&&(null===(Ae=ue.unsubscribe)||void 0===Ae||Ae.call(ue)),null===(We=ue.finalize)||void 0===We||We.call(ue)}))}):ne.y}},1954:(st,we,R)=>{R.d(we,{o:()=>se});var c=R(7394);class Q extends c.w0{constructor(ve,Me){super()}schedule(ve,Me=0){return this}}const x={setInterval(de,ve,...Me){const{delegate:ue}=x;return ue?.setInterval?ue.setInterval(de,ve,...Me):setInterval(de,ve,...Me)},clearInterval(de){const{delegate:ve}=x;return(ve?.clearInterval||clearInterval)(de)},delegate:void 0};var ne=R(9039);class se extends Q{constructor(ve,Me){super(ve,Me),this.scheduler=ve,this.work=Me,this.pending=!1}schedule(ve,Me=0){var ue;if(this.closed)return this;this.state=ve;const V=this.id,$=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId($,V,Me)),this.pending=!0,this.delay=Me,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId($,this.id,Me),this}requestAsyncId(ve,Me,ue=0){return x.setInterval(ve.flush.bind(ve,this),ue)}recycleAsyncId(ve,Me,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return Me;null!=Me&&x.clearInterval(Me)}execute(ve,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ve,Me);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Me){let V,ue=!1;try{this.work(ve)}catch($){ue=!0,V=$||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Me}=this,{actions:ue}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ue,this),null!=ve&&(this.id=this.recycleAsyncId(Me,ve,null)),this.delay=null,super.unsubscribe()}}}},2631:(st,we,R)=>{R.d(we,{v:()=>x});var c=R(4552);class Q{constructor(se,de=Q.now){this.schedulerActionCtor=se,this.now=de}schedule(se,de=0,ve){return new this.schedulerActionCtor(this,se).schedule(ve,de)}}Q.now=c.l.now;class x extends Q{constructor(se,de=Q.now){super(se,de),this.actions=[],this._active=!1}flush(se){const{actions:de}=this;if(this._active)return void de.push(se);let ve;this._active=!0;do{if(ve=se.execute(se.state,se.delay))break}while(se=de.shift());if(this._active=!1,ve){for(;se=de.shift();)se.unsubscribe();throw ve}}}},6321:(st,we,R)=>{R.d(we,{P:()=>ne,z:()=>x});var c=R(1954);const x=new(R(2631).v)(c.o),ne=x},4552:(st,we,R)=>{R.d(we,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(st,we,R)=>{R.d(we,{z:()=>c});const c={setTimeout(Q,x,...ne){const{delegate:se}=c;return se?.setTimeout?se.setTimeout(Q,x,...ne):setTimeout(Q,x,...ne)},clearTimeout(Q){const{delegate:x}=c;return(x?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:(st,we,R)=>{R.d(we,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(st,we,R)=>{R.d(we,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(st,we,R)=>{R.d(we,{_6:()=>de,jO:()=>ne,yG:()=>se});var c=R(4674),Q=R(671);function x(ve){return ve[ve.length-1]}function ne(ve){return(0,c.m)(x(ve))?ve.pop():void 0}function se(ve){return(0,Q.K)(x(ve))?ve.pop():void 0}function de(ve,Me){return"number"==typeof x(ve)?ve.pop():Me}},9039:(st,we,R)=>{function c(Q,x){if(Q){const ne=Q.indexOf(x);0<=ne&&Q.splice(ne,1)}}R.d(we,{P:()=>c})},2306:(st,we,R)=>{function c(Q){const ne=Q(se=>{Error.call(se),se.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}R.d(we,{d:()=>c})},1441:(st,we,R)=>{R.d(we,{O:()=>ne,x:()=>x});var c=R(2653);let Q=null;function x(se){if(c.config.useDeprecatedSynchronousErrorHandling){const de=!Q;if(de&&(Q={errorThrown:!1,error:null}),se(),de){const{errorThrown:ve,error:Me}=Q;if(Q=null,ve)throw Me}}else se()}function ne(se){c.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=se)}},7103:(st,we,R)=>{function c(Q,x,ne,se=0,de=!1){const ve=x.schedule(function(){ne(),de?Q.add(this.schedule(null,se)):this.unsubscribe()},se);if(Q.add(ve),!de)return ve}R.d(we,{f:()=>c})},2737:(st,we,R)=>{function c(Q){return Q}R.d(we,{y:()=>c})},4266:(st,we,R)=>{R.d(we,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:(st,we,R)=>{R.d(we,{D:()=>Q});var c=R(4674);function Q(x){return Symbol.asyncIterator&&(0,c.m)(x?.[Symbol.asyncIterator])}},4674:(st,we,R)=>{function c(Q){return"function"==typeof Q}R.d(we,{m:()=>c})},8382:(st,we,R)=>{R.d(we,{c:()=>x});var c=R(4850),Q=R(4674);function x(ne){return(0,Q.m)(ne[c.L])}},3664:(st,we,R)=>{R.d(we,{T:()=>x});var c=R(4971),Q=R(4674);function x(ne){return(0,Q.m)(ne?.[c.h])}},4026:(st,we,R)=>{R.d(we,{t:()=>Q});var c=R(4674);function Q(x){return(0,c.m)(x?.then)}},541:(st,we,R)=>{R.d(we,{L:()=>ne,Q:()=>x});var c=R(7582),Q=R(4674);function x(se){return(0,c.FC)(this,arguments,function*(){const ve=se.getReader();try{for(;;){const{value:Me,done:ue}=yield(0,c.qq)(ve.read());if(ue)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Me)}}finally{ve.releaseLock()}})}function ne(se){return(0,Q.m)(se?.getReader)}},671:(st,we,R)=>{R.d(we,{K:()=>Q});var c=R(4674);function Q(x){return x&&(0,c.m)(x.schedule)}},9360:(st,we,R)=>{R.d(we,{A:()=>Q,e:()=>x});var c=R(4674);function Q(ne){return(0,c.m)(ne?.lift)}function x(ne){return se=>{if(Q(se))return se.lift(function(de){try{return ne(de,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(st,we,R)=>{function c(){}R.d(we,{Z:()=>c})},8407:(st,we,R)=>{R.d(we,{U:()=>x,z:()=>Q});var c=R(2737);function Q(...ne){return x(ne)}function x(ne){return 0===ne.length?c.y:1===ne.length?ne[0]:function(de){return ne.reduce((ve,Me)=>Me(ve),de)}}},3894:(st,we,R)=>{R.d(we,{h:()=>x});var c=R(2653),Q=R(7599);function x(ne){Q.z.setTimeout(()=>{const{onUnhandledError:se}=c.config;if(!se)throw ne;se(ne)})}},9853:(st,we,R)=>{function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(we,{z:()=>c})},5879:(st,we,R)=>{R.d(we,{$8M:()=>Yo,$WT:()=>ws,$Z:()=>Mb,AFp:()=>$_,AaK:()=>ie,CHM:()=>br,CRH:()=>qy,EJc:()=>Wm,EpF:()=>fD,F$t:()=>Jv,F4k:()=>VI,FYo:()=>X_,FiY:()=>Cd,Gf:()=>Vw,GfV:()=>ev,Gpc:()=>We,HDt:()=>o0,Hsn:()=>Qv,Ikx:()=>Dy,JOm:()=>ea,KtG:()=>Ol,LFG:()=>Et,LMc:()=>b1,LSH:()=>P_,Lbi:()=>pu,Lck:()=>FT,MAs:()=>FI,MGl:()=>Yf,MMx:()=>lp,NdJ:()=>qv,Ojb:()=>z_,OlP:()=>rn,Oqu:()=>Iu,P3R:()=>k_,PXZ:()=>YS,Q6J:()=>lD,QGY:()=>pD,Qsj:()=>ls,R0b:()=>Bi,RDi:()=>gf,Rgc:()=>hc,SBq:()=>Of,SDv:()=>dw,Sil:()=>nE,Suo:()=>dS,TTD:()=>Tl,TgZ:()=>Yv,Tol:()=>cy,VKq:()=>Cw,VuI:()=>UE,W1O:()=>gS,WLB:()=>xm,X6Q:()=>XS,XFs:()=>qe,Xpm:()=>ml,Xq5:()=>Qb,Xts:()=>Vd,Y36:()=>Zd,YKP:()=>pw,YNc:()=>Gv,Yjl:()=>Ec,Yz7:()=>ct,Z0I:()=>K,ZZ4:()=>n_,_Bn:()=>fw,_UZ:()=>_m,_c5:()=>b0,_uU:()=>py,aQg:()=>v0,c2e:()=>s0,cJS:()=>cn,cg1:()=>wy,dDg:()=>zS,dqk:()=>Mt,eFA:()=>qm,eJc:()=>Jy,ekj:()=>ay,eoX:()=>c0,f3M:()=>Ot,g9A:()=>G_,h0i:()=>Fu,hGG:()=>OE,hij:()=>Dm,iGM:()=>Bw,ifc:()=>mr,ip1:()=>r0,jDz:()=>mw,kEZ:()=>Vy,kL8:()=>HD,lG2:()=>Oo,lqb:()=>jr,lri:()=>GS,n5z:()=>cr,oAB:()=>Ea,oxw:()=>gD,q4F:()=>pb,qFp:()=>DN,qLn:()=>la,qOj:()=>Yb,qZA:()=>mm,rWj:()=>WS,rg0:()=>Lc,s9C:()=>vm,sBO:()=>aN,s_b:()=>Lm,soG:()=>fp,tb:()=>gc,tp0:()=>$l,uIk:()=>Mv,vHH:()=>oe,vpe:()=>Fs,wAp:()=>hh,xp6:()=>Nb,z2F:()=>dl,zSh:()=>L_,zW0:()=>rm,zs3:()=>ks});var c=R(8645),Q=R(7394),x=R(5592),ne=R(3019),se=R(5619),de=R(2096),ve=R(3020),Me=R(4664),ue=R(3997);function V(r){for(let s in r)if(r[s]===V)return s;throw Error("Could not find renamed property on target object.")}function $(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function ie(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ie).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Be(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ae=V({__forward_ref__:V});function We(r){return r.__forward_ref__=We,r.toString=function(){return ie(this())},r}function ke(r){return Ze(r)?r():r}function Ze(r){return"function"==typeof r&&r.hasOwnProperty(Ae)&&r.__forward_ref__===We}function xe(r){return r&&!!r.\u0275providers}const lt="https://g.co/ng/security#xss";class oe extends Error{constructor(s,a){super(function me(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function re(r){return"string"==typeof r?r:null==r?"":String(r)}function je(r,s){throw new oe(-201,!1)}function Ge(r,s,a,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function ct(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function cn(r){return{providers:r.providers||[],imports:r.imports||[]}}function In(r){return q(r,Ve)||q(r,un)}function K(r){return null!==In(r)}function q(r,s){return r.hasOwnProperty(s)?r[s]:null}function Te(r){return r&&(r.hasOwnProperty(Xe)||r.hasOwnProperty(Yt))?r[Xe]:null}const Ve=V({\u0275prov:V}),Xe=V({\u0275inj:V}),un=V({ngInjectableDef:V}),Yt=V({ngInjectorDef:V});var qe=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(qe||{});let ot;function Zt(r){const s=ot;return ot=r,s}function on(r,s,a){const l=In(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&qe.Optional?null:void 0!==s?s:void je(ie(r))}const Mt=globalThis,ze={},et="__NG_DI_FLAG__",_t="ngTempTokenPath",j=/\n/gm,J="__source";let Ie;function it(r){const s=Ie;return Ie=r,s}function St(r,s=qe.Default){if(void 0===Ie)throw new oe(-203,!1);return null===Ie?on(r,void 0,s):Ie.get(r,s&qe.Optional?null:void 0,s)}function Et(r,s=qe.Default){return(function yt(){return ot}()||St)(ke(r),s)}function Ot(r,s=qe.Default){return Et(r,Gn(s))}function Gn(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Kt(r){const s=[];for(let a=0;a<r.length;a++){const l=ke(r[a]);if(Array.isArray(l)){if(0===l.length)throw new oe(900,!1);let d,p=qe.Default;for(let m=0;m<l.length;m++){const b=l[m],E=vs(b);"number"==typeof E?-1===E?d=b.token:p|=E:d=b}s.push(Et(d,p))}else s.push(Et(l))}return s}function ci(r,s){return r[et]=s,r.prototype[et]=s,r}function vs(r){return r[et]}function Mr(r){return{toString:r}.toString()}var ys=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(ys||{}),mr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(mr||{});const _r={},$t=[],bs=V({\u0275cmp:V}),To=V({\u0275dir:V}),Da=V({\u0275pipe:V}),zu=V({\u0275mod:V}),Or=V({\u0275fac:V}),So=V({__NG_ELEMENT_ID__:V}),Ao=V({__NG_ENV_ID__:V});function vc(r,s,a){let l=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=s.length;if(d+p===l||r.charCodeAt(d+p)<=32)return d}a=d+1}}function wa(r,s,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],m=a[l++],b=a[l++];r.setAttribute(s,m,b,p)}else{const p=d,m=a[++l];er(p)?r.setProperty(s,p,m):r.setAttribute(s,p,m),l++}}return l}function yc(r){return 3===r||4===r||6===r}function er(r){return 64===r.charCodeAt(0)}function $s(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||tr(r,a,d,null,-1===a||2===a?s[++l]:null)}}return r}function tr(r,s,a,l,d){let p=0,m=r.length;if(-1===s)m=-1;else for(;p<r.length;){const b=r[p++];if("number"==typeof b){if(b===s){m=-1;break}if(b>s){m=p-1;break}}}for(;p<r.length;){const b=r[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==d&&(r[p+1]=d));if(l===r[p+1])return void(r[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==m&&(r.splice(m,0,s),p=m+1),r.splice(p++,0,a),null!==l&&r.splice(p++,0,l),null!==d&&r.splice(p++,0,d)}const bc="ng-template";function Wn(r,s,a){let l=0,d=!0;for(;l<r.length;){let p=r[l++];if("string"==typeof p&&d){const m=r[l++];if(a&&"class"===p&&-1!==vc(m.toLowerCase(),s,0))return!0}else{if(1===p){for(;l<r.length&&"string"==typeof(p=r[l++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function vr(r){return 4===r.type&&r.value!==bc}function Fp(r,s,a){return s===(4!==r.type||a?r.value:bc)}function Rh(r,s,a){let l=4;const d=r.attrs||[],p=function Lp(r){for(let s=0;s<r.length;s++)if(yc(r[s]))return s;return r.length}(d);let m=!1;for(let b=0;b<s.length;b++){const E=s[b];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!Fp(r,E,a)||""===E&&1===s.length){if(xi(l))return!1;m=!0}}else{const T=8&l?E:s[++b];if(8&l&&null!==r.attrs){if(!Wn(r.attrs,T,a)){if(xi(l))return!1;m=!0}continue}const L=No(8&l?"class":E,d,vr(r),a);if(-1===L){if(xi(l))return!1;m=!0;continue}if(""!==T){let W;W=L>p?"":d[L+1].toLowerCase();const X=8&l?W:null;if(X&&-1!==vc(X,T,0)||2&l&&T!==W){if(xi(l))return!1;m=!0}}}}else{if(!m&&!xi(l)&&!xi(E))return!1;if(m&&xi(E))continue;m=!1,l=E|1&l}}return xi(l)||m}function xi(r){return 0==(1&r)}function No(r,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let p=!1;for(;d<s.length;){const m=s[d];if(m===r)return d;if(3===m||6===m)p=!0;else{if(1===m||2===m){let b=s[++d];for(;"string"==typeof b;)b=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=p?1:2}return-1}return function Gs(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const l=r[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,r)}function Dc(r,s,a=!1){for(let l=0;l<s.length;l++)if(Rh(r,s[l],a))return!0;return!1}function Zu(r,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(r.length===l.length){for(let d=0;d<r.length;d++)if(r[d]!==l[d])continue e;return!0}}return!1}function Mo(r,s){return r?":not("+s.trim()+")":s}function Ds(r){let s=r[0],a=1,l=2,d="",p=!1;for(;a<r.length;){let m=r[a];if("string"==typeof m)if(2&l){const b=r[++a];d+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!xi(m)&&(s+=Mo(p,d),d=""),l=m,p=p||!xi(l);a++}return""!==d&&(s+=Mo(p,d)),s}function ml(r){return Mr(()=>{const s=Cc(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===ys.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||mr.Emulated,styles:r.styles||$t,_:null,schemas:r.schemas||null,tView:null,id:""};xh(a);const l=r.dependencies;return a.directiveDefs=Ca(l,!1),a.pipeDefs=Ca(l,!0),a.id=function ir(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function wc(r){return Gt(r)||kn(r)}function _l(r){return null!==r}function Ea(r){return Mr(()=>({type:r.type,bootstrap:r.bootstrap||$t,declarations:r.declarations||$t,imports:r.imports||$t,exports:r.exports||$t,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function vl(r,s){if(null==r)return _r;const a={};for(const l in r)if(r.hasOwnProperty(l)){let d=r[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,s&&(s[d]=p)}return a}function Oo(r){return Mr(()=>{const s=Cc(r);return xh(s),s})}function Ec(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Gt(r){return r[bs]||null}function kn(r){return r[To]||null}function Ti(r){return r[Da]||null}function ws(r){const s=Gt(r)||kn(r)||Ti(r);return null!==s&&s.standalone}function Si(r,s){const a=r[zu]||null;if(!a&&!0===s)throw new Error(`Type ${ie(r)} does not have '\u0275mod' property.`);return a}function Cc(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||_r,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||$t,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vl(r.inputs,s),outputs:vl(r.outputs)}}function xh(r){r.features?.forEach(s=>s(r))}function Ca(r,s){if(!r)return null;const a=s?Ti:wc;return()=>("function"==typeof r?r():r).map(l=>a(l)).filter(_l)}const Sn=0,nt=1,bt=2,An=3,Ai=4,Ws=5,ui=6,Ia=7,Rn=8,Wr=9,Ro=10,Dt=11,di=12,Ph=13,Es=14,Nn=15,Ic=16,zs=17,ei=18,zr=19,Yr=20,Cs=21,rr=22,Ta=23,Is=24,Rt=25,xo=1,bl=2,ti=7,ni=9,hi=11;function ii(r){return Array.isArray(r)&&"object"==typeof r[xo]}function wi(r){return Array.isArray(r)&&!0===r[xo]}function Dl(r){return 0!=(4&r.flags)}function Zs(r){return r.componentOffset>-1}function $i(r){return 1==(1&r.flags)}function Pi(r){return!!r.template}function Po(r){return 0!=(512&r[bt])}function Ks(r,s){return r.hasOwnProperty(Or)?r[Or]:null}let Yn=null,qs=!1;function ki(r){const s=Yn;return Yn=r,s}const Js={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Na(r){if(!Qs(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Rc(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Ma(r){r.dirty=!0,function td(r){if(void 0===r.liveConsumerNode)return;const s=qs;qs=!0;try{for(const a of r.liveConsumerNode)a.dirty||Ma(a)}finally{qs=s}}(r),r.consumerMarkedDirty?.(r)}function nd(r){return r&&(r.nextProducerIndex=0),ki(r)}function ri(r,s){if(ki(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Qs(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Oa(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Rc(r){Ss(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],l=r.producerLastReadVersion[s];if(l!==a.version||(Na(a),l!==a.version))return!0}return!1}function xc(r){if(Ss(r),Qs(r))for(let s=0;s<r.producerNode.length;s++)Oa(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Oa(r,s){if(function Ra(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Ss(r),1===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)Oa(r.producerNode[l],r.producerIndexOfThis[l]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const l=r.liveConsumerIndexOfThis[s],d=r.liveConsumerNode[s];Ss(d),d.producerIndexOfThis[l]=s}}function Qs(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ss(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let sd=null;function Lc(r){const s=ki(null);try{return r()}finally{ki(s)}}const Bc=()=>{},Uh=(()=>({...Js,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Bc}))();class jh{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Tl(){return ka}function ka(r){return r.type.prototype.ngOnChanges&&(r.setInput=Xs),Hh}function Hh(){const r=eo(this),s=r?.current;if(s){const a=r.previous;if(a===_r)r.previous=s;else for(let l in s)a[l]=s[l];r.current=null,this.ngOnChanges(s)}}function Xs(r,s,a,l){const d=this.declaredInputs[a],p=eo(r)||function ad(r,s){return r[xr]=s}(r,{previous:_r,current:null}),m=p.current||(p.current={}),b=p.previous,E=b[d];m[d]=new jh(E&&E.currentValue,s,b===_r),r[l]=s}Tl.ngInherit=!0;const xr="__ngSimpleChanges__";function eo(r){return r[xr]||null}const yr=function(r,s,a){};function Xt(r){for(;Array.isArray(r);)r=r[Sn];return r}function no(r,s){return Xt(s[r])}function fi(r,s){return Xt(s[r.index])}function Uc(r,s){return r.data[s]}function pi(r,s){const a=s[r];return ii(a)?a:a[Sn]}function Fi(r,s){return null==s?null:r[s]}function Yh(r){r[zs]=0}function jc(r){1024&r[bt]||(r[bt]|=1024,zp(r,1))}function Sl(r){1024&r[bt]&&(r[bt]&=-1025,zp(r,-1))}function zp(r,s){let a=r[An];if(null===a)return;a[Ws]+=s;let l=a;for(a=a[An];null!==a&&(1===s&&1===l[Ws]||-1===s&&0===l[Ws]);)a[Ws]+=s,l=a,a=a[An]}const wt={lFrame:Zn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gi(){return wt.bindingsEnabled}function Pr(){return null!==wt.skipHydrationRootTNode}function Oe(){return wt.lFrame.lView}function Ut(){return wt.lFrame.tView}function br(r){return wt.lFrame.contextLView=r,r[Rn]}function Ol(r){return wt.lFrame.contextLView=null,r}function oi(){let r=Rl();for(;null!==r&&64===r.type;)r=r.parent;return r}function Rl(){return wt.lFrame.currentTNode}function jo(){const r=wt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function As(r,s){const a=wt.lFrame;a.currentTNode=r,a.isParent=s}function ro(){return wt.lFrame.isParent}function Gc(){wt.lFrame.isParent=!1}function Li(){const r=wt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function so(){return wt.lFrame.bindingIndex++}function Ns(r){const s=wt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function gd(r){wt.lFrame.inI18n=r}function xl(r,s){const a=wt.lFrame;a.bindingIndex=a.bindingRootIndex=r,Pl(s)}function Pl(r){wt.lFrame.currentDirectiveIndex=r}function kl(){return wt.lFrame.currentQueryIndex}function _d(r){wt.lFrame.currentQueryIndex=r}function vd(r){const s=r[nt];return 2===s.type?s.declTNode:1===s.type?r[ui]:null}function Kh(r,s,a){if(a&qe.SkipSelf){let d=s,p=r;for(;!(d=d.parent,null!==d||a&qe.Host||(d=vd(p),null===d||(p=p[Es],10&d.type))););if(null===d)return!1;s=d,r=p}const l=wt.lFrame=Fl();return l.currentTNode=s,l.lView=r,!0}function mi(r){const s=Fl(),a=r[nt];wt.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Fl(){const r=wt.lFrame,s=null===r?null:r.child;return null===s?Zn(r):s}function Zn(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function vt(){const r=wt.lFrame;return wt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Kr=vt;function Tt(){const r=vt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function en(){return wt.lFrame.selectedIndex}function mn(r){wt.lFrame.selectedIndex=r}function Dn(){const r=wt.lFrame;return Uc(r.tView,r.selectedIndex)}let Dr=!0;function kr(){return Dr}function Fr(r){Dr=r}function Va(r,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:O}=p;m&&(r.contentHooks??=[]).push(-a,m),b&&((r.contentHooks??=[]).push(a,b),(r.contentCheckHooks??=[]).push(a,b)),E&&(r.viewHooks??=[]).push(-a,E),T&&((r.viewHooks??=[]).push(a,T),(r.viewCheckHooks??=[]).push(a,T)),null!=O&&(r.destroyHooks??=[]).push(a,O)}}function Ua(r,s,a){Ll(r,s,3,a)}function Lr(r,s,a,l){(3&r[bt])===a&&Ll(r,s,a,l)}function or(r,s){let a=r[bt];(3&a)===s&&(a&=8191,a+=1,r[bt]=a)}function Ll(r,s,a,l){const p=l??-1,m=s.length-1;let b=0;for(let E=void 0!==l?65535&r[zs]:0;E<m;E++)if("number"==typeof s[E+1]){if(b=s[E],null!=l&&b>=l)break}else s[E]<0&&(r[zs]+=65536),(b<p||-1==p)&&($o(r,a,s,E),r[zs]=(4294901760&r[zs])+E+2),E++}function F(r,s){yr(4,r,s);const a=ki(null);try{s.call(r)}finally{ki(a),yr(5,r,s)}}function $o(r,s,a,l){const d=a[l]<0,p=a[l+1],b=r[d?-a[l]:a[l]];d?r[bt]>>13<r[zs]>>16&&(3&r[bt])===s&&(r[bt]+=8192,F(b,p)):F(b,p)}const Jr=-1;class Qr{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Wo(r){return r!==Jr}function oo(r){return 32767&r}function Wi(r,s){let a=function Ha(r){return r>>16}(r),l=s;for(;a>0;)l=l[Es],a--;return l}let Ul=!0;function $a(r){const s=Ul;return Ul=r,s}const zo=255,Zc=5;let ar=0;const wn={};function Br(r,s){const a=lr(r,s);if(-1!==a)return a;const l=s[nt];l.firstCreatePass&&(r.injectorIndex=s.length,Ga(l.data,r),Ga(s,null),Ga(l.blueprint,null));const d=Ei(r,s),p=r.injectorIndex;if(Wo(d)){const m=oo(d),b=Wi(d,s),E=b[nt].data;for(let T=0;T<8;T++)s[p+T]=b[m+T]|E[m+T]}return s[p+8]=d,p}function Ga(r,s){r.push(0,0,0,0,0,0,0,0,s)}function lr(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Ei(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){if(l=co(d),null===l)return Jr;if(a++,d=d[Es],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Jr}function wr(r,s,a){!function Kc(r,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(So)&&(l=a[So]),null==l&&(l=a[So]=ar++);const d=l&zo;s.data[r+(d>>Zc)]|=1<<d}(r,s,a)}function Xr(r,s,a){if(a&qe.Optional||void 0!==r)return r;je()}function ao(r,s,a,l){if(a&qe.Optional&&void 0===l&&(l=null),!(a&(qe.Self|qe.Host))){const d=r[Wr],p=Zt(void 0);try{return d?d.get(s,l,a&qe.Optional):on(s,l,a&qe.Optional)}finally{Zt(p)}}return Xr(l,0,a)}function Wa(r,s,a,l=qe.Default,d){if(null!==r){if(2048&s[bt]&&!(l&qe.Self)){const m=function qp(r,s,a,l,d){let p=r,m=s;for(;null!==p&&null!==m&&2048&m[bt]&&!(512&m[bt]);){const b=qn(p,m,a,l|qe.Self,wn);if(b!==wn)return b;let E=p.parent;if(!E){const T=m[Yr];if(T){const O=T.get(a,wn,l);if(O!==wn)return O}E=co(m),m=m[Es]}p=E}return d}(r,s,a,l,wn);if(m!==wn)return m}const p=qn(r,s,a,l,wn);if(p!==wn)return p}return ao(s,a,l,d)}function qn(r,s,a,l,d){const p=function Jh(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(So)?r[So]:void 0;return"number"==typeof s?s>=0?s&zo:Hl:s}(a);if("function"==typeof p){if(!Kh(s,r,l))return l&qe.Host?Xr(d,0,l):ao(s,a,l,d);try{let m;if(m=p(l),null!=m||l&qe.Optional)return m;je()}finally{Kr()}}else if("number"==typeof p){let m=null,b=lr(r,s),E=Jr,T=l&qe.Host?s[Nn][ui]:null;for((-1===b||l&qe.SkipSelf)&&(E=-1===b?Ei(r,s):s[b+8],E!==Jr&&Qc(l,!1)?(m=s[nt],b=oo(E),s=Wi(E,s)):b=-1);-1!==b;){const O=s[nt];if(es(p,b,O.data)){const L=qc(b,s,a,m,l,T);if(L!==wn)return L}E=s[b+8],E!==Jr&&Qc(l,s[nt].data[b+8]===T)&&es(p,b,s)?(m=O,b=oo(E),s=Wi(E,s)):b=-1}}return d}function qc(r,s,a,l,d,p){const m=s[nt],b=m.data[r+8],O=Jc(b,m,a,null==l?Zs(b)&&Ul:l!=m&&0!=(3&b.type),d&qe.Host&&p===b);return null!==O?lo(s,m,O,b):wn}function Jc(r,s,a,l,d){const p=r.providerIndexes,m=s.data,b=1048575&p,E=r.directiveStart,O=p>>20,W=d?b+O:r.directiveEnd;for(let X=l?b:b+O;X<W;X++){const _e=m[X];if(X<E&&a===_e||X>=E&&_e.type===a)return X}if(d){const X=m[E];if(X&&Pi(X)&&X.type===a)return E}return null}function lo(r,s,a,l){let d=r[a];const p=s.data;if(function yd(r){return r instanceof Qr}(d)){const m=d;m.resolving&&function Pe(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new oe(-200,`Circular dependency in DI detected for ${r}${a}`)}(function Ee(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():re(r)}(p[a]));const b=$a(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?Zt(m.injectImpl):null;Kh(r,l,qe.Default);try{d=r[a]=m.factory(void 0,p,r,l),s.firstCreatePass&&a>=l.directiveStart&&function Ln(r,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(l){const m=ka(s);(a.preOrderHooks??=[]).push(r,m),(a.preOrderCheckHooks??=[]).push(r,m)}d&&(a.preOrderHooks??=[]).push(0-r,d),p&&((a.preOrderHooks??=[]).push(r,p),(a.preOrderCheckHooks??=[]).push(r,p))}(a,p[a],s)}finally{null!==T&&Zt(T),$a(b),m.resolving=!1,Kr()}}return d}function es(r,s,a){return!!(a[s+(r>>Zc)]&1<<r)}function Qc(r,s){return!(r&qe.Self||r&qe.Host&&s)}class _n{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Wa(this._tNode,this._lView,s,Gn(l),a)}}function Hl(){return new _n(oi(),Oe())}function cr(r){return Mr(()=>{const s=r.prototype.constructor,a=s[Or]||bd(s),l=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==l;){const p=d[Or]||bd(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function bd(r){return Ze(r)?()=>{const s=bd(ke(r));return s&&s()}:Ks(r)}function co(r){const s=r[nt],a=s.type;return 2===a?s.declTNode:1===a?r[ui]:null}function Yo(r){return function jl(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(yc(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(oi(),r)}const Zo="__parameters__";function k(r,s,a){return Mr(()=>{const l=function A(r){return function(...a){if(r){const l=r(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...p){if(this instanceof d)return l.apply(this,p),this;const m=new d(...p);return b.annotation=m,b;function b(E,T,O){const L=E.hasOwnProperty(Zo)?E[Zo]:Object.defineProperty(E,Zo,{value:[]})[Zo];for(;L.length<=O;)L.push(null);return(L[O]=L[O]||[]).push(m),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}function Ko(r,s){r.forEach(a=>Array.isArray(a)?Ko(a,s):s(a))}function Qh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Dd(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function qo(r,s){const a=[];for(let l=0;l<r;l++)a.push(s);return a}function Er(r,s,a){let l=Ya(r,s);return l>=0?r[1|l]=a:(l=~l,function Qp(r,s,a,l){let d=r.length;if(d==s)r.push(a,l);else if(1===d)r.push(l,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=l}}(r,l,s,a)),l}function wd(r,s){const a=Ya(r,s);if(a>=0)return r[1|a]}function Ya(r,s){return function Xp(r,s,a){let l=0,d=r.length>>a;for(;d!==l;){const p=l+(d-l>>1),m=r[p<<a];if(s===m)return p<<a;m>s?d=p:l=p+1}return~(d<<a)}(r,s,1)}const Cd=ci(k("Optional"),8),$l=ci(k("SkipSelf"),4);function Vr(r){return 128==(128&r.flags)}var ea=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(ea||{});const Cr=new Map;let w_=0;const po="__ngContext__";function Ni(r,s){ii(s)?(r[po]=s[zr],function ur(r){Cr.set(r[zr],r)}(s)):r[po]=s}let H;function z(r,s){return H(r,s)}function Ue(r){const s=r[An];return wi(s)?s[An]:s}function On(r){return Qa(r[di])}function Ur(r){return Qa(r[Ai])}function Qa(r){for(;null!==r&&!wi(r);)r=r[Ai];return r}function ia(r,s,a,l,d){if(null!=l){let p,m=!1;wi(l)?p=l:ii(l)&&(m=!0,l=l[Sn]);const b=Xt(l);0===r&&null!==a?null==d?L0(s,a,b):sa(s,a,b,d||null,!0):1===r&&null!==a?sa(s,a,b,d||null,!0):2===r?function uu(r,s,a){const l=Rd(r,s);l&&function Od(r,s,a,l){r.removeChild(s,a,l)}(r,l,s,a)}(s,b,m):3===r&&s.destroyNode(b),null!=p&&function dC(r,s,a,l,d){const p=a[ti];p!==Xt(a)&&ia(s,r,l,p,d);for(let b=hi;b<a.length;b++){const E=a[b];oa(E[nt],E,r,s,l,p)}}(s,r,p,a,d)}}function rs(r,s){return r.createText(s)}function Yl(r,s,a){return r.createElement(s,a)}function gg(r,s){const a=r[ni],l=a.indexOf(s);Sl(s),a.splice(l,1)}function Md(r,s){if(r.length<=hi)return;const a=hi+s,l=r[a];if(l){const d=l[Ic];null!==d&&d!==r&&gg(d,l),s>0&&(r[a-1][Ai]=l[Ai]);const p=Dd(r,hi+s);!function Nd(r,s){oa(r,s,s[Dt],2,null,null),s[Sn]=null,s[ui]=null}(l[nt],l);const m=p[ei];null!==m&&m.detachView(p[nt]),l[An]=null,l[Ai]=null,l[bt]&=-129}return l}function T_(r,s){if(!(256&s[bt])){const a=s[Dt];s[Ta]&&xc(s[Ta]),s[Is]&&xc(s[Is]),a.destroyNode&&oa(r,s,a,3,null,null),function lu(r){let s=r[di];if(!s)return uf(r[nt],r);for(;s;){let a=null;if(ii(s))a=s[di];else{const l=s[hi];l&&(a=l)}if(!a){for(;s&&!s[Ai]&&s!==r;)ii(s)&&uf(s[nt],s),s=s[An];null===s&&(s=r),ii(s)&&uf(s[nt],s),a=s&&s[Ai]}s=a}}(s)}}function uf(r,s){if(!(256&s[bt])){s[bt]&=-129,s[bt]|=256,function mg(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof Qr)){const p=a[l+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const b=d[p[m]],E=p[m+1];yr(4,b,E);try{E.call(b)}finally{yr(5,b,E)}}else{yr(4,d,p);try{p.call(d)}finally{yr(5,d,p)}}}}}(r,s),function cC(r,s){const a=r.cleanup,l=s[Ia];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const m=a[p+3];m>=0?l[m]():l[-m].unsubscribe(),p+=2}else a[p].call(l[a[p+1]]);null!==l&&(s[Ia]=null);const d=s[Cs];if(null!==d){s[Cs]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(r,s),1===s[nt].type&&s[Dt].destroy();const a=s[Ic];if(null!==a&&wi(s[An])){a!==s[An]&&gg(a,s);const l=s[ei];null!==l&&l.detachView(r)}!function au(r){Cr.delete(r[zr])}(s)}}function _g(r,s,a){return S_(r,s.parent,a)}function S_(r,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[Sn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=r.data[l.directiveStart+d];if(p===mr.None||p===mr.Emulated)return null}return fi(l,a)}}function sa(r,s,a,l,d){r.insertBefore(s,a,l,d)}function L0(r,s,a){r.appendChild(s,a)}function df(r,s,a,l,d){null!==l?sa(r,s,a,l,d):L0(r,s,a)}function Rd(r,s){return r.parentNode(s)}function V0(r,s,a){return U0(r,s,a)}function A_(r,s,a){return 40&r.type?fi(r,a):null}let N_,ql,os,mf,U0=A_;function j0(r,s){U0=r,N_=s}function ss(r,s,a,l){const d=_g(r,l,s),p=s[Dt],b=V0(l.parent||s[ui],l,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)df(p,d,a[E],b,!1);else df(p,d,a,b,!1);void 0!==N_&&N_(p,l,s,a,d)}function cu(r,s){if(null!==s){const a=s.type;if(3&a)return fi(s,r);if(4&a)return hf(-1,r[s.index]);if(8&a){const l=s.child;if(null!==l)return cu(r,l);{const d=r[s.index];return wi(d)?hf(-1,d):Xt(d)}}if(32&a)return z(s,r)()||Xt(r[s.index]);{const l=vg(r,s);return null!==l?Array.isArray(l)?l[0]:cu(Ue(r[Nn]),l):cu(r,s.next)}}return null}function vg(r,s){return null!==s?r[Nn][ui].projection[s.projection]:null}function hf(r,s){const a=hi+r+1;if(a<s.length){const l=s[a],d=l[nt].firstChild;if(null!==d)return cu(l,d)}return s[ti]}function el(r,s,a,l,d,p,m){for(;null!=a;){const b=l[a.index],E=a.type;if(m&&0===s&&(b&&Ni(Xt(b),l),a.flags|=2),32!=(32&a.flags))if(8&E)el(r,s,a.child,l,d,p,!1),ia(s,r,d,b,p);else if(32&E){const T=z(a,l);let O;for(;O=T();)ia(s,r,d,O,p);ia(s,r,d,b,p)}else 16&E?H0(r,s,l,a,d,p):ia(s,r,d,b,p);a=m?a.projectionNext:a.next}}function oa(r,s,a,l,d,p){el(a,l,r.firstChild,s,d,p,!1)}function H0(r,s,a,l,d,p){const m=a[Nn],E=m[ui].projection[l.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)ia(s,r,d,E[T],p);else{let T=E;const O=m[An];Vr(l)&&(T.flags|=128),el(r,s,T,O,d,p,!0)}}function $0(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function pf(r,s,a){const{mergedAttrs:l,classes:d,styles:p}=a;null!==l&&wa(r,s,l),null!==d&&$0(r,s,d),null!==p&&function hC(r,s,a){r.setAttribute(s,"style",a)}(r,s,p)}function tl(r){return function yg(){if(void 0===ql&&(ql=null,Mt.trustedTypes))try{ql=Mt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return ql}()?.createHTML(r)||r}function gf(r){os=r}function Jl(){if(void 0!==os)return os;if(typeof document<"u")return document;throw new oe(210,!1)}function nl(r){return function _f(){if(void 0===mf&&(mf=null,Mt.trustedTypes))try{mf=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return mf}()?.createScriptURL(r)||r}class bg{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Xl(r){return r instanceof bg?r.changingThisBreaksApplicationSecurity:r}function vf(r,s){const a=function gC(r){return r instanceof bg&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${lt})`)}return a===s}class vC{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(tl(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class yC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=tl(s),a}}const DC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kd(r){return(r=String(r)).match(DC)?r:"unsafe:"+r}function go(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function Fd(...r){const s={};for(const a of r)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const yf=go("area,br,col,hr,img,wbr"),z0=go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wg=go("rp,rt"),R_=Fd(yf,Fd(z0,go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fd(wg,go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fd(wg,z0)),Eg=go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Z0=Fd(Eg,go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Ld=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ld||{});function P_(r){const s=Bd();return s?s.sanitize(Ld.URL,r)||"":vf(r,"URL")?Xl(r):kd(re(r))}function q0(r){const s=Bd();if(s)return nl(s.sanitize(Ld.RESOURCE_URL,r)||"");if(vf(r,"ResourceURL"))return nl(Xl(r));throw new oe(904,!1)}function k_(r,s,a){return function OC(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?q0:P_}(s,a)(r)}function Bd(){const r=Oe();return r&&r[Ro].sanitizer}class rn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ct({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vd=new rn("ENVIRONMENT_INITIALIZER"),Q0=new rn("INJECTOR",-1),X0=new rn("INJECTOR_DEF_TYPES");class F_{get(s,a=ze){if(a===ze){const l=new Error(`NullInjectorError: No provider for ${ie(s)}!`);throw l.name="NullInjectorError",l}return a}}function eb(...r){return{\u0275providers:tb(0,r),\u0275fromNgModule:!0}}function tb(r,...s){const a=[],l=new Set;let d;const p=m=>{a.push(m)};return Ko(s,m=>{const b=m;Df(b,p,[],l)&&(d||=[],d.push(b))}),void 0!==d&&nb(d,p),a}function nb(r,s){for(let a=0;a<r.length;a++){const{ngModule:l,providers:d}=r[a];Ag(d,p=>{s(p,l)})}}function Df(r,s,a,l){if(!(r=ke(r)))return!1;let d=null,p=Te(r);const m=!p&&Gt(r);if(p||m){if(m&&!m.standalone)return!1;d=r}else{const E=r.ngModule;if(p=Te(E),!p)return!1;d=E}const b=l.has(d);if(m){if(b)return!1;if(l.add(d),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const T of E)Df(T,s,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let T;l.add(d);try{Ko(p.imports,O=>{Df(O,s,a,l)&&(T||=[],T.push(O))})}finally{}void 0!==T&&nb(T,s)}if(!b){const T=Ks(d)||(()=>new d);s({provide:d,useFactory:T,deps:$t},d),s({provide:X0,useValue:d,multi:!0},d),s({provide:Vd,useValue:()=>Et(d),multi:!0},d)}const E=p.providers;if(null!=E&&!b){const T=r;Ag(E,O=>{s(O,T)})}}}return d!==r&&void 0!==r.providers}function Ag(r,s){for(let a of r)xe(a)&&(a=a.\u0275providers),Array.isArray(a)?Ag(a,s):s(a)}const ib=V({provide:String,useValue:V});function aa(r){return null!==r&&"object"==typeof r&&ib in r}function fu(r){return"function"==typeof r}const L_=new rn("Set Injector scope."),Cf={},B_={};let V_;function mo(){return void 0===V_&&(V_=new F_),V_}class jr{}class Ng extends jr{get destroyed(){return this._destroyed}constructor(s,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ec(s,m=>this.processProvider(m)),this.records.set(Q0,Ud(void 0,this)),d.has("environment")&&this.records.set(jr,Ud(void 0,this));const p=this.records.get(L_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(X0.multi,$t,qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=it(this),l=Zt(void 0);try{return s()}finally{it(a),Zt(l)}}get(s,a=ze,l=qe.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Ao))return s[Ao](this);l=Gn(l);const p=it(this),m=Zt(void 0);try{if(!(l&qe.SkipSelf)){let E=this.records.get(s);if(void 0===E){const T=function kC(r){return"function"==typeof r||"object"==typeof r&&r instanceof rn}(s)&&In(s);E=T&&this.injectableDefInScope(T)?Ud(U_(s),Cf):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(l&qe.Self?mo():this.parent).get(s,a=l&qe.Optional&&a===ze?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[_t]=b[_t]||[]).unshift(ie(s)),p)throw b;return function Io(r,s,a,l){const d=r[_t];throw s[J]&&d.unshift(s[J]),r.message=function _c(r,s,a,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=ie(s);if(Array.isArray(s))d=s.map(ie).join(" -> ");else if("object"==typeof s){let p=[];for(let m in s)if(s.hasOwnProperty(m)){let b=s[m];p.push(m+":"+("string"==typeof b?JSON.stringify(b):ie(b)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${r.replace(j,"\n  ")}`}("\n"+r.message,d,a,l),r.ngTokenPath=d,r[_t]=null,r}(b,s,"R3InjectorError",this.source)}throw b}finally{Zt(m),it(p)}}resolveInjectorInitializers(){const s=it(this),a=Zt(void 0);try{const d=this.get(Vd.multi,$t,qe.Self);for(const p of d)p()}finally{it(s),Zt(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(ie(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(s){let a=fu(s=ke(s))?s:ke(s&&s.provide);const l=function Mg(r){return aa(r)?Ud(void 0,r.useValue):Ud(j_(r),Cf)}(s);if(fu(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Ud(void 0,Cf,!0),d.factory=()=>Kt(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Cf&&(a.value=B_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Og(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ke(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function U_(r){const s=In(r),a=null!==s?s.factory:Ks(r);if(null!==a)return a;if(r instanceof rn)throw new oe(204,!1);if(r instanceof Function)return function PC(r){const s=r.length;if(s>0)throw qo(s,"?"),new oe(204,!1);const a=function fe(r){return r&&(r[Ve]||r[un])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new oe(204,!1)}function j_(r,s,a){let l;if(fu(r)){const d=ke(r);return Ks(d)||U_(d)}if(aa(r))l=()=>ke(r.useValue);else if(function Ef(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...Kt(r.deps||[]));else if(function wf(r){return!(!r||!r.useExisting)}(r))l=()=>Et(ke(r.useExisting));else{const d=ke(r&&(r.useClass||r.provide));if(!function H_(r){return!!r.deps}(r))return Ks(d)||U_(d);l=()=>new d(...Kt(r.deps))}return l}function Ud(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function ec(r,s){for(const a of r)Array.isArray(a)?ec(a,s):a&&xe(a)?ec(a.\u0275providers,s):s(a)}const $_=new rn("AppId",{providedIn:"root",factory:()=>rb}),rb="ng",G_=new rn("Platform Initializer"),pu=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),z_=new rn("CSP nonce",{providedIn:"root",factory:()=>Jl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ab=(r,s,a)=>null;function J_(r,s,a=!1){return ab(r,s,a)}class Nf{}class db{}class Mf{resolveComponentFactory(s){throw function hb(r){const s=Error(`No component factory found for ${ie(r)}.`);return s.ngComponent=r,s}(s)}}let Vg=(()=>{class r{static#e=this.NULL=new Mf}return r})();function Ps(){return vu(oi(),Oe())}function vu(r,s){return new Of(fi(r,s))}let Of=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Ps}return r})();function Ug(r){return r instanceof Of?r.nativeElement:r}class X_{}let ls=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function fb(){const r=Oe(),a=pi(oi().index,r);return(ii(a)?a:r)[Dt]}()}return r})(),VC=(()=>{class r{static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:()=>null})}return r})();class ev{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const pb=new ev("16.2.8"),tv={};function vb(r,s=null,a=null,l){const d=yb(r,s,a,l);return d.resolveInjectorInitializers(),d}function yb(r,s=null,a=null,l,d=new Set){const p=[a||$t,eb(r)];return l=l||("object"==typeof r?void 0:ie(r)),new Ng(p,s||mo(),l||null,d)}let ks=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=ze;static#t=this.NULL=new F_;static create(a,l){if(Array.isArray(a))return vb({name:""},l,a,"");{const d=a.name??"";return vb({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=ct({token:r,providedIn:"any",factory:()=>Et(Q0)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function rv(r){return r.ngOriginalError}class la{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&rv(s);for(;a&&rv(a);)a=rv(a);return a||null}}function sv(r){return s=>{setTimeout(r,void 0,s)}}const Fs=class nc extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let d=s,p=a||(()=>null),m=l;if(s&&"object"==typeof s){const E=s;d=E.next?.bind(E),p=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(p=sv(p),d&&(d=sv(d)),m&&(m=sv(m)));const b=super.subscribe({next:d,error:p,complete:m});return s instanceof Q.w0&&s.add(b),b}};function Pf(...r){}class Bi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fs(!1),this.onMicrotaskEmpty=new Fs(!1),this.onStable=new Fs(!1),this.onError=new Fs(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function HC(){const r="function"==typeof Mt.requestAnimationFrame;let s=Mt[r?"requestAnimationFrame":"setTimeout"],a=Mt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Gg(r){const s=()=>{!function wb(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Mt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Ff(r),r.isCheckStableRunning=!0,$g(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Ff(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,m,b)=>{if(function Ib(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(b))return a.invokeTask(d,p,m,b);try{return Wg(r),a.invokeTask(d,p,m,b)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),Eb(r)}},onInvoke:(a,l,d,p,m,b,E)=>{try{return Wg(r),a.invoke(d,p,m,b,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),Eb(r)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,Ff(r),$g(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bi.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Bi.isInAngularZone())throw new oe(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+d,s,Db,Pf,Pf);try{return p.runTask(m,a,l)}finally{p.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Db={};function $g(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Ff(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Wg(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Eb(r){r._nesting--,$g(r)}class $C{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fs,this.onMicrotaskEmpty=new Fs,this.onStable=new Fs,this.onError=new Fs}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}const zg=new rn("",{providedIn:"root",factory:Cb});function Cb(){const r=Ot(Bi);let s=!0;const a=new x.y(d=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{d.next(s),d.complete()})}),l=new x.y(d=>{let p;r.runOutsideAngular(()=>{p=r.onStable.subscribe(()=>{Bi.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Bi.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});return(0,ne.T)(a,l.pipe((0,ve.B)()))}function ca(r){return r instanceof Function?r():r}let rl=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:()=>new r})}return r})();function zd(r){for(;r;){r[bt]|=64;const s=Ue(r);if(Po(r)&&!s)return r;r=s}return null}const WC=new rn("",{providedIn:"root",factory:()=>!1});let Vf=null;function cv(r,s){return r[s]??Ab()}function uv(r,s){const a=Ab();a.producerNode?.length&&(r[s]=Vf,a.lView=r,Vf=dv())}const _o={...Js,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{zd(r.lView)},lView:null};function dv(){return Object.create(_o)}function Ab(){return Vf??=dv(),Vf}const Pt={};function Nb(r){hv(Ut(),Oe(),en()+r,!1)}function hv(r,s,a,l){if(!l)if(3==(3&s[bt])){const p=r.preOrderCheckHooks;null!==p&&Ua(s,p,a)}else{const p=r.preOrderHooks;null!==p&&Lr(s,p,0,a)}mn(a)}function Zd(r,s=qe.Default){const a=Oe();return null===a?Et(r,s):Wa(oi(),a,ke(r),s)}function Mb(){throw new Error("invalid")}function qg(r,s,a,l,d,p,m,b,E,T,O){const L=s.blueprint.slice();return L[Sn]=d,L[bt]=140|l,(null!==T||r&&2048&r[bt])&&(L[bt]|=2048),Yh(L),L[An]=L[Es]=r,L[Rn]=a,L[Ro]=m||r&&r[Ro],L[Dt]=b||r&&r[Dt],L[Wr]=E||r&&r[Wr]||null,L[ui]=p,L[zr]=function Ki(){return w_++}(),L[rr]=O,L[Yr]=T,L[Nn]=2==s.type?r[Nn]:L,L}function Kd(r,s,a,l,d){let p=r.data[s];if(null===p)p=fv(r,s,a,l,d),function pd(){return wt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const m=jo();p.injectorIndex=null===m?-1:m.injectorIndex}return As(p,!0),p}function fv(r,s,a,l,d){const p=Rl(),m=ro(),E=r.data[s]=function Pb(r,s,a,l,d,p){let m=s?s.injectorIndex:-1,b=0;return Pr()&&(b|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,a,s,l,d);return null===r.firstChild&&(r.firstChild=E),null!==p&&(m?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E,E.prev=p)),E}function Uf(r,s,a,l){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(l),r.blueprint.push(l),r.data.push(null);return d}function Ob(r,s,a,l,d){const p=cv(s,Ta),m=en(),b=2&l;try{mn(-1),b&&s.length>Rt&&hv(r,s,Rt,!1),yr(b?2:0,d);const T=b?p:null,O=nd(T);try{null!==T&&(T.dirty=!1),a(l,d)}finally{ri(T,O)}}finally{b&&null===s[Ta]&&uv(s,Ta),mn(m),yr(b?3:1,d)}}function pv(r,s,a){if(Dl(s)){const l=ki(null);try{const p=s.directiveEnd;for(let m=s.directiveStart;m<p;m++){const b=r.data[m];b.contentQueries&&b.contentQueries(1,a[m],m)}}finally{ki(l)}}}function gv(r,s,a){gi()&&(function lI(r,s,a,l){const d=a.directiveStart,p=a.directiveEnd;Zs(a)&&function hA(r,s,a){const l=fi(s,r),d=Rb(a);let m=16;a.signals?m=4096:a.onPush&&(m=64);const b=Jg(r,qg(r,d,null,m,l,s,null,r[Ro].rendererFactory.createRenderer(l,a),null,null,null));r[s.index]=b}(s,a,r.data[d+a.componentOffset]),r.firstCreatePass||Br(a,s),Ni(l,s);const m=a.initialInputs;for(let b=d;b<p;b++){const E=r.data[b],T=lo(s,r,b,a);Ni(T,s),null!==m&&pI(0,b-d,T,E,0,m),Pi(E)&&(pi(a.index,s)[Rn]=lo(s,r,b,a))}}(r,s,a,fi(a,s)),64==(64&a.flags)&&Bb(r,s,a))}function mv(r,s,a=fi){const l=s.localNames;if(null!==l){let d=s.index+1;for(let p=0;p<l.length;p+=2){const m=l[p+1],b=-1===m?a(s,r):r[m];r[d++]=b}}}function Rb(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=_v(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function _v(r,s,a,l,d,p,m,b,E,T,O){const L=Rt+l,W=L+d,X=function XC(r,s){const a=[];for(let l=0;l<s;l++)a.push(l<r?null:Pt);return a}(L,W),_e="function"==typeof T?T():T;return X[nt]={type:r,blueprint:X,template:a,queries:null,viewQuery:b,declTNode:s,data:X.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:_e,incompleteFirstPass:!1,ssrId:O}}let xb=r=>null;function kb(r,s,a,l){for(let d in r)if(r.hasOwnProperty(d)){a=null===a?{}:a;const p=r[d];null===l?yv(a,s,d,p):l.hasOwnProperty(d)&&yv(a,s,l[d],p)}return a}function yv(r,s,a,l){r.hasOwnProperty(a)?r[a].push(s,l):r[a]=[s,l]}function us(r,s,a,l,d,p,m,b){const E=fi(s,a);let O,T=s.inputs;!b&&null!=T&&(O=T[l])?(Cv(r,a,O,l,d),Zs(s)&&function sI(r,s){const a=pi(s,r);16&a[bt]||(a[bt]|=64)}(a,s.index)):3&s.type&&(l=function rI(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),d=null!=m?m(d,s.value||"",l):d,p.setProperty(E,l,d))}function bv(r,s,a,l){if(gi()){const d=null===l?null:{"":-1},p=function uI(r,s){const a=r.directiveRegistry;let l=null,d=null;if(a)for(let p=0;p<a.length;p++){const m=a[p];if(Dc(s,m.selectors,!1))if(l||(l=[]),Pi(m))if(null!==m.findHostDirectiveDefs){const b=[];d=d||new Map,m.findHostDirectiveDefs(m,b,d),l.unshift(...b,m),Dv(r,s,b.length)}else l.unshift(m),Dv(r,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,l,d),l.push(m)}return null===l?null:[l,d]}(r,a);let m,b;null===p?m=b=null:[m,b]=p,null!==m&&oI(r,s,a,m,d,b),d&&function dI(r,s,a){if(s){const l=r.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new oe(-301,!1);l.push(s[d],p)}}}(a,l,d)}a.mergedAttrs=$s(a.mergedAttrs,a.attrs)}function oI(r,s,a,l,d,p){for(let T=0;T<l.length;T++)wr(Br(a,s),r,l[T].type);!function fI(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,l.length);for(let T=0;T<l.length;T++){const O=l[T];O.providersResolver&&O.providersResolver(O)}let m=!1,b=!1,E=Uf(r,s,l.length,null);for(let T=0;T<l.length;T++){const O=l[T];a.mergedAttrs=$s(a.mergedAttrs,O.hostAttrs),dA(r,a,s,E,O),hI(E,O,d),null!==O.contentQueries&&(a.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=64);const L=O.type.prototype;!m&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),m=!0),!b&&(L.ngOnChanges||L.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),b=!0),E++}!function iI(r,s,a){const d=s.directiveEnd,p=r.data,m=s.attrs,b=[];let E=null,T=null;for(let O=s.directiveStart;O<d;O++){const L=p[O],W=a?a.get(L):null,_e=W?W.outputs:null;E=kb(L.inputs,O,E,W?W.inputs:null),T=kb(L.outputs,O,T,_e);const Fe=null===E||null===m||vr(s)?null:gI(E,O,m);b.push(Fe)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=b,s.inputs=E,s.outputs=T}(r,a,p)}function Bb(r,s,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,m=function Kp(){return wt.lFrame.currentDirectiveIndex}();try{mn(p);for(let b=l;b<d;b++){const E=r.data[b],T=s[b];Pl(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&cI(E,T)}}finally{mn(-1),Pl(m)}}function cI(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Dv(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function hI(r,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=r;Pi(s)&&(a[""]=r)}}function dA(r,s,a,l,d){r.data[l]=d;const p=d.factory||(d.factory=Ks(d.type)),m=new Qr(p,Pi(d),Zd);r.blueprint[l]=m,a[l]=m,function Lb(r,s,a,l,d){const p=d.hostBindings;if(p){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const b=~s.index;(function aI(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=b&&m.push(b),m.push(a,l,p)}}(r,s,l,Uf(r,a,d.hostVars,Pt),d)}function ua(r,s,a,l,d,p){const m=fi(r,s);!function wv(r,s,a,l,d,p,m){if(null==p)r.removeAttribute(s,d,a);else{const b=null==m?re(p):m(p,l||"",d);r.setAttribute(s,d,b,a)}}(s[Dt],m,p,r.value,a,l,d)}function pI(r,s,a,l,d,p){const m=p[s];if(null!==m)for(let b=0;b<m.length;)Ev(l,a,m[b++],m[b++],m[b++])}function Ev(r,s,a,l,d){const p=ki(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(l)&&(d=m[l].call(s,d)),null!==r.setInput?r.setInput(s,d,a,l):s[l]=d}finally{ki(p)}}function gI(r,s,a){let l=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(r.hasOwnProperty(p)){null===l&&(l=[]);const m=r[p];for(let b=0;b<m.length;b+=2)if(m[b]===s){l.push(p,m[b+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Vb(r,s,a,l){return[r,!0,!1,s,null,0,l,a,null,null,null]}function Ub(r,s){const a=r.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const m=r.data[p];_d(a[l]),m.contentQueries(2,s[p],p)}}}function Jg(r,s){return r[di]?r[Ph][Ai]=s:r[di]=s,r[Ph]=s,s}function da(r,s,a){_d(0);const l=ki(null);try{s(r,a)}finally{ki(l)}}function Hr(r){return r[Ia]||(r[Ia]=[])}function qd(r){return r.cleanup||(r.cleanup=[])}function Hb(r,s){const a=r[Wr],l=a?a.get(la,null):null;l&&l.handleError(s)}function Cv(r,s,a,l,d){for(let p=0;p<a.length;){const m=a[p++],b=a[p++];Ev(r.data[m],s[m],l,b,d)}}function jn(r,s){const a=pi(s,r),l=a[nt];!function Vi(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(l,a);const d=a[Sn];null!==d&&null===a[rr]&&(a[rr]=J_(d,a[Wr])),Jd(l,a,a[Rn])}function Jd(r,s,a){mi(s);try{const l=r.viewQuery;null!==l&&da(1,l,a);const d=r.template;null!==d&&Ob(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ub(r,s),r.staticViewQueries&&da(2,r.viewQuery,a);const p=r.components;null!==p&&function mI(r,s){for(let a=0;a<s.length;a++)jn(r,s[a])}(s,p)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[bt]&=-5,Tt()}}let $b=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,l,d){const p=typeof Zone>"u"?null:Zone.current,m=function Wp(r,s,a){const l=Object.create(Uh);a&&(l.consumerAllowSignalWrites=!0),l.fn=r,l.schedule=s;const d=m=>{l.cleanupFn=m};return l.ref={notify:()=>Ma(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Rc(l))return;l.hasRun=!0;const m=nd(l);try{l.cleanupFn(),l.cleanupFn=Bc,l.fn(d)}finally{ri(l,m)}},cleanup:()=>l.cleanupFn()},l.ref}(a,T=>{this.all.has(T)&&this.queue.set(T,p)},d);let b;this.all.add(m),m.notify();const E=()=>{m.cleanup(),b?.(),this.all.delete(m),this.queue.delete(m)};return b=l?.onDestroy(E),{destroy:E}}flush(){if(0!==this.queue.size)for(const[a,l]of this.queue)this.queue.delete(a),l?l.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:()=>new r})}return r})();function Qg(r,s,a){let l=a?r.styles:null,d=a?r.classes:null,p=0;if(null!==s)for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b?p=b:1==p?d=Be(d,b):2==p&&(l=Be(l,b+": "+s[++m]+";"))}a?r.styles=l:r.stylesWithoutHost=l,a?r.classes=d:r.classesWithoutHost=d}function oc(r,s,a,l,d=!1){for(;null!==a;){const p=s[a.index];null!==p&&l.push(Xt(p)),wi(p)&&Ii(p,l);const m=a.type;if(8&m)oc(r,s,a.child,l);else if(32&m){const b=z(a,s);let E;for(;E=b();)l.push(E)}else if(16&m){const b=vg(s,a);if(Array.isArray(b))l.push(...b);else{const E=Ue(s[Nn]);oc(E[nt],E,b,l,!0)}}a=d?a.projectionNext:a.next}return l}function Ii(r,s){for(let a=hi;a<r.length;a++){const l=r[a],d=l[nt].firstChild;null!==d&&oc(l[nt],l,d,s)}r[ti]!==r[Sn]&&s.push(r[ti])}function ds(r,s,a,l=!0){const d=s[Ro],p=d.rendererFactory,m=d.afterRenderEventManager;p.begin?.(),m?.begin();try{Iv(r,s,r.template,a)}catch(E){throw l&&Hb(s,E),E}finally{p.end?.(),d.effectManager?.flush(),m?.end()}}function Iv(r,s,a,l){const d=s[bt];if(256!=(256&d)){s[Ro].effectManager?.flush(),mi(s);try{Yh(s),function fd(r){return wt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Ob(r,s,a,2,l);const m=3==(3&d);if(m){const T=r.preOrderCheckHooks;null!==T&&Ua(s,T,null)}else{const T=r.preOrderHooks;null!==T&&Lr(s,T,0,null),or(s,0)}if(function ac(r){for(let s=On(r);null!==s;s=Ur(s)){if(!s[bl])continue;const a=s[ni];for(let l=0;l<a.length;l++){jc(a[l])}}}(s),Wb(s,2),null!==r.contentQueries&&Ub(r,s),m){const T=r.contentCheckHooks;null!==T&&Ua(s,T)}else{const T=r.contentHooks;null!==T&&Lr(s,T,1),or(s,1)}!function QC(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const l=cv(s,Is);try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)mn(~p);else{const m=p,b=a[++d],E=a[++d];xl(b,m),l.dirty=!1;const T=nd(l);try{E(2,s[m])}finally{ri(l,T)}}}}finally{null===s[Is]&&uv(s,Is),mn(-1)}}(r,s);const b=r.components;null!==b&&em(s,b,0);const E=r.viewQuery;if(null!==E&&da(2,E,l),m){const T=r.viewCheckHooks;null!==T&&Ua(s,T)}else{const T=r.viewHooks;null!==T&&Lr(s,T,2),or(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[bt]&=-73,Sl(s)}finally{Tt()}}}function Wb(r,s){for(let a=On(r);null!==a;a=Ur(a))for(let l=hi;l<a.length;l++)Tv(a[l],s)}function Ls(r,s,a){Tv(pi(s,r),a)}function Tv(r,s){if(!function Uo(r){return 128==(128&r[bt])}(r))return;const a=r[nt],l=r[bt];if(80&l&&0===s||1024&l||2===s)Iv(a,r,a.template,r[Rn]);else if(r[Ws]>0){Wb(r,1);const d=a.components;null!==d&&em(r,d,1)}}function em(r,s,a){for(let l=0;l<s.length;l++)Ls(r,s[l],a)}class Qd{get rootNodes(){const s=this._lView,a=s[nt];return oc(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(s){this._lView[Rn]=s}get destroyed(){return 256==(256&this._lView[bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[An];if(wi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Md(s,l),Dd(a,l))}this._attachedToViewContainer=!1}T_(this._lView[nt],this._lView)}onDestroy(s){!function bn(r,s){if(256==(256&r[bt]))throw new oe(911,!1);null===r[Cs]&&(r[Cs]=[]),r[Cs].push(s)}(this._lView,s)}markForCheck(){zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[bt]&=-129}reattach(){this._lView[bt]|=128}detectChanges(){ds(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lf(r,s){oa(r,s,s[Dt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=s}}class tm extends Qd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;ds(s[nt],s,s[Rn],!1)}checkNoChanges(){}get context(){return null}}class zb extends Vg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Gt(s);return new nm(a,this.ngModule)}}function _I(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class Sv{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Gn(l);const d=this.injector.get(s,tv,l);return d!==tv||a===tv?d:this.parentInjector.get(s,a,l)}}class nm extends db{get inputs(){const s=this.componentDef,a=s.inputTransforms,l=_I(s.inputs);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return _I(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ku(r){return r.map(Ds).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,d){let p=(d=d||this.ngModule)instanceof jr?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const m=p?new Sv(s,p):s,b=m.get(X_,null);if(null===b)throw new oe(407,!1);const L={rendererFactory:b,sanitizer:m.get(VC,null),effectManager:m.get($b,null),afterRenderEventManager:m.get(rl,null)},W=b.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",_e=l?function eI(r,s,a,l){const p=l.get(WC,!1)||a===mr.ShadowDom,m=r.selectRootElement(s,p);return function tI(r){xb(r)}(m),m}(W,l,this.componentDef.encapsulation,m):Yl(W,X,function vI(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(X)),pt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Re=null;null!==_e&&(Re=J_(_e,m,!0));const Ct=_v(0,null,null,1,0,null,null,null,null,null,null),Wt=qg(null,Ct,null,pt,null,null,L,W,m,null,Re);let yn,Hi;mi(Wt);try{const hl=this.componentDef;let Gu,s_=null;hl.findHostDirectiveDefs?(Gu=[],s_=new Map,hl.findHostDirectiveDefs(hl,Gu,s_),Gu.push(hl)):Gu=[hl];const D1=function yI(r,s){const a=r[nt],l=Rt;return r[l]=s,Kd(a,l,2,"#host",null)}(Wt,_e),w1=function bI(r,s,a,l,d,p,m){const b=d[nt];!function pA(r,s,a,l){for(const d of r)s.mergedAttrs=$s(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Qg(s,s.mergedAttrs,!0),null!==a&&pf(l,a,s))}(l,r,s,m);let E=null;null!==s&&(E=J_(s,d[Wr]));const T=p.rendererFactory.createRenderer(s,a);let O=16;a.signals?O=4096:a.onPush&&(O=64);const L=qg(d,Rb(a),null,O,d[r.index],r,p,T,null,null,E);return b.firstCreatePass&&Dv(b,r,l.length-1),Jg(d,L),d[r.index]=L}(D1,_e,hl,Gu,Wt,L,W);Hi=Uc(Ct,Rt),_e&&function mA(r,s,a,l){if(l)wa(r,a,["ng-version",pb.full]);else{const{attrs:d,classes:p}=function nr(r){const s=[],a=[];let l=1,d=2;for(;l<r.length;){let p=r[l];if("string"==typeof p)2===d?""!==p&&s.push(p,r[++l]):8===d&&a.push(p);else{if(!xi(d))break;d=p}l++}return{attrs:s,classes:a}}(s.selectors[0]);d&&wa(r,a,d),p&&p.length>0&&$0(r,a,p.join(" "))}}(W,hl,_e,l),void 0!==a&&function _A(r,s,a){const l=r.projection=[];for(let d=0;d<s.length;d++){const p=a[d];l.push(null!=p?Array.from(p):null)}}(Hi,this.ngContentSelectors,a),yn=function gA(r,s,a,l,d,p){const m=oi(),b=d[nt],E=fi(m,d);oI(b,d,m,a,null,l);for(let O=0;O<a.length;O++)Ni(lo(d,b,m.directiveStart+O,m),d);Bb(b,d,m),E&&Ni(E,d);const T=lo(d,b,m.directiveStart+m.componentOffset,m);if(r[Rn]=d[Rn]=T,null!==p)for(const O of p)O(T,s);return pv(b,m,r),T}(w1,hl,Gu,s_,Wt,[vA]),Jd(Ct,Wt,null)}finally{Tt()}return new fA(this.componentType,yn,vu(Hi,Wt),Wt,Hi)}}class fA extends Nf{constructor(s,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new tm(d),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;Cv(p[nt],p,d,s,a),this.previousInputValues.set(s,a),zd(pi(this._tNode.index,p))}}get injector(){return new _n(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function vA(){const r=oi();Va(Oe()[nt],r)}function Yb(r){let s=function DI(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const l=[r];for(;s;){let d;if(Pi(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new oe(903,!1);d=s.\u0275dir}if(d){if(a){l.push(d);const m=r;m.inputs=Xd(r.inputs),m.inputTransforms=Xd(r.inputTransforms),m.declaredInputs=Xd(r.declaredInputs),m.outputs=Xd(r.outputs);const b=d.hostBindings;b&&wI(r,b);const E=d.viewQuery,T=d.contentQueries;if(E&&Av(r,E),T&&Zb(r,T),$(r.inputs,d.inputs),$(r.declaredInputs,d.declaredInputs),$(r.outputs,d.outputs),null!==d.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),$(m.inputTransforms,d.inputTransforms)),Pi(d)&&d.data.animation){const O=r.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let m=0;m<p.length;m++){const b=p[m];b&&b.ngInherit&&b(r),b===Yb&&(a=!1)}}s=Object.getPrototypeOf(s)}!function yA(r){let s=0,a=null;for(let l=r.length-1;l>=0;l--){const d=r[l];d.hostVars=s+=d.hostVars,d.hostAttrs=$s(d.hostAttrs,a=$s(a,d.hostAttrs))}}(l)}function Xd(r){return r===_r?{}:r===$t?[]:r}function Av(r,s){const a=r.viewQuery;r.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function Zb(r,s){const a=r.contentQueries;r.contentQueries=a?(l,d,p)=>{s(l,d,p),a(l,d,p)}:s}function wI(r,s){const a=r.hostBindings;r.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}function rm(r){return s=>{s.findHostDirectiveDefs=Kb,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:ke(a),inputs:_r,outputs:_r}:{directive:ke(a.directive),inputs:qb(a.inputs),outputs:qb(a.outputs)})}}function Kb(r,s,a){if(null!==r.hostDirectives)for(const l of r.hostDirectives){const d=kn(l.directive);CI(d.declaredInputs,l.inputs),Kb(d,s,a),a.set(d,l),s.push(d)}}function qb(r){if(void 0===r||0===r.length)return _r;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function CI(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function Qb(r){const s=r.inputConfig,a={};for(const l in s)if(s.hasOwnProperty(l)){const d=s[l];Array.isArray(d)&&d[2]&&(a[l]=d[2])}r.inputTransforms=a}function sm(r){return!!jf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function jf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function hs(r,s,a){return r[s]=a}function Ui(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function yu(r,s,a,l){const d=Ui(r,s,a);return Ui(r,s+1,l)||d}function Mv(r,s,a,l){const d=Oe();return Ui(d,so(),s)&&(Ut(),ua(Dn(),d,r,s,a,l)),Mv}function ha(r,s,a,l){return Ui(r,so(),a)?s+re(a)+l:Pt}function Gv(r,s,a,l,d,p,m,b){const E=Oe(),T=Ut(),O=r+Rt,L=T.firstCreatePass?function oD(r,s,a,l,d,p,m,b,E){const T=s.consts,O=Kd(s,r,4,m||null,Fi(T,b));bv(s,a,O,Fi(T,E)),Va(s,O);const L=O.tView=_v(2,O,l,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,O),L.queries=s.queries.embeddedTView(O)),O}(O,T,E,s,a,l,d,p,m):T.data[O];As(L,!1);const W=Wv(T,E,L,r);kr()&&ss(T,E,W,L),Ni(W,E),Jg(E,E[O]=Vb(W,E,W,L)),$i(L)&&gv(T,E,L),null!=m&&mv(E,L,b)}let Wv=function zv(r,s,a,l){return Fr(!0),s[Dt].createComment("")};function FI(r){return function io(r,s){return r[s]}(function Zh(){return wt.lFrame.contextLView}(),Rt+r)}function lD(r,s,a){const l=Oe();return Ui(l,so(),s)&&us(Ut(),Dn(),l,r,s,l[Dt],a,!1),lD}function Wf(r,s,a,l,d){const m=d?"class":"style";Cv(r,a,s.inputs[m],m,l)}function Yv(r,s,a,l){const d=Oe(),p=Ut(),m=Rt+r,b=d[Dt],E=p.firstCreatePass?function EA(r,s,a,l,d,p){const m=s.consts,E=Kd(s,r,2,l,Fi(m,d));return bv(s,a,E,Fi(m,p)),null!==E.attrs&&Qg(E,E.attrs,!1),null!==E.mergedAttrs&&Qg(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(m,p,d,s,a,l):p.data[m],T=cD(p,d,E,b,s,r);d[m]=T;const O=$i(E);return As(E,!0),pf(b,T,E),32!=(32&E.flags)&&kr()&&ss(p,d,T,E),0===function Al(){return wt.lFrame.elementDepthCount}()&&Ni(T,d),function si(){wt.lFrame.elementDepthCount++}(),O&&(gv(p,d,E),pv(p,E,d)),null!==l&&mv(d,E),Yv}function mm(){let r=oi();ro()?Gc():(r=r.parent,As(r,!1));const s=r;(function Hc(r){return wt.skipHydrationRootTNode===r})(s)&&function $c(){wt.skipHydrationRootTNode=null}(),function hd(){wt.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(Va(a,r),Dl(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Yc(r){return 0!=(8&r.flags)}(s)&&Wf(a,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Go(r){return 0!=(16&r.flags)}(s)&&Wf(a,s,Oe(),s.stylesWithoutHost,!1),mm}function _m(r,s,a,l){return Yv(r,s,a,l),mm(),_m}let cD=(r,s,a,l,d,p)=>(Fr(!0),Yl(l,d,function Ba(){return wt.lFrame.currentNamespace}()));function fD(){return Oe()}function pD(r){return!!r&&"function"==typeof r.then}function VI(r){return!!r&&"function"==typeof r.subscribe}function qv(r,s,a,l){const d=Oe(),p=Ut(),m=oi();return function jI(r,s,a,l,d,p,m){const b=$i(l),T=r.firstCreatePass&&qd(r),O=s[Rn],L=Hr(s);let W=!0;if(3&l.type||m){const Fe=fi(l,s),tt=m?m(Fe):Fe,pt=L.length,Re=m?Wt=>m(Xt(Wt[l.index])):l.index;let Ct=null;if(!m&&b&&(Ct=function IA(r,s,a,l){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const m=d[p];if(m===a&&d[p+1]===l){const b=s[Ia],E=d[p+2];return b.length>E?b[E]:null}"string"==typeof m&&(p+=2)}return null}(r,s,d,l.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=p,Ct.__ngLastListenerFn__=p,W=!1;else{p=$I(l,s,O,p,!1);const Wt=a.listen(tt,d,p);L.push(p,Wt),T&&T.push(d,Re,pt,pt+1)}}else p=$I(l,s,O,p,!1);const X=l.outputs;let _e;if(W&&null!==X&&(_e=X[d])){const Fe=_e.length;if(Fe)for(let tt=0;tt<Fe;tt+=2){const yn=s[_e[tt]][_e[tt+1]].subscribe(p),Hi=L.length;L.push(p,yn),T&&T.push(d,l.index,Hi,-(Hi+1))}}}(p,d,d[Dt],m,r,s,l),qv}function HI(r,s,a,l){try{return yr(6,s,a),!1!==a(l)}catch(d){return Hb(r,d),!1}finally{yr(7,s,a)}}function $I(r,s,a,l,d){return function p(m){if(m===Function)return l;zd(r.componentOffset>-1?pi(r.index,s):s);let E=HI(s,a,l,m),T=p.__ngNextListenerFn__;for(;T;)E=HI(s,a,T,m)&&E,T=T.__ngNextListenerFn__;return d&&!1===E&&m.preventDefault(),E}}function gD(r=1){return function La(r){return(wt.lFrame.contextLView=function xn(r,s){for(;r>0;)s=s[Es],r--;return s}(r,wt.lFrame.contextLView))[Rn]}(r)}function GI(r,s){let a=null;const l=function Yu(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===l?Dc(r,p,!0):Zu(l,p))return d}else a=d}return a}function Jv(r){const s=Oe()[Nn][ui];if(!s.projection){const l=s.projection=qo(r?r.length:1,null),d=l.slice();let p=s.child;for(;null!==p;){const m=r?GI(p,r):0;null!==m&&(d[m]?d[m].projectionNext=p:l[m]=p,d[m]=p),p=p.next}}}function Qv(r,s=0,a){const l=Oe(),d=Ut(),p=Kd(d,Rt+r,16,null,a||null);null===p.projection&&(p.projection=s),Gc(),(!l[rr]||Pr())&&32!=(32&p.flags)&&function Kl(r,s,a){H0(s[Dt],0,s,a,_g(r,a,s),V0(a.parent||s[ui],a,s))}(d,l,p)}function vm(r,s,a){return Yf(r,"",s,"",a),vm}function Yf(r,s,a,l,d){const p=Oe(),m=ha(p,s,a,l);return m!==Pt&&us(Ut(),Dn(),p,r,m,p[Dt],d,!1),Yf}function Zf(r,s){return r<<17|s<<2}function al(r){return r>>17&32767}function ry(r){return 2|r}function cc(r){return(131068&r)>>2}function sy(r,s){return-131069&r|s<<2}function ym(r){return 1|r}function yD(r,s,a,l,d){const p=r[a+1],m=null===s;let b=l?al(p):cc(p),E=!1;for(;0!==b&&(!1===E||m);){const O=r[b+1];bD(r[b],s)&&(E=!0,r[b+1]=l?ym(O):ry(O)),b=l?al(O):cc(O)}E&&(r[a+1]=l?ry(p):ym(p))}function bD(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Ya(r,s)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DD(r){return r.substring(Oi.key,Oi.keyEnd)}function ED(r,s){const a=Oi.textEnd;return a===s?-1:(s=Oi.keyEnd=function yo(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Oi.key=s,a),oh(r,s,a))}function oh(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function ay(r,s){return function ps(r,s,a,l){const d=Oe(),p=Ut(),m=Ns(2);p.firstUpdatePass&&ah(p,r,m,l),s!==Pt&&Ui(d,m,s)&&lh(p,p.data[en()],d,d[Dt],r,d[m+1]=function fy(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ie(Xl(r)))),r}(s,a),l,m)}(r,s,null,!0),ay}function cy(r){!function bo(r,s,a,l){const d=Ut(),p=Ns(2);d.firstUpdatePass&&ah(d,null,p,l);const m=Oe();if(a!==Pt&&Ui(m,p,a)){const b=d.data[en()];if(MD(b,l)&&!uy(d,p)){let E=l?b.classesWithoutHost:b.stylesWithoutHost;null!==E&&(a=Be(E,a||"")),Wf(d,b,m,a,l)}else!function Ji(r,s,a,l,d,p,m,b){d===Pt&&(d=$t);let E=0,T=0,O=0<d.length?d[0]:null,L=0<p.length?p[0]:null;for(;null!==O||null!==L;){const W=E<d.length?d[E+1]:void 0,X=T<p.length?p[T+1]:void 0;let Fe,_e=null;O===L?(E+=2,T+=2,W!==X&&(_e=L,Fe=X)):null===L||null!==O&&O<L?(E+=2,_e=O):(T+=2,_e=L,Fe=X),null!==_e&&lh(r,s,a,l,_e,Fe,m,b),O=E<d.length?d[E]:null,L=T<p.length?p[T]:null}}(d,b,m,m[Dt],m[p+1],m[p+1]=function dy(r,s,a){if(null==a||""===a)return $t;const l=[],d=Xl(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)r(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&r(l,p,d[p]);else"string"==typeof d&&s(l,d);return l}(r,s,a),l,p)}}(ND,ga,r,!0)}function ga(r,s){for(let a=function JI(r){return function CD(r){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=r.length}(r),ED(r,oh(r,0,Oi.textEnd))}(s);a>=0;a=ED(s,a))Er(r,DD(s),!0)}function uy(r,s){return s>=r.expandoStartIndex}function ah(r,s,a,l){const d=r.data;if(null===d[a+1]){const p=d[en()],m=uy(r,a);MD(p,l)&&null===s&&!m&&(s=!1),s=function nT(r,s,a,l){const d=function md(r){const s=wt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let p=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Cu(a=Eu(null,r,s,a,l),s.attrs,l),p=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==d)if(a=Eu(d,r,s,a,l),null===p){let E=function qf(r,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==cc(l))return r[al(l)]}(r,s,l);void 0!==E&&Array.isArray(E)&&(E=Eu(null,r,s,E[1],l),E=Cu(E,s.attrs,l),function AD(r,s,a,l){r[al(a?s.classBindings:s.styleBindings)]=l}(r,s,l,E))}else p=function iT(r,s,a){let l;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)l=Cu(l,r[p].hostAttrs,a);return Cu(l,s.attrs,a)}(r,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,l),function KI(r,s,a,l,d,p){let m=p?s.classBindings:s.styleBindings,b=al(m),E=cc(m);r[l]=a;let O,T=!1;if(Array.isArray(a)?(O=a[1],(null===O||Ya(a,O)>0)&&(T=!0)):O=a,d)if(0!==E){const W=al(r[b+1]);r[l+1]=Zf(W,b),0!==W&&(r[W+1]=sy(r[W+1],l)),r[b+1]=function Kf(r,s){return 131071&r|s<<17}(r[b+1],l)}else r[l+1]=Zf(b,0),0!==b&&(r[b+1]=sy(r[b+1],l)),b=l;else r[l+1]=Zf(E,0),0===b?b=l:r[E+1]=sy(r[E+1],l),E=l;T&&(r[l+1]=ry(r[l+1])),yD(r,O,l,!0),yD(r,O,l,!1),function qI(r,s,a,l,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&Ya(p,s)>=0&&(a[l+1]=ym(a[l+1]))}(s,O,r,l,p),m=Zf(b,E),p?s.classBindings=m:s.styleBindings=m}(d,p,s,a,m,l)}}function Eu(r,s,a,l,d){let p=null;const m=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<m&&(p=s[b],l=Cu(l,p.hostAttrs,d),p!==r);)b++;return null!==r&&(a.directiveStylingLast=b),l}function Cu(r,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?d=m:d===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Er(r,m,!!a||s[++p]))}return void 0===r?null:r}function ND(r,s,a){const l=String(s);""!==l&&!l.includes(" ")&&Er(r,l,a)}function lh(r,s,a,l,d,p,m,b){if(!(3&s.type))return;const E=r.data,T=E[b+1],O=function zI(r){return 1==(1&r)}(T)?Ri(E,s,a,d,cc(T),m):void 0;ma(O)||(ma(p)||function vD(r){return 2==(2&r)}(T)&&(p=Ri(E,null,a,d,b,m)),function ff(r,s,a,l,d){if(s)d?r.addClass(a,l):r.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:ea.DashCase;null==d?r.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ea.Important),r.setStyle(a,l,d,p))}}(l,m,no(en(),a),d,p))}function Ri(r,s,a,l,d,p){const m=null===s;let b;for(;d>0;){const E=r[d],T=Array.isArray(E),O=T?E[1]:E,L=null===O;let W=a[d+1];W===Pt&&(W=L?$t:void 0);let X=L?wd(W,l):O===l?W:void 0;if(T&&!ma(X)&&(X=wd(E,l)),ma(X)&&(b=X,m))return b;const _e=r[d+1];d=m?al(_e):cc(_e)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(b=wd(E,l))}return b}function ma(r){return void 0!==r}function MD(r,s){return 0!=(r.flags&(s?8:16))}function py(r,s=""){const a=Oe(),l=Ut(),d=r+Rt,p=l.firstCreatePass?Kd(l,d,1,s,null):l.data[d],m=bm(l,a,p,s,r);a[d]=m,kr()&&ss(l,a,m,p),As(p,!1)}let bm=(r,s,a,l,d)=>(Fr(!0),rs(s[Dt],l));function Iu(r){return Dm("",r,""),Iu}function Dm(r,s,a){const l=Oe(),d=ha(l,r,s,a);return d!==Pt&&function sl(r,s,a){const l=no(s,r);!function Xa(r,s,a){r.setValue(s,a)}(r[Dt],l,a)}(l,en(),d),Dm}function Dy(r,s,a){const l=Oe();return Ui(l,so(),s)&&us(Ut(),Dn(),l,r,s,l[Dt],a,!0),Dy}const cl=void 0;var uT=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cT(r){const a=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let dh={};function wy(r){const s=function Au(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Ey(s);if(a)return a;const l=s.split("-")[0];if(a=Ey(l),a)return a;if("en"===l)return uT;throw new oe(701,!1)}function HD(r){return wy(r)[hh.PluralCase]}function Ey(r){return r in dh||(dh[r]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[r]),dh[r]}var hh=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(hh||{});const Nu="en-US",uc={marker:"element"},fh={marker:"ICU"};var Ir=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ir||{});let GD=Nu;function tp(r){(function Je(r,s){null==r&&Ge(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(GD=r.toLowerCase().replace(/_/g,"-"))}function WD(r,s,a){const l=s.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?A_(r,0,a):Xt(a[d])}function zD(r,s,a,l,d){const p=s.insertBeforeIndex;if(Array.isArray(p)){let m=l,b=null;if(3&s.type||(b=m,m=d),null!==m&&-1===s.componentOffset)for(let E=1;E<p.length;E++)sa(r,m,a[p[E]],b,!1)}}function Cy(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const l=r[a];ph(l)||gT(l,s)&&null===Iy(l)&&mT(l,s.index)}}function ph(r){return!(64&r.type)}function gT(r,s){return ph(s)||r.index>s.index}function Iy(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function mT(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(j0(WD,zD),r.insertBeforeIndex=s)}function _a(r,s,a){const l=fv(r,a,64,null,null);return Cy(s,l),l}function QD(){const r=[];let a,l,s=-1;function p(b,E){s=0;const T=function Mu(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(b,E);l=null!==T?b.remove[T]:$t}function m(){if(s<l.length){const b=l[s++];return b>0?a[b]:(r.push(s,l),p(a[nt].data[~b],a),m())}return 0===r.length?null:(l=r.pop(),s=r.pop(),m())}return function d(b,E){for(a=E;r.length;)r.pop();return p(b.value,E),m}}const rp=/\ufffd(\d+):?\d*\ufffd/gi,Sy=/\ufffd(\d+)\ufffd/,va=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ya="\ufffd",tw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,nw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,wT=/\uE500/g;function sp(r,s,a,l,d,p,m){const b=Uf(r,l,1,null);let E=b<<Ir.SHIFT,T=jo();s===T&&(T=null),null===T&&(E|=Ir.APPEND_EAGERLY),m&&(E|=Ir.COMMENT,function Le(r){void 0===H&&(H=r())}(QD)),d.push(E,null===p?"":p);const O=fv(r,b,m?32:1,null===p?"":p,null);Cy(a,O);const L=O.index;return As(O,!1),null!==T&&s!==T&&function np(r,s){let a=r.insertBeforeIndex;null===a?(j0(WD,zD),a=r.insertBeforeIndex=[null,s]):(function fn(r,s,a){r!=s&&Ge(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(T,L),O}function iw(r,s,a,l,d,p,m){const b=m.match(rp),E=sp(r,s,a,p,l,b?null:m,!1);b&&bh(d,m,E.index,null,0,null)}function bh(r,s,a,l,d,p){const m=r.length,b=m+1;r.push(null,null);const E=m+2,T=s.split(rp);let O=0;for(let L=0;L<T.length;L++){const W=T[L];if(1&L){const X=d+parseInt(W,10);r.push(-1-X),O|=Sm(X)}else""!==W&&r.push(W)}return r.push(a<<2|(l?1:0)),l&&r.push(l,p),r[m]=O,r[b]=r.length-E,O}function Sm(r){return 1<<Math.min(r,31)}function sw(r){let s,p,a="",l=0,d=!1;for(;null!==(s=tw.exec(r));)d?s[0]===`${ya}/*${p}${ya}`&&(l=s.index,d=!1):(a+=r.substring(l,s.index+s[0].length),p=s[1],d=!0);return a+=r.slice(l),a}function My(r,s,a,l,d,p){let m=0;const b={type:d.type,currentCaseLViewIndex:Uf(r,s,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function lw(r,s,a){r.push(Sm(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,p),function YD(r,s,a){const l=r.data[s];null===l?r.data[s]=a:l.value=a}(r,p,b);const E=d.values;for(let T=0;T<E.length;T++){const O=E[T],L=[];for(let W=0;W<O.length;W++){const X=O[W];if("string"!=typeof X){const _e=L.push(X)-1;O[W]=`\x3c!--\ufffd${_e}\ufffd--\x3e`}}m=TT(r,b,s,a,l,d.cases[T],O.join(""),L)|m}m&&function ST(r,s,a){r.push(s,1,a<<2|3)}(a,m,p)}function IT(r){const s=[],a=[];let l=1,d=0;const p=Ru(r=r.replace(va,function(m,b,E){return l="select"===E?0:1,d=parseInt(b.slice(1),10),""}));for(let m=0;m<p.length;){let b=p[m++].trim();1===l&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&s.push(b);const E=Ru(p[m++]);s.length>a.length&&a.push(E)}return{type:l,mainBinding:d,cases:s,values:a}}function Ru(r){if(!r)return[];let s=0;const a=[],l=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(r);){const b=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const E=r.substring(s,b);va.test(E)?l.push(IT(E)):l.push(E),s=b+1}}else{if(0==a.length){const E=r.substring(s,b);l.push(E),s=b+1}a.push("{")}}const m=r.substring(s);return l.push(m),l}function TT(r,s,a,l,d,p,m,b){const E=[],T=[],O=[];s.cases.push(p),s.create.push(E),s.remove.push(T),s.update.push(O);const W=function W0(r){const s=new yC(r);return function bC(){try{return!!(new window.DOMParser).parseFromString(tl(""),"text/html")}catch{return!1}}()?new vC(s):s}(Jl()).getInertBodyElement(m),X=function Tg(r){return"content"in r&&function x_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(W)||W;return X?ow(r,s,a,l,E,T,O,X,d,b,0):0}function ow(r,s,a,l,d,p,m,b,E,T,O){let L=0,W=b.firstChild;for(;W;){const X=Uf(r,a,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const _e=W,Fe=_e.tagName.toLowerCase();if(R_.hasOwnProperty(Fe)){Mm(d,uc,Fe,E,X),r.data[X]=Fe;const Ct=_e.attributes;for(let Wt=0;Wt<Ct.length;Wt++){const yn=Ct.item(Wt),Hi=yn.name.toLowerCase();yn.value.match(rp)?Z0.hasOwnProperty(Hi)&&bh(m,yn.value,X,yn.name,0,Eg[Hi]?kd:null):cw(d,X,yn)}L=ow(r,s,a,l,d,p,m,W,X,T,O+1)|L,Nm(p,X,O)}break;case Node.TEXT_NODE:const tt=W.textContent||"",pt=tt.match(rp);Mm(d,null,pt?"":tt,E,X),Nm(p,X,O),pt&&(L=bh(m,tt,X,null,0,null)|L);break;case Node.COMMENT_NODE:const Re=Sy.exec(W.textContent||"");if(Re){const Wt=T[parseInt(Re[1],10)];Mm(d,fh,"",E,X),My(r,a,l,E,Wt,X),aw(p,X,O)}}W=W.nextSibling}return L}function Nm(r,s,a){0===a&&r.push(s)}function aw(r,s,a){0===a&&(r.push(~s),r.push(s))}function Mm(r,s,a,l,d){null!==s&&r.push(s),r.push(a,d,function Tm(r,s,a){return r|s<<17|a<<1}(0,l,d))}function cw(r,s,a){r.push(s<<1|1,a.name,a.value)}function Om(r,s,a=-1){const l=Ut(),d=Oe(),p=Rt+r,m=Fi(l.consts,s),b=jo();l.firstCreatePass&&function CT(r,s,a,l,d,p){const m=jo(),b=[],E=[],T=[[]];d=function Am(r,s){if(function rw(r){return-1===r}(s))return sw(r);{const a=r.indexOf(`:${s}${ya}`)+2+s.toString().length,l=r.search(new RegExp(`${ya}\\/\\*\\d+:${s}${ya}`));return sw(r.substring(a,l))}}(d,p);const O=function yh(r){return r.replace(wT," ")}(d).split(nw);for(let L=0;L<O.length;L++){let W=O[L];if(1&L){const X=47===W.charCodeAt(0),Fe=(W.charCodeAt(X?1:0),Rt+Number.parseInt(W.substring(X?2:1)));if(X)T.shift(),As(jo(),!1);else{const tt=_a(r,T[0],Fe);T.unshift([]),As(tt,!0)}}else{const X=Ru(W);for(let _e=0;_e<X.length;_e++){let Fe=X[_e];if(1&_e){const tt=Fe;if("object"!=typeof tt)throw new Error(`Unable to parse ICU expression in "${d}" message.`);My(r,a,E,s,tt,sp(r,m,T[0],a,b,"",!0).index)}else""!==Fe&&iw(r,m,T[0],b,E,a,Fe)}}}r.data[l]={create:b,update:E}}(l,null===b?0:b.index,d,p,m,a),2===l.type?d[Nn][bt]|=32:d[bt]|=32;const E=l.data[p],O=S_(l,b===d[ui]?null:b,d);(function yT(r,s,a,l){const d=r[Dt];for(let p=0;p<s.length;p++){const m=s[p++],b=s[p],T=(m&Ir.APPEND_EAGERLY)===Ir.APPEND_EAGERLY,O=m>>>Ir.SHIFT;let L=r[O];null===L&&(L=r[O]=(m&Ir.COMMENT)===Ir.COMMENT?d.createComment(b):rs(d,b)),T&&null!==a&&sa(d,a,L,l,!1)}})(d,E.create,O,b&&8&b.type?d[b.index]:null),gd(!0)}function dw(r,s,a){Om(r,s,a),function Bs(){gd(!1)}()}function Oy(r,s,a,l,d){if(r=ke(r),Array.isArray(r))for(let p=0;p<r.length;p++)Oy(r[p],s,a,l,d);else{const p=Ut(),m=Oe(),b=oi();let E=fu(r)?r:ke(r.provide);const T=j_(r),O=1048575&b.providerIndexes,L=b.directiveStart,W=b.providerIndexes>>20;if(fu(r)||!r.multi){const X=new Qr(T,d,Zd),_e=Pu(E,s,d?O:O+W,L);-1===_e?(wr(Br(b,m),p,E),Ry(p,r,s.length),s.push(E),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(X),m.push(X)):(a[_e]=X,m[_e]=X)}else{const X=Pu(E,s,O+W,L),_e=Pu(E,s,O,O+W),tt=_e>=0&&a[_e];if(d&&!tt||!d&&!(X>=0&&a[X])){wr(Br(b,m),p,E);const pt=function ap(r,s,a,l,d){const p=new Qr(r,a,Zd);return p.multi=[],p.index=s,p.componentProviders=0,xu(p,d,l&&!a),p}(d?kT:PT,a.length,d,l,T);!d&&tt&&(a[_e].providerFactory=pt),Ry(p,r,s.length,0),s.push(E),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(pt),m.push(pt)}else Ry(p,r,X>-1?X:_e,xu(a[d?_e:X],T,!d&&l));!d&&l&&tt&&a[_e].componentProviders++}}}function Ry(r,s,a,l){const d=fu(s),p=function xC(r){return!!r.useClass}(s);if(d||p){const E=(p?ke(s.useClass):s).prototype.ngOnDestroy;if(E){const T=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const O=T.indexOf(a);-1===O?T.push(a,[l,E]):T[O+1].push(l,E)}else T.push(a,E)}}}function xu(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Pu(r,s,a,l){for(let d=a;d<l;d++)if(s[d]===r)return d;return-1}function PT(r,s,a,l){return ku(this.multi,[])}function kT(r,s,a,l){const d=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,b=lo(a,a[nt],this.providerFactory.index,l);p=b.slice(0,m),ku(d,p);for(let E=m;E<b.length;E++)p.push(b[E])}else p=[],ku(d,p);return p}function ku(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function fw(r,s=[]){return a=>{a.providersResolver=(l,d)=>function Rm(r,s,a){const l=Ut();if(l.firstCreatePass){const d=Pi(r);Oy(a,l.data,l.blueprint,d,!0),Oy(s,l.data,l.blueprint,d,!1)}}(l,d?d(r):r,s)}}class Fu{}class pw{}function FT(r,s){return new xy(r,s??null,[])}class xy extends Fu{constructor(s,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zb(this);const d=Si(s);this._bootstrapComponents=ca(d.bootstrap),this._r3Injector=yb(s,a,[{provide:Fu,useValue:this},{provide:Vg,useValue:this.componentFactoryResolver},...l],ie(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class gw extends pw{constructor(s){super(),this.moduleType=s}create(s){return new xy(this.moduleType,s,[])}}class Py extends Fu{constructor(s){super(),this.componentFactoryResolver=new zb(this),this.instance=null;const a=new Ng([...s.providers,{provide:Fu,useValue:this},{provide:Vg,useValue:this.componentFactoryResolver}],s.parent||mo(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function lp(r,s,a=null){return new Py({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Dh=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=tb(0,a.type),d=l.length>0?lp([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ct({token:r,providedIn:"environment",factory:()=>new r(Et(jr))})}return r})();function mw(r){r.getStandaloneInjector=s=>s.get(Dh).getOrCreateStandaloneInjector(r)}function Cw(r,s,a,l){return function Iw(r,s,a,l,d,p){const m=s+a;return Ui(r,m,d)?hs(r,m+1,p?l.call(p,d):l(d)):cp(r,m+1)}(Oe(),Li(),r,s,a,l)}function xm(r,s,a,l,d){return function Tw(r,s,a,l,d,p,m){const b=s+a;return yu(r,b,d,p)?hs(r,b+2,m?l.call(m,d,p):l(d,p)):cp(r,b+2)}(Oe(),Li(),r,s,a,l,d)}function Vy(r,s,a,l,d,p){return function Sw(r,s,a,l,d,p,m,b){const E=s+a;return function am(r,s,a,l,d){const p=yu(r,s,a,l);return Ui(r,s+2,d)||p}(r,E,d,p,m)?hs(r,E+3,b?l.call(b,d,p,m):l(d,p,m)):cp(r,E+3)}(Oe(),Li(),r,s,a,l,d,p)}function cp(r,s){const a=r[s];return a===Pt?void 0:a}function jy(){return this._results[Symbol.iterator]()}class dc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Fs)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=dc.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=jy)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=function zi(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ts(r,s,a){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let d=r[l],p=s[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eS(r,s,a,l=!0){const d=s[nt];if(function I_(r,s,a,l){const d=hi+l,p=a.length;l>0&&(a[d-1][Ai]=s),l<p-hi?(s[Ai]=a[d],Qh(a,hi+l,s)):(a.push(s),s[Ai]=null),s[An]=a;const m=s[Ic];null!==m&&a!==m&&function cf(r,s){const a=r[ni];s[Nn]!==s[An][An][Nn]&&(r[bl]=!0),null===a?r[ni]=[s]:a.push(s)}(m,s);const b=s[ei];null!==b&&b.insertView(r),s[bt]|=128}(d,s,r,a),l){const p=hf(a,r),m=s[Dt],b=Rd(m,r[ti]);null!==b&&function Zl(r,s,a,l,d,p){l[Sn]=d,l[ui]=s,oa(r,l,a,1,d,p)}(d,r[ui],m,s,b,p)}}let hc=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=nS}return r})();const Mw=hc,Ow=class extends Mw{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,l){const d=function Hy(r,s,a,l){const d=s.tView,b=qg(r,d,a,4096&r[bt]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);b[Ic]=r[s.index];const T=r[ei];return null!==T&&(b[ei]=T.createEmbeddedView(d)),Jd(d,b,a),b}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:l});return new Qd(d)}};function nS(){return km(oi(),Oe())}function km(r,s){return 4&r.type?new Ow(s,r,vu(r,s)):null}let Lm=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Vs}return r})();function Vs(){return Pw(oi(),Oe())}const aS=Lm,Gy=class extends aS{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return vu(this._hostTNode,this._hostLView)}get injector(){return new _n(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ei(this._hostTNode,this._hostLView);if(Wo(s)){const a=Wi(s,this._hostLView),l=oo(s);return new _n(a[nt].data[l+8],a)}return new _n(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Bm(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-hi}createEmbeddedView(s,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const b=s.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(b,d,false),b}createComponent(s,a,l,d,p){const m=s&&!function Ci(r){return"function"==typeof r}(s);let b;if(m)b=a;else{const Fe=a||{};b=Fe.index,l=Fe.injector,d=Fe.projectableNodes,p=Fe.environmentInjector||Fe.ngModuleRef}const E=m?s:new nm(Gt(s)),T=l||this.parentInjector;if(!p&&null==E.ngModule){const tt=(m?T:this.parentInjector).get(jr,null);tt&&(p=tt)}Gt(E.componentType??{});const X=E.create(T,d,null,p);return this.insertImpl(X.hostView,b,false),X}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,l){const d=s._lView;if(function zh(r){return wi(r[An])}(d)){const E=this.indexOf(s);if(-1!==E)this.detach(E);else{const T=d[An],O=new Gy(T,T[ui],T[An]);O.detach(O.indexOf(s))}}const m=this._adjustIndex(a),b=this._lContainer;return eS(b,d,m,!l),s.attachToViewContainerRef(),Qh(Wy(b),m,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Bm(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Md(this._lContainer,a);l&&(Dd(Wy(this._lContainer),a),T_(l[nt],l))}detach(s){const a=this._adjustIndex(s,-1),l=Md(this._lContainer,a);return l&&null!=Dd(Wy(this._lContainer),a)?new Qd(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Bm(r){return r[8]}function Wy(r){return r[8]||(r[8]=[])}function Pw(r,s){let a;const l=s[r.index];return wi(l)?a=l:(a=Vb(l,s,null,r),s[r.index]=a,Jg(s,a)),lS(a,s,r,l),new Gy(a,r,s)}let lS=function cS(r,s,a,l){if(r[ti])return;let d;d=8&a.type?Xt(l):function kw(r,s){const a=r[Dt],l=a.createComment(""),d=fi(s,r);return sa(a,Rd(a,d),l,function uC(r,s){return r.nextSibling(s)}(a,d),!1),l}(s,a),r[ti]=d};class Vm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Vm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fw{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const m=a.getByIndex(p);d.push(this.queries[m.indexInDeclarationView].clone())}return new Fw(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Uw(s,a).matches&&this.queries[a].setDirty()}}class Yy{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class wo{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new wo(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Zy{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Zy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(s,a,VA(a,p)),this.matchTNodeWithReadOption(s,a,Jc(a,s,p,!1,!1))}else l===hc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Jc(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Of||d===Lm||d===hc&&4&a.type)this.addMatch(a.index,-2);else{const p=Jc(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function VA(r,s){const a=r.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function jA(r,s,a,l){return-1===a?function UA(r,s){return 11&r.type?vu(r,s):4&r.type?km(r,s):null}(s,r):-2===a?function Lw(r,s,a){return a===Of?vu(s,r):a===hc?km(s,r):a===Lm?Pw(s,r):void 0}(r,s,l):lo(r,r[nt],a,s)}function Ky(r,s,a,l){const d=s[ei].queries[l];if(null===d.matches){const p=r.data,m=a.matches,b=[];for(let E=0;E<m.length;E+=2){const T=m[E];b.push(T<0?null:jA(s,p[T],m[E+1],a.metadata.read))}d.matches=b}return d.matches}function hp(r,s,a,l){const d=r.queries.getByIndex(a),p=d.matches;if(null!==p){const m=Ky(r,s,d,a);for(let b=0;b<p.length;b+=2){const E=p[b];if(E>0)l.push(m[b/2]);else{const T=p[b+1],O=s[-E];for(let L=hi;L<O.length;L++){const W=O[L];W[Ic]===W[An]&&hp(W[nt],W,T,l)}if(null!==O[ni]){const L=O[ni];for(let W=0;W<L.length;W++){const X=L[W];hp(X[nt],X,T,l)}}}}}return l}function Bw(r){const s=Oe(),a=Ut(),l=kl();_d(l+1);const d=Uw(a,l);if(r.dirty&&function Wh(r){return 4==(4&r[bt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?hp(a,s,l,[]):Ky(a,s,d,l);r.reset(p,Ug),r.notifyOnChanges()}return!0}return!1}function Vw(r,s,a){const l=Ut();l.firstCreatePass&&(pS(l,new Yy(r,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),fS(l,Oe(),s)}function dS(r,s,a,l){const d=Ut();if(d.firstCreatePass){const p=oi();pS(d,new Yy(s,a,l),p.index),function HA(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}fS(d,Oe(),a)}function qy(){return function hS(r,s){return r[ei].queries[s].queryList}(Oe(),kl())}function fS(r,s,a){const l=new dc(4==(4&a));(function vv(r,s,a,l){const d=Hr(s);d.push(a),r.firstCreatePass&&qd(r).push(l,d.length-1)})(r,s,l,l.destroy),null===s[ei]&&(s[ei]=new Fw),s[ei].queries.push(new Vm(l))}function pS(r,s,a){null===r.queries&&(r.queries=new wo),r.queries.track(new Zy(s,a))}function Uw(r,s){return r.queries.getByIndex(s)}function gS(r,s){return km(r,s)}function Jy(r){return!!Si(r)}const r0=new rn("Application Initializer");let Gm=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=Ot(r0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const p=d();if(pD(p))a.push(p);else if(VI(p)){const m=new Promise((b,E)=>{p.subscribe({complete:b,error:E})});a.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),s0=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const fp=new rn("LocaleId",{providedIn:"root",factory:()=>Ot(fp,qe.Optional|qe.SkipSelf)||function eE(){return typeof $localize<"u"&&$localize.locale||Nu}()}),Wm=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let o0=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class BS{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let nE=(()=>{class r{compileModuleSync(a){return new gw(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=ca(Si(a).declarations).reduce((m,b)=>{const E=Gt(b);return E&&m.push(new nm(E)),m},[]);return new BS(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const GS=new rn(""),WS=new rn("");let hE,zS=(()=>{class r{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hE||(function iN(r){hE=r}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}static#e=this.\u0275fac=function(l){return new(l||r)(Et(Bi),Et(c0),Et(WS))};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac})}return r})(),c0=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return hE?.findTestabilityInTree(this,a,l)??null}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),ju=null;const Ih=new rn("AllowMultipleToken"),Th=new rn("PlatformDestroyListeners"),gc=new rn("appBootstrapListener");class YS{constructor(s,a){this.name=s,this.token=a}}function qm(r,s,a=[]){const l=`Platform: ${s}`,d=new rn(l);return(p=[])=>{let m=mE();if(!m||m.injector.get(Ih,!1)){const b=[...a,...p,{provide:d,useValue:!0}];r?r(b):function Km(r){if(ju&&!ju.get(Ih,!1))throw new oe(400,!1);(function pE(){!function Bh(r){sd=r}(()=>{throw new oe(600,!1)})})(),ju=r;const s=r.get(Hu);(function d0(r){r.get(G_,null)?.forEach(a=>a())})(r)}(function KS(r=[],s){return ks.create({name:s,providers:[{provide:L_,useValue:"platform"},{provide:Th,useValue:new Set([()=>ju=null])},...r]})}(b,l))}return function rN(r){const s=mE();if(!s)throw new oe(401,!1);return s}()}}function mE(){return ju?.get(Hu)??null}let Hu=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function Jm(r="zone.js",s){return"noop"===r?new $C:"zone.js"===r?new Bi(s):r}(l?.ngZone,function _p(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return d.run(()=>{const p=function LT(r,s,a){return new xy(r,s,a)}(a.moduleType,this.injector,function _E(r){return[{provide:Bi,useFactory:r},{provide:Vd,multi:!0,useFactory:()=>{const s=Ot(JS,{optional:!0});return()=>s.initialize()}},{provide:yp,useFactory:qS},{provide:zg,useFactory:Cb}]}(()=>d)),m=p.injector.get(la,null);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:E=>{m.handleError(E)}});p.onDestroy(()=>{Qm(this._modules,p),b.unsubscribe()})}),function Sh(r,s,a){try{const l=a();return pD(l)?l.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(m,d,()=>{const b=p.injector.get(Gm);return b.runInitializers(),b.donePromise.then(()=>(tp(p.injector.get(fp,Nu)||Nu),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,l=[]){const d=vp({},l);return function mp(r,s,a){const l=new gw(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(dl);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new oe(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Th,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||r)(Et(ks))};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function vp(r,s){return Array.isArray(s)?s.reduce(vp,r):{...r,...s}}let dl=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ot(yp),this.zoneIsStable=Ot(zg),this.componentTypes=[],this.components=[],this.isStable=Ot(o0).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,de.of)(!1):this.zoneIsStable),(0,ue.x)(),(0,ve.B)()),this._injector=Ot(jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof db;if(!this._injector.get(Gm).done)throw!d&&ws(a),new oe(405,!1);let m;m=d?a:this._injector.get(Vg).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const b=function u0(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Fu),T=m.create(ks.NULL,[],l||m.selector,b),O=T.location.nativeElement,L=T.injector.get(GS,null);return L?.registerApplication(O),T.onDestroy(()=>{this.detachView(T.hostView),Qm(this.components,T),L?.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Qm(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(gc,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Qm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new oe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Qm(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const yp=new rn("",{providedIn:"root",factory:()=>Ot(la).handleError.bind(void 0)});function qS(){const r=Ot(Bi),s=Ot(la);return a=>r.runOutsideAngular(()=>s.handleError(a))}let JS=(()=>{class r{constructor(){this.zone=Ot(Bi),this.applicationRef=Ot(dl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function XS(){return!1}let aN=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=h0}return r})();function h0(r){return function t1(r,s,a){if(Zs(r)&&!a){const l=pi(r.index,s);return new Qd(l,l)}return 47&r.type?new Qd(s[Nn],s):null}(oi(),Oe(),16==(16&r))}class p0{constructor(){}supports(s){return sm(s)}create(s){return new o1(s)}}const s1=(r,s)=>s;class o1{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||s1}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const m=!l||a&&a.currentIndex<g0(l,d,p)?a:l,b=g0(m,d,p),E=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{p||(p=[]);const T=b-d,O=E-d;if(T!=O){for(let W=0;W<T;W++){const X=W<p.length?p[W]:p[W]=0,_e=X+W;O<=_e&&_e<T&&(p[W]=X+1)}p[m.previousIndex]=O-T}}b!==E&&s(m,b,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!sm(s))throw new oe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)p=s[b],m=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,p,m,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,m,b),l=!0),a=a._next}else d=0,function om(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{m=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,b,m,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new SE(a,l),p,d),s}_verifyReinsertion(s,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new l1),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class SE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class a1{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class l1{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new a1,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function g0(r,s,a){const l=r.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class AE{constructor(){}supports(s){return s instanceof Map||jf(s)}create(){return new NE}}class NE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||jf(s)))throw new oe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,m=d._next;return p&&(p._next=m),m&&(m._prev=p),d._next=null,d._prev=null,d}const l=new c1(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class c1{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m0(){return new n_([new p0])}let n_=(()=>{class r{static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:m0});constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||m0()),deps:[[r,new $l,new Cd]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new oe(901,!1)}}return r})();function _0(){return new v0([new AE])}let v0=(()=>{class r{static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:_0});constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||_0()),deps:[[r,new $l,new Cd]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new oe(901,!1)}}return r})();const b0=qm(null,"core",[]);let OE=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(l){return new(l||r)(Et(dl))};static#t=this.\u0275mod=Ea({type:r});static#n=this.\u0275inj=cn({})}return r})();function UE(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function b1(r,s){const a=Gt(r),l=s.elementInjector||mo();return new nm(a).create(l,s.projectableNodes,s.hostElement,s.environmentInjector)}function DN(r){const s=Gt(r);if(!s)return null;const a=new nm(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(st,we,R)=>{R.d(we,{Z:()=>We});var c=R(9058),Q=R(4537),x=R(7592),ne=R(7879);class se{constructor(Ze,xe){this._delegate=Ze,this.firebase=xe,(0,x._addComponent)(Ze,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Ze,xe=x._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(Ze);return!lt.isInitialized()&&"EXPLICIT"===(null===(at=lt.getComponent())||void 0===at?void 0:at.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:xe})}_removeServiceInstance(Ze,xe=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(xe)}_addComponent(Ze){(0,x._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,x._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function ue(){const ke=function Me(ke){const Ze={},xe={__esModule:!0,initializeApp:function oe(Pe,ae={}){const Z=x.initializeApp(Pe,ae);if((0,c.r3)(Ze,Z.name))return Ze[Z.name];const je=new ke(Z,xe);return Ze[Z.name]=je,je},app:lt,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function re(Pe){const ae=Pe.name,Z=ae.replace("-compat","");if(x._registerComponent(Pe)&&"PUBLIC"===Pe.type){const je=(dt=lt())=>{if("function"!=typeof dt[Z])throw ve.create("invalid-app-argument",{appName:ae});return dt[Z]()};void 0!==Pe.serviceProps&&(0,c.ZB)(je,Pe.serviceProps),xe[Z]=je,ke.prototype[Z]=function(...dt){return this._getService.bind(this,ae).apply(this,Pe.multipleInstances?dt:[])}}return"PUBLIC"===Pe.type?xe[Z]:null},removeApp:function at(Pe){delete Ze[Pe]},useAsService:function Ee(Pe,ae){return"serverAuth"===ae?null:ae},modularAPIs:x}};function lt(Pe){if(!(0,c.r3)(Ze,Pe=Pe||x._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Pe});return Ze[Pe]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function me(){return Object.keys(Ze).map(Pe=>Ze[Pe])}}),lt.App=ke,xe}(se);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function Ze(xe){(0,c.ZB)(ke,xe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ke}(),$=new ne.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=V;!function Ae(ke){(0,x.registerVersion)("@firebase/app-compat","0.2.13",ke)}()},7592:(st,we,R)=>{R.r(we),R.d(we,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>cn,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Ce,_addOrOverwriteComponent:()=>Ne,_apps:()=>pe,_clearComponents:()=>mt,_components:()=>be,_getProvider:()=>Ge,_registerComponent:()=>Je,_removeServiceInstance:()=>gn,deleteApp:()=>fe,getApp:()=>K,getApps:()=>q,initializeApp:()=>In,onLog:()=>Xe,registerVersion:()=>Ve,setLogLevel:()=>un});var c=R(5861),Q=R(4537),x=R(7879),ne=R(9058),se=R(1878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function ve(De){const G=De.getComponent();return"VERSION"===G?.type}(ye)){const ze=ye.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ye=>ye).join(" ")}}const Me="@firebase/app",V=new x.Yd("@firebase/app"),le="[DEFAULT]",he={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,be=new Map;function Ce(De,G){try{De.container.addComponent(G)}catch(ye){V.debug(`Component ${G.name} failed to register with FirebaseApp ${De.name}`,ye)}}function Ne(De,G){De.container.addOrOverwriteComponent(G)}function Je(De){const G=De.name;if(be.has(G))return V.debug(`There were multiple attempts to register component ${G}.`),!1;be.set(G,De);for(const ye of pe.values())Ce(ye,De);return!0}function Ge(De,G){const ye=De.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),De.container.getProvider(G)}function gn(De,G,ye=le){Ge(De,G).clearInstance(ye)}function mt(){be.clear()}const ct=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(G,ye,ze){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}const cn="9.23.0";function In(De,G={}){let ye=De;"object"!=typeof G&&(G={name:G});const ze=Object.assign({name:le,automaticDataCollectionEnabled:!1},G),et=ze.name;if("string"!=typeof et||!et)throw ct.create("bad-app-name",{appName:String(et)});if(ye||(ye=(0,ne.aH)()),!ye)throw ct.create("no-options");const _t=pe.get(et);if(_t){if((0,ne.vZ)(ye,_t.options)&&(0,ne.vZ)(ze,_t.config))return _t;throw ct.create("duplicate-app",{appName:et})}const Qt=new Q.H0(et);for(const U of be.values())Qt.addComponent(U);const j=new nn(ye,ze,Qt);return pe.set(et,j),j}function K(De=le){const G=pe.get(De);if(!G&&De===le&&(0,ne.aH)())return In();if(!G)throw ct.create("no-app",{appName:De});return G}function q(){return Array.from(pe.values())}function fe(De){return Te.apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(De){const G=De.name;pe.has(G)&&(pe.delete(G),yield Promise.all(De.container.getProviders().map(ye=>ye.delete())),De.isDeleted=!0)})).apply(this,arguments)}function Ve(De,G,ye){var ze;let et=null!==(ze=he[De])&&void 0!==ze?ze:De;ye&&(et+=`-${ye}`);const _t=et.match(/\s|\//),Qt=G.match(/\s|\//);if(_t||Qt){const j=[`Unable to register library "${et}" with version "${G}":`];return _t&&j.push(`library name "${et}" contains illegal characters (whitespace or "/")`),_t&&Qt&&j.push("and"),Qt&&j.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void V.warn(j.join(" "))}Je(new Q.wA(`${et}-version`,()=>({library:et,version:G}),"VERSION"))}function Xe(De,G){if(null!==De&&"function"!=typeof De)throw ct.create("invalid-log-argument");(0,x.Am)(De,G)}function un(De){(0,x.Ub)(De)}const Yt="firebase-heartbeat-database",qe=1,ot="firebase-heartbeat-store";let yt=null;function Zt(){return yt||(yt=(0,se.X3)(Yt,qe,{upgrade:(De,G)=>{0===G&&De.createObjectStore(ot)}}).catch(De=>{throw ct.create("idb-open",{originalErrorMessage:De.message})})),yt}function Tn(){return(Tn=(0,c.Z)(function*(De){try{return yield(yield Zt()).transaction(ot).objectStore(ot).get(an(De))}catch(G){if(G instanceof ne.ZR)V.warn(G.message);else{const ye=ct.create("idb-get",{originalErrorMessage:G?.message});V.warn(ye.message)}}})).apply(this,arguments)}function Mt(De,G){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(De,G){try{const ze=(yield Zt()).transaction(ot,"readwrite");yield ze.objectStore(ot).put(G,an(De)),yield ze.done}catch(ye){if(ye instanceof ne.ZR)V.warn(ye.message);else{const ze=ct.create("idb-set",{originalErrorMessage:ye?.message});V.warn(ze.message)}}})).apply(this,arguments)}function an(De){return`${De.name}!${De.options.appId}`}class Ht{constructor(G){this.container=G,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new Gr(ye),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var G=this;return(0,c.Z)(function*(){const ze=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=vi();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==et&&!G._heartbeatsCache.heartbeats.some(_t=>_t.date===et))return G._heartbeatsCache.heartbeats.push({date:et,agent:ze}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(_t=>{const Qt=new Date(_t.date).valueOf();return Date.now()-Qt<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,c.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ye=vi(),{heartbeatsToSend:ze,unsentEntries:et}=function Ar(De,G=1024){const ye=[];let ze=De.slice();for(const et of De){const _t=ye.find(Qt=>Qt.agent===et.agent);if(_t){if(_t.dates.push(et.date),yi(ye)>G){_t.dates.pop();break}}else if(ye.push({agent:et.agent,dates:[et.date]}),yi(ye)>G){ye.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ye,unsentEntries:ze}}(G._heartbeatsCache.heartbeats),_t=(0,ne.L)(JSON.stringify({version:2,heartbeats:ze}));return G._heartbeatsCache.lastSentHeartbeatDate=ye,et.length>0?(G._heartbeatsCache.heartbeats=et,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),_t})()}}function vi(){return(new Date).toISOString().substring(0,10)}class Gr{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,c.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function on(De){return Tn.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...G.heartbeats]})}})()}}function yi(De){return(0,ne.L)(JSON.stringify({version:2,heartbeats:De})).length}!function Nr(De){Je(new Q.wA("platform-logger",G=>new de(G),"PRIVATE")),Je(new Q.wA("heartbeat",G=>new Ht(G),"PRIVATE")),Ve(Me,"0.9.13",De),Ve(Me,"0.9.13","esm2017"),Ve("fire-js","")}("")},4097:(st,we,R)=>{R.d(we,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=R(7592);(0,c.registerVersion)("firebase","9.23.0","app")},120:(st,we,R)=>{R.d(we,{Z:()=>c.Z});var c=R(3399);c.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(st,we,R)=>{R.r(we);var c=R(5861),Q=R(3399),x=R(9058),ne=R(7592),se=R(7582),de=R(7879),ve=R(4537);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const We=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ke=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new de.Yd("@firebase/auth");function oe(_,...f){at.logLevel<=de.in.ERROR&&at.error(`Auth (${ne.SDK_VERSION}): ${_}`,...f)}function me(_,...f){throw ae(_,...f)}function re(_,...f){return ae(_,...f)}function Ee(_,f,g){const y=Object.assign(Object.assign({},ke()),{[f]:g});return new x.LL("auth","Firebase",y).create(f,{appName:_.name})}function Pe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&me(_,"argument-error"),Ee(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ae(_,...f){if("string"!=typeof _){const g=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(g,...y)}return Ze.create(_,...f)}function Z(_,f,...g){if(!_)throw ae(f,...g)}function je(_){const f="INTERNAL ASSERTION FAILED: "+_;throw oe(f),new Error(f)}function dt(_,f){_||je(f)}function zt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ln(){return"http:"===sn()||"https:"===sn()}function sn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class $n{constructor(f,g){this.shortDelay=f,this.longDelay=g,dt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ln()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(_,f){dt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class he{static initialize(f,g,y){this.fetchImpl=f,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new $n(3e4,6e4);function Ce(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ne(_,f,g,y){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(_,f,g,y,S={}){return Ge(_,S,(0,c.Z)(function*(){let N={},H={};y&&("GET"===f?H=y:N={body:JSON.stringify(y)});const z=(0,x.xO)(Object.assign({key:_.config.apiKey},H)).slice(1),Le=yield _._getAdditionalHeaders();return Le["Content-Type"]="application/json",_.languageCode&&(Le["X-Firebase-Locale"]=_.languageCode),he.fetch()(ct(_,_.config.apiHost,g,z),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ge(_,f,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},pe),f);try{const S=new nn(_),N=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const H=yield N.json();if("needConfirmation"in H)throw cn(_,"account-exists-with-different-credential",H);if(N.ok&&!("errorMessage"in H))return H;{const z=N.ok?H.errorMessage:H.error.message,[Le,Ue]=z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw cn(_,"credential-already-in-use",H);if("EMAIL_EXISTS"===Le)throw cn(_,"email-already-in-use",H);if("USER_DISABLED"===Le)throw cn(_,"user-disabled",H);const rt=y[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw Ee(_,rt,Ue);me(_,rt)}}catch(S){if(S instanceof x.ZR)throw S;me(_,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function mt(_,f,g,y){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(_,f,g,y,S={}){const N=yield Ne(_,f,g,y,S);return"mfaPendingCredential"in N&&me(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ct(_,f,g,y){const S=`${f}${g}?${y}`;return _.config.emulator?le(_.config,S):`${_.config.apiScheme}://${S}`}class nn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(re(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(_,f,g){const y={appName:_.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const S=re(_,f,y);return S.customData._tokenResponse=g,S}function K(){return(K=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Xe(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function qe(){return(qe=(0,c.Z)(function*(_,f=!1){const g=(0,x.m9)(_),y=yield g.getIdToken(f),S=yt(y);Z(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,H=N?.sign_in_provider;return{claims:S,token:y,authTime:Xe(ot(S.auth_time)),issuedAtTime:Xe(ot(S.iat)),expirationTime:Xe(ot(S.exp)),signInProvider:H||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(_){return 1e3*Number(_)}function yt(_){const[f,g,y]=_.split(".");if(void 0===f||void 0===g||void 0===y)return oe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,x.tV)(g);return S?JSON.parse(S):(oe("Failed to decode base64 JWT payload"),null)}catch(S){return oe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function on(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(y){throw y instanceof x.ZR&&function Mt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}class dn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),y)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class an{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xe(this.lastLoginAt),this.creationTime=Xe(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xt(_){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,c.Z)(function*(_){var f;const g=_.auth,y=yield _.getIdToken(),S=yield on(_,function Te(_,f){return Ve.apply(this,arguments)}(g,{idToken:y}));Z(S?.users.length,g,"internal-error");const N=S.users[0];_._notifyReloadListener(N);const H=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function Gr(_){return _.map(f=>{var{providerId:g}=f,y=(0,se._T)(f,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(N.providerUserInfo):[],z=function Ar(_,f){return[..._.filter(y=>!f.some(S=>S.providerId===y.providerId)),...f]}(_.providerData,H),rt=!!_.isAnonymous&&!(_.email&&N.passwordHash||z?.length),Ye={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:z,metadata:new an(N.createdAt,N.lastLoginAt),isAnonymous:rt};Object.assign(_,Ye)}),Xn.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(_){const f=(0,x.m9)(_);yield xt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(_,f){const g=yield Ge(_,{},(0,c.Z)(function*(){const y=(0,x.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:N}=_.config,H=ct(_,S,"/v1/token",`key=${N}`),z=yield _._getAdditionalHeaders();return z["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(H,{method:"POST",headers:z,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class De{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Z(f.idToken,"internal-error"),Z(typeof f.idToken<"u","internal-error"),Z(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Zt(_){const f=yt(_);return Z(f,"internal-error"),Z(typeof f.exp<"u","internal-error"),Z(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var y=this;return(0,c.Z)(function*(){return Z(!y.accessToken||y.refreshToken,f,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var y=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:H}=yield function yi(_,f){return Nr.apply(this,arguments)}(f,g);y.updateTokensAndExpiration(S,N,Number(H))})()}updateTokensAndExpiration(f,g,y){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,g){const{refreshToken:y,accessToken:S,expirationTime:N}=g,H=new De;return y&&(Z("string"==typeof y,"internal-error",{appName:f}),H.refreshToken=y),S&&(Z("string"==typeof S,"internal-error",{appName:f}),H.accessToken=S),N&&(Z("number"==typeof N,"internal-error",{appName:f}),H.expirationTime=N),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new De,this.toJSON())}_performRefresh(){return je("not implemented")}}function G(_,f){Z("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class ye{constructor(f){var{uid:g,auth:y,stsTokenManager:S}=f,N=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new an(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const y=yield on(g,g.stsTokenManager.getToken(g.auth,f));return Z(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(f){return function Yt(_){return qe.apply(this,arguments)}(this,f)}reload(){return function Ht(_){return vi.apply(this,arguments)}(this)}_assign(f){this!==f&&(Z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new ye(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var y=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield xt(y)),yield y.auth._persistUserIfCurrent(y),S&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield on(f,function In(_,f){return K.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var y,S,N,H,z,Le,Ue,rt;const Ye=null!==(y=g.displayName)&&void 0!==y?y:void 0,On=null!==(S=g.email)&&void 0!==S?S:void 0,Ur=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Qa=null!==(H=g.photoURL)&&void 0!==H?H:void 0,ia=null!==(z=g.tenantId)&&void 0!==z?z:void 0,rs=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,Xa=null!==(Ue=g.createdAt)&&void 0!==Ue?Ue:void 0,ra=null!==(rt=g.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Yl,emailVerified:Nd,isAnonymous:Zl,providerData:lf,stsTokenManager:lu}=g;Z(Yl&&lu,f,"internal-error");const I_=De.fromJSON(this.name,lu);Z("string"==typeof Yl,f,"internal-error"),G(Ye,f.name),G(On,f.name),Z("boolean"==typeof Nd,f,"internal-error"),Z("boolean"==typeof Zl,f,"internal-error"),G(Ur,f.name),G(Qa,f.name),G(ia,f.name),G(rs,f.name),G(Xa,f.name),G(ra,f.name);const cf=new ye({uid:Yl,auth:f,email:On,emailVerified:Nd,displayName:Ye,isAnonymous:Zl,photoURL:Qa,phoneNumber:Ur,tenantId:ia,stsTokenManager:I_,createdAt:Xa,lastLoginAt:ra});return lf&&Array.isArray(lf)&&(cf.providerData=lf.map(gg=>Object.assign({},gg))),rs&&(cf._redirectEventId=rs),cf}static _fromIdTokenResponse(f,g,y=!1){return(0,c.Z)(function*(){const S=new De;S.updateFromServerResponse(g);const N=new ye({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:y});return yield xt(N),N})()}}const ze=new Map;function et(_){dt(_ instanceof Function,"Expected a class definition");let f=ze.get(_);return f?(dt(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ze.set(_,f),f)}const Qt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,y){var S=this;return(0,c.Z)(function*(){S.storage[g]=y})()}_get(g){var y=this;return(0,c.Z)(function*(){const S=y.storage[g];return void 0===S?null:S})()}_remove(g){var y=this;return(0,c.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return _.type="NONE",_})();function j(_,f,g){return`firebase:${_}:${f}:${g}`}class U{constructor(f,g,y){this.persistence=f,this.auth=g,this.userKey=y;const{config:S,name:N}=this.auth;this.fullUserKey=j(this.userKey,S.apiKey,N),this.fullPersistenceKey=j("persistence",S.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?ye._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,y="authUser"){return(0,c.Z)(function*(){if(!g.length)return new U(et(Qt),f,y);const S=(yield Promise.all(g.map(function(){var Ue=(0,c.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let N=S[0]||et(Qt);const H=j(y,f.config.apiKey,f.name);let z=null;for(const Ue of g)try{const rt=yield Ue._get(H);if(rt){const Ye=ye._fromJSON(f,rt);Ue!==N&&(z=Ye),N=Ue;break}}catch{}const Le=S.filter(Ue=>Ue._shouldAllowMigration);return N._shouldAllowMigration&&Le.length?(N=Le[0],z&&(yield N._set(H,z.toJSON())),yield Promise.all(g.map(function(){var Ue=(0,c.Z)(function*(rt){if(rt!==N)try{yield rt._remove(H)}catch{}});return function(rt){return Ue.apply(this,arguments)}}())),new U(N,f,y)):new U(N,f,y)})()}}function J(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(St(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(bi(f))return"Blackberry";if(Ot(f))return"Webos";if(ce(f))return"Safari";if((f.includes("chrome/")||it(f))&&!f.includes("edge/"))return"Chrome";if(Et(f))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function Ie(_=(0,x.z$)()){return/firefox\//i.test(_)}function ce(_=(0,x.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function it(_=(0,x.z$)()){return/crios\//i.test(_)}function St(_=(0,x.z$)()){return/iemobile/i.test(_)}function Et(_=(0,x.z$)()){return/android/i.test(_)}function bi(_=(0,x.z$)()){return/blackberry/i.test(_)}function Ot(_=(0,x.z$)()){return/webos/i.test(_)}function Gn(_=(0,x.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Io(_=(0,x.z$)()){return Gn(_)||Et(_)||Ot(_)||bi(_)||/windows phone/i.test(_)||St(_)}function Mr(_,f=[]){let g;switch(_){case"Browser":g=J((0,x.z$)());break;case"Worker":g=`${J((0,x.z$)())}-${_}`;break;default:g=_}const y=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ne.SDK_VERSION}/${y}`}function mr(){return(mr=(0,c.Z)(function*(_){return(yield Ne(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _r(_,f){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(_,f){return Ne(_,"GET","/v2/recaptchaConfig",Ce(_,f))})).apply(this,arguments)}function bs(_){return void 0!==_&&void 0!==_.getResponse}function To(_){return void 0!==_&&void 0!==_.enterprise}class Da{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Or(_){return new Promise((f,g)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=f,y.onerror=S=>{const N=re("internal-error");N.customData=S,g(N)},y.type="text/javascript",y.charset="UTF-8",function zu(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(y)})}function So(_){return`__${_}${Math.floor(1e6*Math.random())}`}class yc{constructor(f){this.type="recaptcha-enterprise",this.auth=Wn(f)}verify(f="verify",g=!1){var y=this;return(0,c.Z)(function*(){function N(){return N=(0,c.Z)(function*(z){if(!g){if(null==z.tenantId&&null!=z._agentRecaptchaConfig)return z._agentRecaptchaConfig.siteKey;if(null!=z.tenantId&&void 0!==z._tenantRecaptchaConfigs[z.tenantId])return z._tenantRecaptchaConfigs[z.tenantId].siteKey}return new Promise(function(){var Le=(0,c.Z)(function*(Ue,rt){_r(z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ye=>{if(void 0!==Ye.recaptchaKey){const On=new Da(Ye);return null==z.tenantId?z._agentRecaptchaConfig=On:z._tenantRecaptchaConfigs[z.tenantId]=On,Ue(On.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ye=>{rt(Ye)})});return function(Ue,rt){return Le.apply(this,arguments)}}())}),N.apply(this,arguments)}function H(z,Le,Ue){const rt=window.grecaptcha;To(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(z,{action:f}).then(Ye=>{Le(Ye)}).catch(()=>{Le("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((z,Le)=>{(function S(z){return N.apply(this,arguments)})(y.auth).then(Ue=>{if(!g&&To(window.grecaptcha))H(Ue,z,Le);else{if(typeof window>"u")return void Le(new Error("RecaptchaVerifier is only supported in browser"));Or("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{H(Ue,z,Le)}).catch(rt=>{Le(rt)})}}).catch(Ue=>{Le(Ue)})})})()}}function er(_,f,g){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(_,f,g,y=!1){const S=new yc(_);let N;try{N=yield S.verify(g)}catch{N=yield S.verify(g,!0)}const H=Object.assign({},f);return Object.assign(H,y?{captchaResp:N}:{captchaResponse:N}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class tr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const y=N=>new Promise((H,z)=>{try{H(f(N))}catch(Le){z(Le)}});y.onAbort=g,this.queue.push(y);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const y=[];try{for(const S of g.queue)yield S(f),S.onAbort&&y.push(S.onAbort)}catch(S){y.reverse();for(const N of y)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class bc{constructor(f,g,y,S){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=y,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vr(this),this.idTokenSubscription=new vr(this),this.beforeStateQueue=new tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(f,g){var y=this;return g&&(this._popupRedirectResolver=et(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,N;if(!y._deleted&&(y.persistenceManager=yield U.create(y,f),!y._deleted)){if(null!==(S=y._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(N=y.currentUser)||void 0===N?void 0:N.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var y;const S=yield g.assertedPersistence.getCurrentUser();let N=S,H=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const z=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,Le=N?._redirectEventId,Ue=yield g.tryRedirectSignIn(f);(!z||z===Le)&&Ue?.user&&(N=Ue.user,H=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(H)try{yield g.beforeStateQueue.runMiddleware(N)}catch(z){N=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(z))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return Z(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield xt(f)}catch(y){if("auth/network-request-failed"!==y?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function pn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const y=f?(0,x.m9)(f):null;return y&&Z(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(f,g=!1){var y=this;return(0,c.Z)(function*(){if(!y._deleted)return f&&Z(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,c.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(et(f))}))}initializeRecaptchaConfig(){var f=this;return(0,c.Z)(function*(){const g=yield _r(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new Da(g);null==f.tenantId?f._agentRecaptchaConfig=y:f._tenantRecaptchaConfigs[f.tenantId]=y,y.emailPasswordEnabled&&new yc(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new x.LL("auth","Firebase",f())}onAuthStateChanged(f,g,y){return this.registerStateListener(this.authStateSubscription,f,g,y)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,y){return this.registerStateListener(this.idTokenSubscription,f,g,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var y=this;return(0,c.Z)(function*(){const S=yield y.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const y=f&&et(f)||g._popupRedirectResolver;Z(y,g,"argument-error"),g.redirectPersistenceManager=yield U.create(g,[et(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var y,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,y,S){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),H=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(H,this,"internal-error"),H.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,y,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();S&&(y["X-Firebase-Client"]=S);const N=yield f._getAppCheckToken();return N&&(y["X-Firebase-AppCheck"]=N),y})()}_getAppCheckToken(){var f=this;return(0,c.Z)(function*(){var g;const y=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return y?.error&&function lt(_,...f){at.logLevel<=de.in.WARN&&at.warn(`Auth (${ne.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function Wn(_){return(0,x.m9)(_)}class vr{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,x.ne)(g=>this.observer=g)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function No(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Yu(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Gs{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return je("not implemented")}_getIdTokenResponse(f){return je("not implemented")}_linkToIdToken(f,g){return je("not implemented")}_getReauthenticationResolver(f){return je("not implemented")}}function Zu(_,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:resetPassword",Ce(_,f))})).apply(this,arguments)}function Ds(_,f){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",Ce(_,f))})).apply(this,arguments)}function Di(_,f){return wc.apply(this,arguments)}function wc(){return(wc=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithPassword",Ce(_,f))})).apply(this,arguments)}function _l(_,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:sendOobCode",Ce(_,f))})).apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(_,f){return _l(_,f)})).apply(this,arguments)}function Oo(_,f){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(_,f){return _l(_,f)})).apply(this,arguments)}function Gt(_,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(_,f){return _l(_,f)})).apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(_,f){return _l(_,f)})).apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithEmailLink",Ce(_,f))})).apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithEmailLink",Ce(_,f))})).apply(this,arguments)}class yl extends Gs{constructor(f,g,y,S=null){super("password",y),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new yl(f,g,"password")}static _fromEmailAndCode(f,g,y=null){return new yl(f,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){var y;switch(g.signInMethod){case"password":const S={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=f._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const N=yield er(f,S,"signInWithPassword");return Di(f,N)}return Di(f,S).catch(function(){var N=(0,c.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const z=yield er(f,S,"signInWithPassword");return Di(f,z)}return Promise.reject(H)});return function(H){return N.apply(this,arguments)}}());case"emailLink":return function Si(_,f){return Cc.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:me(f,"internal-error")}})()}_linkToIdToken(f,g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return Ds(f,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function xh(_,f){return Ca.apply(this,arguments)}(f,{idToken:g,email:y._email,oobCode:y._password});default:me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ir(_,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithIdp",Ce(_,f))})).apply(this,arguments)}class bt extends Gs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new bt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:S}=g,N=(0,se._T)(g,["providerId","signInMethod"]);if(!y||!S)return null;const H=new bt(y,S);return H.idToken=N.idToken||void 0,H.accessToken=N.accessToken||void 0,H.secret=N.secret,H.nonce=N.nonce,H.pendingToken=N.pendingToken||null,H}_getIdTokenResponse(f){return ir(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,ir(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ir(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,x.xO)(g)}return f}}function Ai(){return(Ai=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:sendVerificationCode",Ce(_,f))})).apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,f))})).apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(_,f){const g=yield mt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,f));if(g.temporaryProof)throw cn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Wr={USER_NOT_FOUND:"user-not-found"};function Dt(){return(Dt=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wr)})).apply(this,arguments)}class di extends Gs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new di({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new di({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Ws(_,f){return ui.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ia(_,f){return Rn.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ro(_,f){return Dt.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:y,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:y,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:y,phoneNumber:S,temporaryProof:N}=f;return y||g||S||N?new di({verificationId:g,verificationCode:y,phoneNumber:S,temporaryProof:N}):null}}class Nn{constructor(f){var g,y,S,N,H,z;const Le=(0,x.zd)((0,x.pd)(f)),Ue=null!==(g=Le.apiKey)&&void 0!==g?g:null,rt=null!==(y=Le.oobCode)&&void 0!==y?y:null,Ye=function Ph(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);Z(Ue&&rt&&Ye,"argument-error"),this.apiKey=Ue,this.operation=Ye,this.code=rt,this.continueUrl=null!==(N=Le.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(H=Le.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(z=Le.tenantId)&&void 0!==z?z:null}static parseLink(f){const g=function Es(_){const f=(0,x.zd)((0,x.pd)(_)).link,g=f?(0,x.zd)((0,x.pd)(f)).deep_link_id:null,y=(0,x.zd)((0,x.pd)(_)).deep_link_id;return(y?(0,x.zd)((0,x.pd)(y)).link:null)||y||g||f||_}(f);try{return new Nn(g)}catch{return null}}}let zs=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,y){return yl._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const S=Nn.parseLink(y);return Z(S,"argument-error"),yl._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ei{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class zr extends ei{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Yr extends zr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Z("providerId"in g&&"signInMethod"in g,"argument-error"),bt._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Z(f.idToken||f.accessToken,"argument-error"),bt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Yr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Yr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:S,pendingToken:N,nonce:H,providerId:z}=f;if(!y&&!S&&!g&&!N||!z)return null;try{return new Yr(z)._credential({idToken:g,accessToken:y,nonce:H,pendingToken:N})}catch{return null}}}let Cs=(()=>{class _ extends zr{constructor(){super("facebook.com")}static credential(g){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),rr=(()=>{class _ extends zr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:S}=g;if(!y&&!S)return null;try{return _.credential(y,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ta=(()=>{class _ extends zr{constructor(){super("github.com")}static credential(g){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Rt extends Gs{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return ir(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,ir(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ir(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:S,pendingToken:N}=g;return y&&S&&N&&y===S?new Rt(y,N):null}static _create(f,g){return new Rt(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xo extends ei{constructor(f){Z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return xo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return xo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Rt.fromJSON(f);return Z(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:y}=f;if(!g||!y)return null;try{return Rt._create(y,g)}catch{return null}}}let bl=(()=>{class _ extends zr{constructor(){super("twitter.com")}static credential(g,y){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:S}=g;if(!y||!S)return null;try{return _.credential(y,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ti(_,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signUp",Ce(_,f))})).apply(this,arguments)}class ni{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,y,S=!1){return(0,c.Z)(function*(){const N=yield ye._fromIdTokenResponse(f,y,S),H=Ts(y);return new ni({user:N,providerId:H,_tokenResponse:y,operationType:g})})()}static _forOperation(f,g,y){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const S=Ts(y);return new ni({user:f,providerId:S,_tokenResponse:y,operationType:g})})()}}function Ts(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function kh(){return(kh=(0,c.Z)(function*(_){var f;const g=Wn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ni({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield ti(g,{returnSecureToken:!0}),S=yield ni._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class ii extends x.ZR{constructor(f,g,y,S){var N;super(g.code,g.message),this.operationType=y,this.user=S,Object.setPrototypeOf(this,ii.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,g,y,S){return new ii(f,g,y,S)}}function wi(_,f,g,y){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ii._fromErrorAndOperation(_,N,f,y):N})}function Dl(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function $i(){return $i=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_);yield ko(!0,g,f);const{providerUserInfo:y}=yield function q(_,f){return fe.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=Dl(y||[]);return g.providerData=g.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),$i.apply(this,arguments)}function Pi(_,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(_,f,g=!1){const y=yield on(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return ni._forOperation(_,"link",y)})).apply(this,arguments)}function ko(_,f,g){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(_,f,g){yield xt(f);const S=!1===_?"provider-already-linked":"no-such-provider";Z(Dl(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function Vp(_,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(_,f,g=!1){const{auth:y}=_,S="reauthenticate";try{const N=yield on(_,wi(y,S,f,_),g);Z(N.idToken,y,"internal-error");const H=yt(N.idToken);Z(H,y,"internal-error");const{sub:z}=H;return Z(_.uid===z,y,"user-mismatch"),ni._forOperation(_,S,N)}catch(N){throw"auth/user-not-found"===N?.code&&me(y,"user-mismatch"),N}})).apply(this,arguments)}function Sc(_,f){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,c.Z)(function*(_,f,g=!1){const y="signIn",S=yield wi(_,y,f),N=yield ni._fromIdTokenResponse(_,y,S);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ac(_,f){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,c.Z)(function*(_,f){return Sc(Wn(_),f)})).apply(this,arguments)}function Up(_,f){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_);return yield ko(!1,g,f.providerId),Pi(g,f)})).apply(this,arguments)}function jp(_,f){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,c.Z)(function*(_,f){return Vp((0,x.m9)(_),f)})).apply(this,arguments)}function Lh(){return(Lh=(0,c.Z)(function*(_,f){return mt(_,"POST","/v1/accounts:signInWithCustomToken",Ce(_,f))})).apply(this,arguments)}function Zr(){return Zr=(0,c.Z)(function*(_,f){const g=Wn(_),y=yield function p_(_,f){return Lh.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),S=yield ni._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(S.user),S}),Zr.apply(this,arguments)}class Nc{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Fo._fromServerResponse(f,g):"totpInfo"in g?Mc._fromServerResponse(f,g):me(f,"internal-error")}}class Fo extends Nc{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Fo(g)}}class Mc extends Nc{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Mc(g)}}function Sa(_,f,g){var y;Z((null===(y=g.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),Z(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Z(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Z(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Aa(){return Aa=(0,c.Z)(function*(_,f,g){var y;const S=Wn(_),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=S._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const H=yield er(S,N,"getOobCode",!0);g&&Sa(S,H,g),yield Oo(S,H)}else g&&Sa(S,N,g),yield Oo(S,N).catch(function(){var H=(0,c.Z)(function*(z){if("auth/missing-recaptcha-token"!==z.code)return Promise.reject(z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Le=yield er(S,N,"getOobCode",!0);g&&Sa(S,Le,g),yield Oo(S,Le)}});return function(z){return H.apply(this,arguments)}}())}),Aa.apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(_,f,g){yield Zu((0,x.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function sr(){return sr=(0,c.Z)(function*(_,f){yield function nr(_,f){return ml.apply(this,arguments)}((0,x.m9)(_),{oobCode:f})}),sr.apply(this,arguments)}function Yn(_,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_),y=yield Zu(g,{oobCode:f}),S=y.requestType;switch(Z(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(y.mfaInfo,g,"internal-error");default:Z(y.email,g,"internal-error")}let N=null;return y.mfaInfo&&(N=Nc._fromServerResponse(Wn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(_,f){const{data:g}=yield Yn((0,x.m9)(_),f);return g.email})).apply(this,arguments)}function Na(){return Na=(0,c.Z)(function*(_,f,g){var y;const S=Wn(_),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(y=S._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Ue=yield er(S,N,"signUpPassword");H=ti(S,Ue)}else H=ti(S,N).catch(function(){var Ue=(0,c.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ye=yield er(S,N,"signUpPassword");return ti(S,Ye)}return Promise.reject(rt)});return function(rt){return Ue.apply(this,arguments)}}());const z=yield H.catch(Ue=>Promise.reject(Ue)),Le=yield ni._fromIdTokenResponse(S,"signIn",z);return yield S._updateCurrentUser(Le.user),Le}),Na.apply(this,arguments)}function Ma(){return Ma=(0,c.Z)(function*(_,f,g){var y;const S=Wn(_),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function H(z,Le){Z(Le.handleCodeInApp,S,"argument-error"),Le&&Sa(S,z,Le)}if(null!==(y=S._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const z=yield er(S,N,"getOobCode",!0);H(z,g),yield Gt(S,z)}else H(N,g),yield Gt(S,N).catch(function(){var z=(0,c.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield er(S,N,"getOobCode",!0);H(Ue,g),yield Gt(S,Ue)}});return function(Le){return z.apply(this,arguments)}}())}),Ma.apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_),S=zs.credentialWithLink(f,g||zt());return Z(S._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Ac(y,S)})).apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:createAuthUri",Ce(_,f))})).apply(this,arguments)}function Qs(){return Qs=(0,c.Z)(function*(_,f){const y={identifier:f,continueUri:ln()?zt():"http://localhost"},{signinMethods:S}=yield function xc(_,f){return Pc.apply(this,arguments)}((0,x.m9)(_),y);return S||[]}),Qs.apply(this,arguments)}function Ra(){return Ra=(0,c.Z)(function*(_,f){const g=(0,x.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Sa(g.auth,S,f);const{email:N}=yield function qu(_,f){return vl.apply(this,arguments)}(g.auth,S);N!==_.email&&(yield _.reload())}),Ra.apply(this,arguments)}function El(){return El=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Sa(y.auth,N,g);const{email:H}=yield function Ti(_,f){return ws.apply(this,arguments)}(y.auth,N);H!==_.email&&(yield _.reload())}),El.apply(this,arguments)}function rd(){return(rd=(0,c.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function kc(){return kc=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const y=(0,x.m9)(_),N={idToken:yield y.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},H=yield on(y,function Hp(_,f){return rd.apply(this,arguments)}(y.auth,N));y.displayName=H.displayName||null,y.photoURL=H.photoUrl||null;const z=y.providerData.find(({providerId:Le})=>"password"===Le);z&&(z.displayName=y.displayName,z.photoURL=y.photoURL),yield y._updateTokensIfNecessary(H)}),kc.apply(this,arguments)}function Bh(_,f,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(_,f,g){const{auth:y}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const H=yield on(_,Ds(y,N));yield _._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Vo{constructor(f,g,y={}){this.isNewUser=f,this.providerId=g,this.profile=y}}class xa extends Vo{constructor(f,g,y,S){super(f,g,y),this.username=S}}class Fc extends Vo{constructor(f,g){super(f,"facebook.com",g)}}class od extends xa{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Il extends Vo{constructor(f,g){super(f,"google.com",g)}}class Pa extends xa{constructor(f,g,y){super(f,"twitter.com",g,y)}}function Vh(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Gp(_){var f,g;if(!_)return null;const{providerId:y}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const H=null===(g=null===(f=yt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(H)return new Vo(N,"anonymous"!==H&&"custom"!==H?H:null)}if(!y)return null;switch(y){case"facebook.com":return new Fc(N,S);case"github.com":return new od(N,S);case"google.com":return new Il(N,S);case"twitter.com":return new Pa(N,S,_.screenName||null);case"custom":case"anonymous":return new Vo(N,null);default:return new Vo(N,y,S)}}(g)}class xr{constructor(f,g,y){this.type=f,this.credential=g,this.auth=y}static _fromIdtoken(f,g){return new xr("enroll",f,g)}static _fromMfaPendingCredential(f){return new xr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,y;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return xr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.idToken)return xr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class eo{constructor(f,g,y){this.session=f,this.hints=g,this.signInResolver=y}static _fromError(f,g){const y=Wn(f),S=g.customData._serverResponse,N=(S.mfaInfo||[]).map(z=>Nc._fromServerResponse(y,z));Z(S.mfaPendingCredential,y,"internal-error");const H=xr._fromMfaPendingCredential(S.mfaPendingCredential);return new eo(H,N,function(){var z=(0,c.Z)(function*(Le){const Ue=yield Le._process(y,H);delete S.mfaInfo,delete S.mfaPendingCredential;const rt=Object.assign(Object.assign({},S),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const Ye=yield ni._fromIdTokenResponse(y,g.operationType,rt);return yield y._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return Z(g.user,y,"internal-error"),ni._forOperation(g.user,g.operationType,rt);default:me(y,"internal-error")}});return function(Le){return z.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}class Xt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>Nc._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new Xt(f)}getSession(){var f=this;return(0,c.Z)(function*(){return xr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var y=this;return(0,c.Z)(function*(){const S=f,N=yield y.getSession(),H=yield on(y.user,S._process(y.user.auth,N,g));return yield y.user._updateTokensIfNecessary(H),y.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const y="string"==typeof f?f:f.uid,S=yield g.user.getIdToken();try{const N=yield on(g.user,function cd(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:H})=>H!==y),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const to=new WeakMap,fi="__sak";class Gh{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fi,"1"),this.storage.removeItem(fi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uo=(()=>{class _ extends Gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Uc(){const _=(0,x.z$)();return ce(_)||Gn(_)}()&&function _c(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Io(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const S=this.storage.getItem(y),N=this.localCache[y];S!==N&&g(y,N,S)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((z,Le,Ue)=>{this.notifyListeners(z,Ue)});const S=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const z=this.storage.getItem(S);if(g.newValue!==z)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!y)return}const N=()=>{const z=this.storage.getItem(S);!y&&this.localCache[S]===z||this.notifyListeners(S,z)},H=this.storage.getItem(S);!function vs(){return(0,x.w1)()&&10===document.documentMode}()||H===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,y){this.localCache[g]=y;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var S=()=>super._set,N=this;return(0,c.Z)(function*(){yield S().call(N,g,y),N.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,S=this;return(0,c.Z)(function*(){const N=yield y().call(S,g);return S.localCache[g]=JSON.stringify(N),N})()}_remove(g){var y=()=>super._remove,S=this;return(0,c.Z)(function*(){yield y().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),Fi=(()=>{class _ extends Gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return _.type="SESSION",_})();let jc=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(N=>N.isListeningto(g));if(y)return y;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,c.Z)(function*(){const S=g,{eventId:N,eventType:H,data:z}=S.data,Le=y.handlersMap[H];if(!Le?.size)return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:H});const Ue=Array.from(Le).map(function(){var Ye=(0,c.Z)(function*(On){return On(S.origin,z)});return function(On){return Ye.apply(this,arguments)}}()),rt=yield function Yh(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return f.apply(this,arguments)}}()))}(Ue);S.ports[0].postMessage({status:"done",eventId:N,eventType:H,response:rt})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Sl(_="",f=10){let g="";for(let y=0;y<f;y++)g+=Math.floor(10*Math.random());return _+g}class zp{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,y=50){var S=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let H,z;return new Promise((Le,Ue)=>{const rt=Sl("",20);N.port1.start();const Ye=setTimeout(()=>{Ue(new Error("unsupported_event"))},y);z={messageChannel:N,onMessage(On){const Ur=On;if(Ur.data.eventId===rt)switch(Ur.data.status){case"ack":clearTimeout(Ye),H=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Le(Ur.data.response);break;default:clearTimeout(Ye),clearTimeout(H),Ue(new Error("invalid_response"))}}},S.handlers.add(z),N.port1.addEventListener("message",z.onMessage),S.target.postMessage({eventType:f,eventId:rt,data:g},[N.port2])}).finally(()=>{z&&S.removeMessageHandler(z)})})()}}function bn(){return window}function wt(){return typeof bn().WorkerGlobalScope<"u"&&"function"==typeof bn().importScripts}function dd(){return(dd=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hd="firebaseLocalStorageDb",Pr="firebaseLocalStorage",Hc="fbase_key";class Nl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ml(_,f){return _.transaction([Pr],f?"readwrite":"readonly").objectStore(Pr)}function $c(){const _=indexedDB.open(hd,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(Pr,{keyPath:Hc})}catch(S){g(S)}}),_.addEventListener("success",(0,c.Z)(function*(){const y=_.result;y.objectStoreNames.contains(Pr)?f(y):(y.close(),yield function Zp(){const _=indexedDB.deleteDatabase(hd);return new Nl(_).toPromise()}(),f(yield $c()))}))})}function Oe(_,f,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(_,f,g){const y=Ml(_,!0).put({[Hc]:f,value:g});return new Nl(y).toPromise()})).apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(_,f){const g=Ml(_,!1).get(f),y=yield new Nl(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function oi(_,f){const g=Ml(_,!0).delete(f);return new Nl(g).toPromise()}const ro=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield $c()),g.db})()}_withRetries(g){var y=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const N=yield y._openDb();return yield g(N)}catch(N){if(S++>3)throw N;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return wt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=jc._getInstance(function si(){return wt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,c.Z)(function*(S,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(S,N){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,c.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var y,S;if(g.activeServiceWorker=yield function ud(){return dd.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new zp(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(y=N[0])&&void 0!==y&&y.fulfilled&&null!==(S=N[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,c.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Al(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield $c();return yield Oe(g,fi,"1"),yield oi(g,fi),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,c.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(N=>Oe(N,g,y)),S.localCache[g]=y,S.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,c.Z)(function*(){const S=yield y._withRetries(N=>function br(_,f){return Ol.apply(this,arguments)}(N,g));return y.localCache[g]=S,S})()}_remove(g){var y=this;return(0,c.Z)(function*(){return y._withPendingWrite((0,c.Z)(function*(){return yield y._withRetries(S=>oi(S,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const y=yield g._withRetries(H=>{const z=Ml(H,!1).getAll();return new Nl(z).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:H,value:z}of y)N.add(H),JSON.stringify(g.localCache[H])!==JSON.stringify(z)&&(g.notifyListeners(H,z),S.push(H));for(const H of Object.keys(g.localCache))g.localCache[H]&&!N.has(H)&&(g.notifyListeners(H,null),S.push(H));return S})()}notifyListeners(g,y){this.localCache[g]=y;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Gi=1e12;class fd{constructor(f){this.auth=f,this.counter=Gi,this._widgets=new Map}render(f,g){const y=this.counter;return this._widgets.set(y,new so(f,this.auth.name,g||{})),this.counter++,y}reset(f){var g;const y=f||Gi;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Gi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var y;return null===(y=g._widgets.get(f||Gi))||void 0===y||y.execute(),""})()}}class so{constructor(f,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;Z(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ns(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pd=So("rcb"),gd=new $n(3e4,6e4);class Kp{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=bn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return Z(function Pl(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&bs(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((y,S)=>{const N=bn().setTimeout(()=>{S(re(f,"network-request-failed"))},gd.get());bn()[pd]=()=>{bn().clearTimeout(N),delete bn()[pd];const z=bn().grecaptcha;if(!z||!bs(z))return void S(re(f,"internal-error"));const Le=z.render;z.render=(Ue,rt)=>{const Ye=Le(Ue,rt);return this.counter++,Ye},this.hostLanguage=g,y(z)},Or(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:pd,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),S(re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=bn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class md{load(f){return(0,c.Z)(function*(){return new fd(f)})()}clearedOneInstance(){}}const kl="recaptcha",_d={theme:"light",type:"image"};class vd{constructor(f,g=Object.assign({},_d),y){this.parameters=g,this.type=kl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(y),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;Z(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new md:new Kp,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(g)||new Promise(N=>{const H=z=>{z&&(f.tokenChangeListeners.delete(H),N(z))};f.tokenChangeListeners.add(H),f.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof f)f(g);else if("string"==typeof f){const y=bn()[f];"function"==typeof y&&y(g)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Z(ln()&&!wt(),f.auth,"internal-error"),yield function Kh(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ys(_){return mr.apply(this,arguments)}(f.auth);Z(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=di._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Zn(){return(Zn=(0,c.Z)(function*(_,f,g){const y=Wn(_),S=yield xn(y,f,(0,x.m9)(g));return new mi(S,N=>Ac(y,N))})).apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);yield ko(!1,y,"phone");const S=yield xn(y.auth,f,(0,x.m9)(g));return new mi(S,N=>Up(y,N))})).apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_),S=yield xn(y.auth,f,(0,x.m9)(g));return new mi(S,N=>jp(y,N))})).apply(this,arguments)}function xn(_,f,g){return en.apply(this,arguments)}function en(){return en=(0,c.Z)(function*(_,f,g){var y;const S=yield g.verify();try{let N;if(Z("string"==typeof S,_,"argument-error"),Z(g.type===kl,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const H=N.session;if("phoneNumber"in N)return Z("enroll"===H.type,_,"internal-error"),(yield function Fa(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:start",Ce(_,f))}(_,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Z("signin"===H.type,_,"internal-error");const z=(null===(y=N.multiFactorHint)||void 0===y?void 0:y.uid)||N.multiFactorUid;return Z(z,_,"missing-multi-factor-info"),(yield function Gc(_,f){return Ne(_,"POST","/v2/accounts/mfaSignIn:start",Ce(_,f))}(_,{mfaPendingCredential:H.credential,mfaEnrollmentId:z,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function An(_,f){return Ai.apply(this,arguments)}(_,{phoneNumber:N.phoneNumber,recaptchaToken:S});return H}}finally{g._reset()}}),en.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(_,f){yield Pi((0,x.m9)(_),f)})).apply(this,arguments)}let qr=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Wn(g)}verifyPhoneNumber(g,y){return xn(this.auth,g,(0,x.m9)(y))}static credential(g,y){return di._fromVerification(g,y)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:S}=g;return y&&S?di._fromTokenResponse(y,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ms(_,f){return f?et(f):(Z(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Fn extends Gs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ir(f,this._buildIdpRequest())}_linkToIdToken(f,g){return ir(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return ir(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Ho(_){return Sc(_.auth,new Fn(_),_.bypassAuthState)}function Ba(_){const{auth:f,user:g}=_;return Z(g,f,"internal-error"),Vp(g,new Fn(_),_.bypassAuthState)}function Dr(_){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return Z(g,f,"internal-error"),Pi(g,new Fn(_),_.bypassAuthState)})).apply(this,arguments)}class Fr{constructor(f,g,y,S,N=!1){this.auth=f,this.resolver=y,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(y,S){f.pendingPromise={resolve:y,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(y,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:y,sessionId:S,postBody:N,tenantId:H,error:z,type:Le}=f;if(z)return void g.reject(z);const Ue={auth:g.auth,requestUri:y,sessionId:S,tenantId:H||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Ue))}catch(rt){g.reject(rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ho;case"linkViaPopup":case"linkViaRedirect":return Dr;case"reauthViaPopup":case"reauthViaRedirect":return Ba;default:me(this.auth,"internal-error")}}resolve(f){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ln=new $n(2e3,1e4);function Ua(){return(Ua=(0,c.Z)(function*(_,f,g){const y=Wn(_);Pe(_,f,ei);const S=Ms(y,g);return new $o(y,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);Pe(y.auth,f,ei);const S=Ms(y.auth,g);return new $o(y.auth,"reauthViaPopup",f,S,y).executeNotNull()})).apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);Pe(y.auth,f,ei);const S=Ms(y.auth,g);return new $o(y.auth,"linkViaPopup",f,S,y).executeNotNull()})).apply(this,arguments)}let $o=(()=>{class _ extends Fr{constructor(g,y,S,N,H){super(g,y,N,H),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const y=yield g.execute();return Z(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,c.Z)(function*(){dt(1===g.filter.length,"Popup operations only handle one event");const y=Sl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,S;this.pollId=null!==(S=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ln.get())};g()}}return _.currentPopupAction=null,_})();const Jr="pendingRedirect",Qr=new Map;class yd extends Fr{constructor(f,g,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let y=Qr.get(g.auth._key());if(!y){try{const N=(yield function zc(_,f){return Bl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;y=()=>Promise.resolve(N)}catch(S){y=()=>Promise.reject(S)}Qr.set(g.auth._key(),y)}return g.bypassAuthState||Qr.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,y=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(y,f);if("unknown"!==f.type){if(f.eventId){const S=yield y.auth._redirectUserForId(f.eventId);if(S)return y.user=S,g().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Bl(){return(Bl=(0,c.Z)(function*(_,f){const g=Wo(f),y=ja(_);if(!(yield y._isAvailable()))return!1;const S="true"===(yield y._get(g));return yield y._remove(g),S})).apply(this,arguments)}function qh(_,f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(_,f){return ja(_)._set(Wo(f),"true")})).apply(this,arguments)}function Vl(_,f){Qr.set(_._key(),f)}function ja(_){return et(_._redirectPersistence)}function Wo(_){return j(Jr,_.config.apiKey,_.name)}function oo(_,f,g){return function Ha(_,f,g){return Wi.apply(this,arguments)}(_,f,g)}function Wi(){return(Wi=(0,c.Z)(function*(_,f,g){const y=Wn(_);Pe(_,f,ei),yield y._initializationPromise;const S=Ms(y,g);return yield qh(S,y),S._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function Ul(_,f,g){return function $a(_,f,g){return Kn.apply(this,arguments)}(_,f,g)}function Kn(){return(Kn=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);Pe(y.auth,f,ei),yield y.auth._initializationPromise;const S=Ms(y.auth,g);yield qh(S,y.auth);const N=yield lr(y);return S._openRedirect(y.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function zo(_,f,g){return function Zc(_,f,g){return ar.apply(this,arguments)}(_,f,g)}function ar(){return(ar=(0,c.Z)(function*(_,f,g){const y=(0,x.m9)(_);Pe(y.auth,f,ei),yield y.auth._initializationPromise;const S=Ms(y.auth,g);yield ko(!1,y,f.providerId),yield qh(S,y.auth);const N=yield lr(y);return S._openRedirect(y.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(_,f){return yield Wn(_)._initializationPromise,Br(_,f,!1)})).apply(this,arguments)}function Br(_,f){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(_,f,g=!1){const y=Wn(_),S=Ms(y,f),H=yield new yd(y,S,g).execute();return H&&!g&&(delete H.user._redirectEventId,yield y._persistUserIfCurrent(H.user),yield y._setRedirectUser(null,f)),H})).apply(this,arguments)}function lr(_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(_){const f=Sl(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class jl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(g=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Wa(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ao(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var y;if(f.error&&!ao(f)){const S=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(re(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const y=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xr(f))}saveEventToCache(f){this.cachedEventUids.add(Xr(f)),this.lastProcessedEventTime=Date.now()}}function Xr(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ao({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function qn(_){return qc.apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(_,f={}){return Ne(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Jc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lo=/^https?/;function es(){return(es=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield qn(_);for(const g of f)try{if(Qc(g))return}catch{}me(_,"unauthorized-domain")})).apply(this,arguments)}function Qc(_){const f=zt(),{protocol:g,hostname:y}=new URL(f);if(_.startsWith("chrome-extension://")){const H=new URL(_);return""===H.hostname&&""===y?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&H.hostname===y}if(!lo.test(g))return!1;if(Jc.test(_))return y===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(y)}const za=new $n(3e4,6e4);function Xc(){const _=bn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Hl=null;const bd=new $n(5e3,15e3),qp="__/auth/iframe",co="emulator/auth/iframe",Yo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zo(_){const f=_.config;Z(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?le(f,co):`https://${_.config.authDomain}/${qp}`,y={apiKey:f.apiKey,appName:_.name,v:ne.SDK_VERSION},S=uo.get(_.config.apiHost);S&&(y.eid=S);const N=_._getFrameworks();return N.length&&(y.fw=N.join(",")),`${g}?${(0,x.xO)(y).slice(1)}`}function C(){return C=(0,c.Z)(function*(_){const f=yield function cr(_){return Hl=Hl||function _n(_){return new Promise((f,g)=>{var y,S,N;function H(){Xc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Xc(),g(re(_,"network-request-failed"))},timeout:za.get()})}if(null!==(S=null===(y=bn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==S&&S.Iframe)f(gapi.iframes.getContext());else{if(null===(N=bn().gapi)||void 0===N||!N.load){const z=So("iframefcb");return bn()[z]=()=>{gapi.load?H():g(re(_,"network-request-failed"))},Or(`https://apis.google.com/js/api.js?onload=${z}`).catch(Le=>g(Le))}H()}}).catch(f=>{throw Hl=null,f})}(_),Hl}(_),g=bn().gapi;return Z(g,_,"internal-error"),f.open({where:document.body,url:Zo(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yo,dontclear:!0},y=>new Promise(function(){var S=(0,c.Z)(function*(N,H){yield y.restyle({setHideOnLeave:!1});const z=re(_,"network-request-failed"),Le=bn().setTimeout(()=>{H(z)},bd.get());function Ue(){bn().clearTimeout(Le),N(y)}y.ping(Ue).then(Ue,()=>{H(z)})});return function(N,H){return S.apply(this,arguments)}}()))}),C.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qe{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const It="__/auth/handler",At="emulator/auth/handler",Jn=encodeURIComponent("fac");function Bn(_,f,g,y,S,N){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(_,f,g,y,S,N){Z(_.config.authDomain,_,"auth-domain-config-required"),Z(_.config.apiKey,_,"invalid-api-key");const H={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:y,v:ne.SDK_VERSION,eventId:S};if(f instanceof ei){f.setDefaultLanguage(_.languageCode),H.providerId=f.providerId||"",(0,x.xb)(f.getCustomParameters())||(H.customParameters=JSON.stringify(f.getCustomParameters()));for(const[rt,Ye]of Object.entries(N||{}))H[rt]=Ye}if(f instanceof zr){const rt=f.getScopes().filter(Ye=>""!==Ye);rt.length>0&&(H.scopes=rt.join(","))}_.tenantId&&(H.tid=_.tenantId);const z=H;for(const rt of Object.keys(z))void 0===z[rt]&&delete z[rt];const Le=yield _._getAppCheckToken(),Ue=Le?`#${Jn}=${encodeURIComponent(Le)}`:"";return`${function Vn({config:_}){return _.emulator?le(_,At):`https://${_.authDomain}/${It}`}(_)}?${(0,x.xO)(z).slice(1)}${Ue}`})).apply(this,arguments)}const ho="webStorageSupport",ts=class Ci{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fi,this._completeRedirectFn=Br,this._overrideRedirectResult=Vl}_openPopup(f,g,y,S){var N=this;return(0,c.Z)(function*(){var H;dt(null===(H=N.eventManagers[f._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const z=yield Bn(f,g,y,zt(),S);return function Ke(_,f,g,y=500,S=600){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),H=Math.max((window.screen.availWidth-y)/2,0).toString();let z="";const Le=Object.assign(Object.assign({},A),{width:y.toString(),height:S.toString(),top:N,left:H}),Ue=(0,x.z$)().toLowerCase();g&&(z=it(Ue)?"_blank":g),Ie(Ue)&&(f=f||"http://localhost",Le.scrollbars="yes");const rt=Object.entries(Le).reduce((On,[Ur,Qa])=>`${On}${Ur}=${Qa},`,"");if(function ci(_=(0,x.z$)()){var f;return Gn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ue)&&"_self"!==z)return function ht(_,f){const g=document.createElement("a");g.href=_,g.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(f||"",z),new Qe(null);const Ye=window.open(f||"",z,rt);Z(Ye,_,"popup-blocked");try{Ye.focus()}catch{}return new Qe(Ye)}(f,z,Sl())})()}_openRedirect(f,g,y,S){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function Yp(_){bn().location.href=_}(yield Bn(f,g,y,zt(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:N}=this.eventManagers[g];return S?Promise.resolve(S):(dt(N,"If manager is not set, promise should be"),N)}const y=this.initAndGetManager(f);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const y=yield function D(_){return C.apply(this,arguments)}(f),S=new jl(f);return y.register("authEvent",N=>(Z(N?.authEvent,f,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=y,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ho,{type:ho},S=>{var N;const H=null===(N=S?.[0])||void 0===N?void 0:N[ho];void 0!==H&&g(!!H),me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Jh(_){return es.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Io()||ce()||Gn()}};class zi{constructor(f){this.factorId=f}_process(f,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,y);case"signin":return this._finalizeSignIn(f,g.credential);default:return je("unexpected MultiFactorSessionType")}}}class Ko extends zi{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ko(f)}_finalizeEnroll(f,g,y){return function $h(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(_,f))}(f,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Zh(_,f){return Ne(_,"POST","/v2/accounts/mfaSignIn:finalize",Ce(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qh=(()=>{class _{constructor(){}static assertion(g){return Ko._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Qp="@firebase/auth";class Er{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(y=>{f(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Za(){return window}(0,x.Pz)("authIdTokenMaxAge"),function Ya(_){(0,ne._registerComponent)(new ve.wA("auth",(f,{options:g})=>{const y=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:H,authDomain:z}=y.options;Z(H&&!H.includes(":"),"invalid-api-key",{appName:y.name});const Le={apiKey:H,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mr(_)},Ue=new bc(y,S,N,Le);return function Rh(_,f){const g=f?.persistence||[],y=(Array.isArray(g)?g:[g]).map(et);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(y,f?.popupRedirectResolver)}(Ue,g),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,y)=>{f.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new ve.wA("auth-internal",f=>{const g=Wn(f.getProvider("auth").getImmediate());return new Er(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(Qp,"0.23.2",function wd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ne.registerVersion)(Qp,"0.23.2","esm2017")}("Browser");function Rs(){return Rs=(0,c.Z)(function*(_,f,g){var y;const{BuildInfo:S}=Za();dt(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function nf(_){return tu.apply(this,arguments)}(f.sessionId),H={};return Gn()?H.ibi=S.packageName:Et()?H.apn=S.packageName:me(_,"operation-not-supported-in-this-environment"),S.displayName&&(H.appDisplayName=S.displayName),H.sessionId=N,Bn(_,g,f.type,void 0,null!==(y=f.eventId)&&void 0!==y?y:void 0,H)}),Rs.apply(this,arguments)}function ef(){return(ef=(0,c.Z)(function*(_){const{BuildInfo:f}=Za(),g={};Gn()?g.iosBundleId=f.packageName:Et()?g.androidPackageName=f.packageName:me(_,"operation-not-supported-in-this-environment"),yield qn(_,g)})).apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(_,f,g){const{cordova:y}=Za();let S=()=>{};try{yield new Promise((N,H)=>{let z=null;function Le(){var Ye;N();const On=null===(Ye=y.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof On&&On(),"function"==typeof g?.close&&g.close()}function Ue(){z||(z=window.setTimeout(()=>{H(re(_,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&Ue()}f.addPassiveListener(Le),document.addEventListener("resume",Ue,!1),Et()&&document.addEventListener("visibilitychange",rt,!1),S=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",rt,!1),z&&window.clearTimeout(z)}})}finally{S()}})).apply(this,arguments)}function tu(){return(tu=(0,c.Z)(function*(_){const f=function nu(_){if(dt(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let y=0;y<_.length;y++)g[y]=_.charCodeAt(y);return g}(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ig extends jl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function qa(_){return rf.apply(this,arguments)}function rf(){return(rf=(0,c.Z)(function*(_){const f=yield Id()._get(iu(_));return f&&(yield Id()._remove(iu(_))),f})).apply(this,arguments)}function sf(){const _=[];for(let g=0;g<20;g++){const y=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return _.join("")}function Id(){return et(Uo)}function iu(_){return j("authEvent",_.config.apiKey,_.name)}function tn(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,x.zd)(g.join("?"))}const Qo=class Lt{constructor(){this._redirectPersistence=Fi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Br,this._overrideRedirectResult=Vl}_initialize(f){var g=this;return(0,c.Z)(function*(){const y=f._key();let S=g.eventManagers.get(y);return S||(S=new ig(f),g.eventManagers.set(y,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,y,S){var N=this;return(0,c.Z)(function*(){!function tf(_){var f,g,y,S,N,H,z,Le,Ue,rt;const Ye=Za();Z("function"==typeof(null===(f=Ye?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof(null===(g=Ye?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(N=null===(S=null===(y=Ye?.cordova)||void 0===y?void 0:y.plugins)||void 0===S?void 0:S.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Le=null===(z=null===(H=Ye?.cordova)||void 0===H?void 0:H.plugins)||void 0===z?void 0:z.browsertab)||void 0===Le?void 0:Le.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(rt=null===(Ue=Ye?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===rt?void 0:rt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const H=yield N._initialize(f);yield H.initialized(),H.resetRedirect(),function Go(){Qr.clear()}(),yield N._originValidation(f);const z=function rg(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:sf(),postBody:null,tenantId:_.tenantId,error:re(_,"no-auth-event")}}(f,y,S);yield function Ka(_,f){return Id()._set(iu(_),f)}(f,z);const Le=yield function Ed(_,f,g){return Rs.apply(this,arguments)}(f,z,g),Ue=yield function Cd(_){const{cordova:f}=Za();return new Promise(g=>{f.plugins.browsertab.isAvailable(y=>{let S=null;y?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function Kt(_=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Le);return function y_(_,f,g){return $l.apply(this,arguments)}(f,H,Ue)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function eu(_){return ef.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:y,handleOpenURL:S,BuildInfo:N}=Za(),H=setTimeout((0,c.Z)(function*(){yield qa(f),g.onEvent(hn())}),500),z=function(){var rt=(0,c.Z)(function*(Ye){clearTimeout(H);const On=yield qa(f);let Ur=null;On&&Ye?.url&&(Ur=function b_(_,f){var g,y;const S=function og(_){const f=tn(_),g=f.link?decodeURIComponent(f.link):void 0,y=tn(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return tn(S).link||S||y||g||_}(f);if(S.includes("/__/auth/callback")){const N=tn(S),H=N.firebaseError?function sg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,z=null===(y=null===(g=H?.code)||void 0===g?void 0:g.split("auth/"))||void 0===y?void 0:y[1],Le=z?re(z):null;return Le?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(On,Ye.url)),g.onEvent(Ur||hn())});return function(On){return rt.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,z);const Le=S,Ue=`${N.packageName.toLowerCase()}://`;Za().handleOpenURL=function(){var rt=(0,c.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(Ue)&&z({url:Ye}),"function"==typeof Le)try{Le(Ye)}catch(On){console.error(On)}});return function(Ye){return rt.apply(this,arguments)}}()}};function hn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:re("no-auth-event")}}function vn(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Yi(_=(0,x.z$)()){return!("file:"!==vn()&&"ionic:"!==vn()&&"capacitor:"!==vn()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function D_(){try{const _=self.localStorage,f=Sl();if(_)return _.setItem(f,"1"),_.removeItem(f),!function F0(_=(0,x.z$)()){return function ru(){return(0,x.w1)()&&11===document?.documentMode}()||function ns(_=(0,x.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,x.hl)()}catch{return ug()&&(0,x.hl)()}return!1}function ug(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function af(){return(function kt(){return"http:"===vn()||"https:"===vn()}()||(0,x.ru)()||Yi())&&!function k0(){return(0,x.b$)()||(0,x.UG)()}()&&D_()&&!ug()}function Xo(){return Yi()&&typeof document<"u"}function xs(){return(xs=(0,c.Z)(function*(){return!!Xo()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Zi={LOCAL:"local",NONE:"none",SESSION:"session"},Wl=Z,Ja="persistence";function su(_){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(_){yield _._initializationPromise;const f=ea(),g=j(Ja,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function ea(){var _;try{return(null===(_=function dg(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Sd=Z;class fo{constructor(){this.browserResolver=et(ts),this.cordovaResolver=et(Qo),this.underlyingResolver=null,this._redirectPersistence=Fi,this._completeRedirectFn=Br,this._overrideRedirectResult=Vl}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,y,S){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,y,S)})()}_openRedirect(f,g,y,S){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,y,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Xo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Gl(){return xs.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function is(_){return _.unwrap()}function Cr(_){return Ki(_)}function Ki(_){const{_tokenResponse:f}=_ instanceof x.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof x.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return qr.credentialFromResult(_);const g=f.providerId;if(!g||g===ue.PASSWORD)return null;let y;switch(g){case ue.GOOGLE:y=rr;break;case ue.FACEBOOK:y=Cs;break;case ue.GITHUB:y=Ta;break;case ue.TWITTER:y=bl;break;default:const{oauthIdToken:S,oauthAccessToken:N,oauthTokenSecret:H,pendingToken:z,nonce:Le}=f;return N||H||S||z?z?g.startsWith("saml.")?Rt._create(g,z):bt._fromParams({providerId:g,signInMethod:g,pendingToken:z,idToken:S,accessToken:N}):new Yr(g).credential({idToken:S,accessToken:N,rawNonce:Le}):null}return _ instanceof x.ZR?y.credentialFromError(_):y.credentialFromResult(_)}function ur(_,f){return f.catch(g=>{throw g instanceof x.ZR&&function w_(_,f){var g;const y=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new E_(_,function ad(_,f){var g;const y=(0,x.m9)(_),S=f;return Z(f.customData.operationType,y,"argument-error"),Z(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),eo._fromError(y,S)}(_,f));else if(y){const S=Ki(f),N=f;S&&(N.credential=S,N.tenantId=y.tenantId||void 0,N.email=y.email||void 0,N.phoneNumber=y.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Cr(g),additionalUserInfo:Vh(g),user:Un.getOrCreate(S)}})}function zl(_,f){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:y=>ur(_,g.confirm(y))}})).apply(this,arguments)}class E_{constructor(f,g){this.resolver=g,this.auth=function ou(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ur(is(this.auth),this.resolver.resolveSignIn(f))}}class Un{constructor(f){this._delegate=f,this.multiFactor=function no(_){const f=(0,x.m9)(_);return to.has(f)||to.set(f,Xt._fromUser(f)),to.get(f)}(f)}static getOrCreate(f){return Un.USER_MAP.has(f)||Un.USER_MAP.set(f,new Un(f)),Un.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return ur(g.auth,Up(g._delegate,f))})()}linkWithPhoneNumber(f,g){var y=this;return(0,c.Z)(function*(){return zl(y.auth,function vt(_,f,g){return Kr.apply(this,arguments)}(y._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return ur(g.auth,function Ll(_,f,g){return F.apply(this,arguments)}(g._delegate,f,fo))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield su(Wn(g.auth)),zo(g._delegate,f,fo)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return ur(g.auth,jp(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return zl(this.auth,function Tt(_,f,g){return La.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ur(this.auth,function Lr(_,f,g){return or.apply(this,arguments)}(this._delegate,f,fo))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield su(Wn(g.auth)),Ul(g._delegate,f,fo)})()}sendEmailVerification(f){return function Ss(_,f){return Ra.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Zs(_,f){return $i.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function sd(_,f){return Bh((0,x.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Cl(_,f){return Bh((0,x.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function mn(_,f){return Dn.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function $p(_,f){return kc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function id(_,f,g){return El.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const ta=Z;let Ad=(()=>{class _{constructor(g,y){if(this.app=g,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;ta(S,"invalid-api-key",{appName:g.name}),ta(S,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?fo:void 0;this._delegate=y.initialize({options:{persistence:Ni(S,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,y){!function xi(_,f,g){const y=Wn(_);Z(y._canInitEmulator,y,"emulator-config-failed"),Z(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const S=!!g?.disableWarnings,N=No(f),{host:H,port:z}=function Dc(_){const f=No(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(y);if(S){const N=S[1];return{host:N,port:Yu(y.substr(N.length+1))}}{const[N,H]=y.split(":");return{host:N,port:Yu(H)}}}(f);y.config.emulator={url:`${N}//${H}${null===z?"":`:${z}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:H,port:z,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Lp(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,y)}applyActionCode(g){return function ed(_,f){return sr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Yn(this._delegate,g)}confirmPasswordReset(g,y){return function Ks(_,f,g){return Rr.apply(this,arguments)}(this._delegate,g,y)}createUserWithEmailAndPassword(g,y){var S=this;return(0,c.Z)(function*(){return ur(S._delegate,function Oc(_,f,g){return Na.apply(this,arguments)}(S._delegate,g,y))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Oa(_,f){return Qs.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function nd(_,f){const g=Nn.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){ta(af(),g._delegate,"operation-not-supported-in-this-environment");const y=yield function wn(_,f){return Kc.apply(this,arguments)}(g._delegate,fo);return y?ur(g._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function ag(_,f){Wn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,y,S){const{next:N,error:H,complete:z}=po(g,y,S);return this._delegate.onAuthStateChanged(N,H,z)}onIdTokenChanged(g,y,S){const{next:N,error:H,complete:z}=po(g,y,S);return this._delegate.onIdTokenChanged(N,H,z)}sendSignInLinkToEmail(g,y){return function Lo(_,f,g){return Ma.apply(this,arguments)}(this._delegate,g,y)}sendPasswordResetEmail(g,y){return function g_(_,f,g){return Aa.apply(this,arguments)}(this._delegate,g,y||void 0)}setPersistence(g){var y=this;return(0,c.Z)(function*(){let S;switch(function hg(_,f){Wl(Object.values(Zi).includes(f),_,"invalid-persistence-type"),(0,x.b$)()?Wl(f!==Zi.SESSION,_,"unsupported-persistence-type"):(0,x.UG)()?Wl(f===Zi.NONE,_,"unsupported-persistence-type"):ug()?Wl(f===Zi.NONE||f===Zi.LOCAL&&(0,x.hl)(),_,"unsupported-persistence-type"):Wl(f===Zi.NONE||D_(),_,"unsupported-persistence-type")}(y._delegate,g),g){case Zi.SESSION:S=Fi;break;case Zi.LOCAL:S=(yield et(ro)._isAvailable())?ro:Uo;break;case Zi.NONE:S=Qt;break;default:return me("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ur(this._delegate,function hi(_){return kh.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ur(this._delegate,Ac(this._delegate,g))}signInWithCustomToken(g){return ur(this._delegate,function Xu(_,f){return Zr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,y){return ur(this._delegate,function td(_,f,g){return Ac((0,x.m9)(_),zs.credential(f,g))}(this._delegate,g,y))}signInWithEmailLink(g,y){return ur(this._delegate,function ri(_,f,g){return Rc.apply(this,arguments)}(this._delegate,g,y))}signInWithPhoneNumber(g,y){return zl(this._delegate,function Fl(_,f,g){return Zn.apply(this,arguments)}(this._delegate,g,y))}signInWithPopup(g){var y=this;return(0,c.Z)(function*(){return ta(af(),y._delegate,"operation-not-supported-in-this-environment"),ur(y._delegate,function Va(_,f,g){return Ua.apply(this,arguments)}(y._delegate,g,fo))})()}signInWithRedirect(g){var y=this;return(0,c.Z)(function*(){return ta(af(),y._delegate,"operation-not-supported-in-this-environment"),yield su(y._delegate),oo(y._delegate,g,fo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function ki(_,f){return Js.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Zi,_})();function po(_,f,g){let y=_;"function"!=typeof _&&({next:y,error:f,complete:g}=_);const S=y;return{next:H=>S(H&&Un.getOrCreate(H)),error:f,complete:g}}function Ni(_,f){const g=function Ft(_,f){const g=ea();if(!g)return[];const y=j(Ja,_,f);switch(g.getItem(y)){case Zi.NONE:return[Qt];case Zi.LOCAL:return[ro,Fi];case Zi.SESSION:return[Fi];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(ro)&&g.push(ro),typeof window<"u")for(const y of[Uo,Fi])g.includes(y)||g.push(y);return g.includes(Qt)||g.push(Qt),g}class na{constructor(){this.providerId="phone",this._delegate=new qr(is(Q.Z.auth()))}static credential(f,g){return qr.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}na.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,na.PROVIDER_ID=qr.PROVIDER_ID;const fg=Z;class pg{constructor(f,g,y=Q.Z.app()){var S;fg(null===(S=y.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new vd(f,g,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function En(_){_.INTERNAL.registerComponent(new ve.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),y=f.getProvider("auth");return new Ad(g,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zs,FacebookAuthProvider:Cs,GithubAuthProvider:Ta,GoogleAuthProvider:rr,OAuthProvider:Yr,SAMLAuthProvider:xo,PhoneAuthProvider:na,PhoneMultiFactorGenerator:Qh,RecaptchaVerifier:pg,TwitterAuthProvider:bl,Auth:Ad,AuthCredential:Gs,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},2614:()=>{const st=":";const nn=function(K,...q){if(nn.translate){const Te=nn.translate(K,q);K=Te[0],q=Te[1]}let fe=In(K[0],K.raw[0]);for(let Te=1;Te<K.length;Te++)fe+=q[Te-1]+In(K[Te],K.raw[Te]);return fe},cn=":";function In(K,q){return q.charAt(0)===cn?K.substring(function he(K,q){for(let fe=1,Te=1;fe<K.length;fe++,Te++)if("\\"===q[Te])Te++;else if(K[fe]===st)return fe;throw new Error(`Unterminated $localize metadata block in "${q}".`)}(K,q)+1):K}globalThis.$localize=nn},4303:(st,we,R)=>{R.d(we,{Jn:()=>cn,KN:()=>Ve,Xd:()=>Je,qX:()=>Ge});var c=R(5861),Q=R(4537),x=R(7879),ne=R(9058),se=R(1878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function ve(De){const G=De.getComponent();return"VERSION"===G?.type}(ye)){const ze=ye.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ye=>ye).join(" ")}}const Me="@firebase/app",V=new x.Yd("@firebase/app"),he={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,be=new Map;function Ce(De,G){try{De.container.addComponent(G)}catch(ye){V.debug(`Component ${G.name} failed to register with FirebaseApp ${De.name}`,ye)}}function Je(De){const G=De.name;if(be.has(G))return V.debug(`There were multiple attempts to register component ${G}.`),!1;be.set(G,De);for(const ye of pe.values())Ce(ye,De);return!0}function Ge(De,G){const ye=De.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),De.container.getProvider(G)}const ct=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),cn="10.4.0";function Ve(De,G,ye){var ze;let et=null!==(ze=he[De])&&void 0!==ze?ze:De;ye&&(et+=`-${ye}`);const _t=et.match(/\s|\//),Qt=G.match(/\s|\//);if(_t||Qt){const j=[`Unable to register library "${et}" with version "${G}":`];return _t&&j.push(`library name "${et}" contains illegal characters (whitespace or "/")`),_t&&Qt&&j.push("and"),Qt&&j.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void V.warn(j.join(" "))}Je(new Q.wA(`${et}-version`,()=>({library:et,version:G}),"VERSION"))}const Yt="firebase-heartbeat-database",qe=1,ot="firebase-heartbeat-store";let yt=null;function Zt(){return yt||(yt=(0,se.X3)(Yt,qe,{upgrade:(De,G)=>{0===G&&De.createObjectStore(ot)}}).catch(De=>{throw ct.create("idb-open",{originalErrorMessage:De.message})})),yt}function Tn(){return(Tn=(0,c.Z)(function*(De){try{return yield(yield Zt()).transaction(ot).objectStore(ot).get(an(De))}catch(G){if(G instanceof ne.ZR)V.warn(G.message);else{const ye=ct.create("idb-get",{originalErrorMessage:G?.message});V.warn(ye.message)}}})).apply(this,arguments)}function Mt(De,G){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(De,G){try{const ze=(yield Zt()).transaction(ot,"readwrite");yield ze.objectStore(ot).put(G,an(De)),yield ze.done}catch(ye){if(ye instanceof ne.ZR)V.warn(ye.message);else{const ze=ct.create("idb-set",{originalErrorMessage:ye?.message});V.warn(ze.message)}}})).apply(this,arguments)}function an(De){return`${De.name}!${De.options.appId}`}class Ht{constructor(G){this.container=G,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new Gr(ye),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var G=this;return(0,c.Z)(function*(){const ze=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=vi();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==et&&!G._heartbeatsCache.heartbeats.some(_t=>_t.date===et))return G._heartbeatsCache.heartbeats.push({date:et,agent:ze}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(_t=>{const Qt=new Date(_t.date).valueOf();return Date.now()-Qt<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,c.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ye=vi(),{heartbeatsToSend:ze,unsentEntries:et}=function Ar(De,G=1024){const ye=[];let ze=De.slice();for(const et of De){const _t=ye.find(Qt=>Qt.agent===et.agent);if(_t){if(_t.dates.push(et.date),yi(ye)>G){_t.dates.pop();break}}else if(ye.push({agent:et.agent,dates:[et.date]}),yi(ye)>G){ye.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ye,unsentEntries:ze}}(G._heartbeatsCache.heartbeats),_t=(0,ne.L)(JSON.stringify({version:2,heartbeats:ze}));return G._heartbeatsCache.lastSentHeartbeatDate=ye,et.length>0?(G._heartbeatsCache.heartbeats=et,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),_t})()}}function vi(){return(new Date).toISOString().substring(0,10)}class Gr{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,c.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function on(De){return Tn.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ye=this;return(0,c.Z)(function*(){var ze;if(yield ye._canUseIndexedDBPromise){const _t=yield ye.read();return Mt(ye.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...G.heartbeats]})}})()}}function yi(De){return(0,ne.L)(JSON.stringify({version:2,heartbeats:De})).length}!function Nr(De){Je(new Q.wA("platform-logger",G=>new de(G),"PRIVATE")),Je(new Q.wA("heartbeat",G=>new Ht(G),"PRIVATE")),Ve(Me,"0.9.19",De),Ve(Me,"0.9.19","esm2017"),Ve("fire-js","")}("")},4537:(st,we,R)=>{R.d(we,{H0:()=>Me,wA:()=>x,zt:()=>se});var c=R(5861),Q=R(9058);class x{constructor(V,$,ie){this.name=V,this.instanceFactory=$,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ne="[DEFAULT]";class se{constructor(V,$){this.name=V,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const $=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has($)){const ie=new Q.BH;if(this.instancesDeferred.set($,ie),this.isInitialized($)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:$});Be&&ie.resolve(Be)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(V){var $;const ie=this.normalizeInstanceIdentifier(V?.identifier),Be=null!==($=V?.optional)&&void 0!==$&&$;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Ae){if(Be)return null;throw Ae}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function ve(ue){return"EAGER"===ue.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[$,ie]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:Be});ie.resolve(Ae)}catch{}}}}clearInstance(V=ne){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,c.Z)(function*(){const $=Array.from(V.instances.values());yield Promise.all([...$.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...$.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ne){return this.instances.has(V)}getOptions(V=ne){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:$={}}=V,ie=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ie,options:$});for(const[Ae,We]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Ae)&&We.resolve(Be);return Be}onInit(V,$){var ie;const Be=this.normalizeInstanceIdentifier($),Ae=null!==(ie=this.onInitCallbacks.get(Be))&&void 0!==ie?ie:new Set;Ae.add(V),this.onInitCallbacks.set(Be,Ae);const We=this.instances.get(Be);return We&&V(We,Be),()=>{Ae.delete(V)}}invokeOnInitCallbacks(V,$){const ie=this.onInitCallbacks.get($);if(ie)for(const Be of ie)try{Be(V,$)}catch{}}getOrInitializeService({instanceIdentifier:V,options:$={}}){let ie=this.instances.get(V);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=V,ue===ne?void 0:ue),options:$}),this.instances.set(V,ie),this.instancesOptions.set(V,$),this.invokeOnInitCallbacks(ie,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ie)}catch{}var ue;return ie||null}normalizeInstanceIdentifier(V=ne){return this.component?this.component.multipleInstances?V:ne:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const $=this.getProvider(V.name);if($.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);$.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const $=new se(V,this);return this.providers.set(V,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(st,we,R)=>{R.d(we,{Am:()=>ue,Ub:()=>Me,Yd:()=>ve,in:()=>Q});const c=[];var Q=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(Q||{});const x={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ne=Q.INFO,se={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},de=(V,$,...ie)=>{if($<V.logLevel)return;const Be=(new Date).toISOString(),Ae=se[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${Be}]  ${V.name}:`,...ie)};class ve{constructor($){this.name=$,this._logLevel=ne,this._logHandler=de,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in Q))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?x[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...$),this._logHandler(this,Q.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...$),this._logHandler(this,Q.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...$),this._logHandler(this,Q.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...$),this._logHandler(this,Q.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...$),this._logHandler(this,Q.ERROR,...$)}}function Me(V){c.forEach($=>{$.setLogLevel(V)})}function ue(V,$){for(const ie of c){let Be=null;$&&$.level&&(Be=x[$.level]),ie.userLogHandler=null===V?null:(Ae,We,...ke)=>{const Ze=ke.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");We>=(Be??Ae.logLevel)&&V({level:Q[We].toLowerCase(),message:Ze,args:ke,type:Ae.name})}}}},1878:(st,we,R)=>{R.d(we,{X3:()=>lt});var c=R(5861);const Q=(ae,Z)=>Z.some(je=>ae instanceof je);let x,ne;const ve=new WeakMap,Me=new WeakMap,ue=new WeakMap,V=new WeakMap,$=new WeakMap;let Ae={get(ae,Z,je){if(ae instanceof IDBTransaction){if("done"===Z)return Me.get(ae);if("objectStoreNames"===Z)return ae.objectStoreNames||ue.get(ae);if("store"===Z)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return xe(ae[Z])},set:(ae,Z,je)=>(ae[Z]=je,!0),has:(ae,Z)=>ae instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in ae};function Ze(ae){return"function"==typeof ae?function ke(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...Z){return ae.apply(at(this),Z),xe(ve.get(this))}:function(...Z){return xe(ae.apply(at(this),Z))}:function(Z,...je){const dt=ae.call(at(this),Z,...je);return ue.set(dt,Z.sort?Z.sort():[Z]),xe(dt)}}(ae):(ae instanceof IDBTransaction&&function Be(ae){if(Me.has(ae))return;const Z=new Promise((je,dt)=>{const zt=()=>{ae.removeEventListener("complete",ln),ae.removeEventListener("error",sn),ae.removeEventListener("abort",sn)},ln=()=>{je(),zt()},sn=()=>{dt(ae.error||new DOMException("AbortError","AbortError")),zt()};ae.addEventListener("complete",ln),ae.addEventListener("error",sn),ae.addEventListener("abort",sn)});Me.set(ae,Z)}(ae),Q(ae,function se(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Ae):ae)}function xe(ae){if(ae instanceof IDBRequest)return function ie(ae){const Z=new Promise((je,dt)=>{const zt=()=>{ae.removeEventListener("success",ln),ae.removeEventListener("error",sn)},ln=()=>{je(xe(ae.result)),zt()},sn=()=>{dt(ae.error),zt()};ae.addEventListener("success",ln),ae.addEventListener("error",sn)});return Z.then(je=>{je instanceof IDBCursor&&ve.set(je,ae)}).catch(()=>{}),$.set(Z,ae),Z}(ae);if(V.has(ae))return V.get(ae);const Z=Ze(ae);return Z!==ae&&(V.set(ae,Z),$.set(Z,ae)),Z}const at=ae=>$.get(ae);function lt(ae,Z,{blocked:je,upgrade:dt,blocking:zt,terminated:ln}={}){const sn=indexedDB.open(ae,Z),fn=xe(sn);return dt&&sn.addEventListener("upgradeneeded",pn=>{dt(xe(sn.result),pn.oldVersion,pn.newVersion,xe(sn.transaction),pn)}),je&&sn.addEventListener("blocked",pn=>je(pn.oldVersion,pn.newVersion,pn)),fn.then(pn=>{ln&&pn.addEventListener("close",()=>ln()),zt&&pn.addEventListener("versionchange",$n=>zt($n.oldVersion,$n.newVersion,$n))}).catch(()=>{}),fn}const me=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],Ee=new Map;function Pe(ae,Z){if(!(ae instanceof IDBDatabase)||Z in ae||"string"!=typeof Z)return;if(Ee.get(Z))return Ee.get(Z);const je=Z.replace(/FromIndex$/,""),dt=Z!==je,zt=re.includes(je);if(!(je in(dt?IDBIndex:IDBObjectStore).prototype)||!zt&&!me.includes(je))return;const ln=function(){var sn=(0,c.Z)(function*(fn,...pn){const $n=this.transaction(fn,zt?"readwrite":"readonly");let le=$n.store;return dt&&(le=le.index(pn.shift())),(yield Promise.all([le[je](...pn),zt&&$n.done]))[0]});return function(pn){return sn.apply(this,arguments)}}();return Ee.set(Z,ln),ln}!function We(ae){Ae=ae(Ae)}(ae=>({...ae,get:(Z,je,dt)=>Pe(Z,je)||ae.get(Z,je,dt),has:(Z,je)=>!!Pe(Z,je)||ae.has(Z,je)}))},5861:(st,we,R)=>{function c(x,ne,se,de,ve,Me,ue){try{var V=x[Me](ue),$=V.value}catch(ie){return void se(ie)}V.done?ne($):Promise.resolve($).then(de,ve)}function Q(x){return function(){var ne=this,se=arguments;return new Promise(function(de,ve){var Me=x.apply(ne,se);function ue($){c(Me,de,ve,ue,V,"next",$)}function V($){c(Me,de,ve,ue,V,"throw",$)}ue(void 0)})}}R.d(we,{Z:()=>Q})},7582:(st,we,R)=>{function ne(le,he){var pe={};for(var be in le)Object.prototype.hasOwnProperty.call(le,be)&&he.indexOf(be)<0&&(pe[be]=le[be]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(be=Object.getOwnPropertySymbols(le);Ce<be.length;Ce++)he.indexOf(be[Ce])<0&&Object.prototype.propertyIsEnumerable.call(le,be[Ce])&&(pe[be[Ce]]=le[be[Ce]])}return pe}function ie(le,he,pe,be){return new(pe||(pe=Promise))(function(Ne,Je){function Ge(jt){try{mt(be.next(jt))}catch(ct){Je(ct)}}function gn(jt){try{mt(be.throw(jt))}catch(ct){Je(ct)}}function mt(jt){jt.done?Ne(jt.value):function Ce(Ne){return Ne instanceof pe?Ne:new pe(function(Je){Je(Ne)})}(jt.value).then(Ge,gn)}mt((be=be.apply(le,he||[])).next())})}function oe(le){return this instanceof oe?(this.v=le,this):new oe(le)}function me(le,he,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,be=pe.apply(le,he||[]),Ne=[];return Ce={},Je("next"),Je("throw"),Je("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function Je(nn){be[nn]&&(Ce[nn]=function(cn){return new Promise(function(In,K){Ne.push([nn,cn,In,K])>1||Ge(nn,cn)})})}function Ge(nn,cn){try{!function gn(nn){nn.value instanceof oe?Promise.resolve(nn.value.v).then(mt,jt):ct(Ne[0][2],nn)}(be[nn](cn))}catch(In){ct(Ne[0][3],In)}}function mt(nn){Ge("next",nn)}function jt(nn){Ge("throw",nn)}function ct(nn,cn){nn(cn),Ne.shift(),Ne.length&&Ge(Ne[0][0],Ne[0][1])}}function Ee(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,he=le[Symbol.asyncIterator];return he?he.call(le):(le=function ke(le){var he="function"==typeof Symbol&&Symbol.iterator,pe=he&&le[he],be=0;if(pe)return pe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&be>=le.length&&(le=void 0),{value:le&&le[be++],done:!le}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),pe={},be("next"),be("throw"),be("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function be(Ne){pe[Ne]=le[Ne]&&function(Je){return new Promise(function(Ge,gn){!function Ce(Ne,Je,Ge,gn){Promise.resolve(gn).then(function(mt){Ne({value:mt,done:Ge})},Je)}(Ge,gn,(Je=le[Ne](Je)).done,Je.value)})}}}R.d(we,{FC:()=>me,KL:()=>Ee,_T:()=>ne,mG:()=>ie,qq:()=>oe}),"function"==typeof SuppressedError&&SuppressedError}},st=>{var we=c=>st(st.s=c);we(2614),we(4545)}]);